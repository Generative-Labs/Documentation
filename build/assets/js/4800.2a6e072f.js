/*! For license information please see 4800.2a6e072f.js.LICENSE.txt */
(self.webpackChunkchat_service_api_doc=self.webpackChunkchat_service_api_doc||[]).push([[4800],{3905:(e,t,n)=>{"use strict";n.d(t,{Zo:()=>l,kt:()=>p});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),d=u(n),p=a,h=d["".concat(c,".").concat(p)]||d[p]||f[p]||i;return n?r.createElement(h,s(s({ref:t},l),{},{components:n})):r.createElement(h,s({ref:t},l))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var u=2;u<i;u++)s[u]=n[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.curve25519=t.getSharedSecret=t.sync=t.verify=t.sign=t.getPublicKey=t.Signature=t.Point=t.RistrettoPoint=t.ExtendedPoint=t.CURVE=void 0;const r=n(3094),a=BigInt(0),i=BigInt(1),s=BigInt(2),o=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),c=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:o,n:o,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});t.CURVE=c;const u=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),f=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),d=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),p=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),h=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class m{constructor(e,t,n,r){this.x=e,this.y=t,this.z=n,this.t=r}static fromAffine(e){if(!(e instanceof _))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(_.ZERO)?m.ZERO:new m(e.x,e.y,i,A(e.x*e.y))}static toAffineBatch(e){const t=function(e,t=c.P){const n=new Array(e.length),r=P(e.reduce(((e,r,i)=>r===a?e:(n[i]=e,A(e*r,t))),i),t);return e.reduceRight(((e,r,i)=>r===a?e:(n[i]=A(e*n[i],t),A(e*r,t))),r),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){v(e);const{x:t,y:n,z:r}=this,{x:a,y:i,z:s}=e,o=A(t*s),c=A(a*r),u=A(n*s),l=A(i*r);return o===c&&u===l}negate(){return new m(A(-this.x),this.y,this.z,A(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:r}=c,a=A(e*e),i=A(t*t),o=A(s*A(n*n)),u=A(r*a),l=e+t,f=A(A(l*l)-a-i),d=u+i,p=d-o,h=u-i,v=A(f*p),g=A(d*h),y=A(f*h),w=A(p*d);return new m(v,g,w,y)}add(e){v(e);const{x:t,y:n,z:r,t:i}=this,{x:o,y:c,z:u,t:l}=e,f=A((n-t)*(c+o)),d=A((n+t)*(c-o)),p=A(d-f);if(p===a)return this.double();const h=A(r*s*l),g=A(i*s*u),y=g+h,w=d+f,b=g-h,_=A(y*p),x=A(w*b),E=A(y*b),k=A(p*w);return new m(_,x,k,E)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let r=this,a=r;for(let i=0;i<t;i++){a=r,n.push(a);for(let t=1;t<2**(e-1);t++)a=a.add(r),n.push(a);r=a.double()}return n}wNAF(e,t){!t&&this.equals(m.BASE)&&(t=_.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&b.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=m.normalizeZ(r),b.set(t,r)));let a=m.ZERO,s=m.ZERO;const o=1+256/n,c=2**(n-1),u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let d=0;d<o;d++){const t=d*c;let n=Number(e&u);if(e>>=f,n>c&&(n-=l,e+=i),0===n){let e=r[t];d%2&&(e=e.negate()),s=s.add(e)}else{let e=r[t+Math.abs(n)-1];n<0&&(e=e.negate()),a=a.add(e)}}return m.normalizeZ([a,s])[0]}multiply(e,t){return this.wNAF(V(e,c.l),t)}multiplyUnsafe(e){let t=V(e,c.l,!1);const n=m.BASE,r=m.ZERO;if(t===a)return r;if(this.equals(r)||t===i)return this;if(this.equals(n))return this.wNAF(t);let s=r,o=this;for(;t>a;)t&i&&(s=s.add(o)),o=o.double(),t>>=i;return s}isSmallOrder(){return this.multiplyUnsafe(c.h).equals(m.ZERO)}isTorsionFree(){return this.multiplyUnsafe(c.l).equals(m.ZERO)}toAffine(e=P(this.z)){const{x:t,y:n,z:r}=this,a=A(t*e),s=A(n*e);if(A(r*e)!==i)throw new Error("invZ was invalid");return new _(a,s)}fromRistrettoBytes(){y()}toRistrettoBytes(){y()}fromRistrettoHash(){y()}}function v(e){if(!(e instanceof m))throw new TypeError("ExtendedPoint expected")}function g(e){if(!(e instanceof w))throw new TypeError("RistrettoPoint expected")}function y(){throw new Error("Legacy method: switch to RistrettoPoint")}t.ExtendedPoint=m,m.BASE=new m(c.Gx,c.Gy,i,A(c.Gx*c.Gy)),m.ZERO=new m(a,i,i,a);class w{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=c,n=A(l*e*e),r=A((n+i)*p);let a=BigInt(-1);const s=A((a-t*n)*A(n+t));let{isValid:o,value:u}=R(r,s),d=A(u*e);O(d)||(d=A(-d)),o||(u=d),o||(a=n);const v=A(a*(n-i)*h-s),g=u*u,y=A((u+u)*s),w=A(v*f),b=A(i-g),_=A(i+g);return new m(A(y*_),A(b*w),A(w*_),A(y*b))}static hashToCurve(e){const t=B((e=F(e,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(t),r=B(e.slice(32,64)),a=this.calcElligatorRistrettoMap(r);return new w(n.add(a))}static fromHex(e){e=F(e,32);const{a:t,d:n}=c,r="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=B(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(S(s),e)||O(s))throw new Error(r);const o=A(s*s),u=A(i+t*o),l=A(i-t*o),f=A(u*u),d=A(l*l),p=A(t*n*f-d),{isValid:h,value:v}=D(A(p*d)),g=A(v*l),y=A(v*g*p);let b=A((s+s)*g);O(b)&&(b=A(-b));const _=A(u*y),x=A(b*_);if(!h||O(x)||_===a)throw new Error(r);return new w(new m(b,_,i,x))}toRawBytes(){let{x:e,y:t,z:n,t:r}=this.ep;const a=A(A(n+t)*A(n-t)),i=A(e*t),s=A(i*i),{value:o}=D(A(a*s)),c=A(o*a),u=A(o*i),f=A(c*u*r);let p;if(O(r*f)){let n=A(t*l),r=A(e*l);e=n,t=r,p=A(c*d)}else p=u;O(e*f)&&(t=A(-t));let h=A((n-t)*p);return O(h)&&(h=A(-h)),S(h)}toHex(){return C(this.toRawBytes())}toString(){return this.toHex()}equals(e){g(e);const t=this.ep,n=e.ep,r=A(t.x*n.y)===A(t.y*n.x),a=A(t.y*n.y)===A(t.x*n.x);return r||a}add(e){return g(e),new w(this.ep.add(e.ep))}subtract(e){return g(e),new w(this.ep.subtract(e.ep))}multiply(e){return new w(this.ep.multiply(e))}multiplyUnsafe(e){return new w(this.ep.multiplyUnsafe(e))}}t.RistrettoPoint=w,w.BASE=new w(m.BASE),w.ZERO=new w(m.ZERO);const b=new WeakMap;class _{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,b.delete(this)}static fromHex(e,t=!0){const{d:n,P:r}=c,a=(e=F(e,32)).slice();a[31]=-129&e[31];const s=L(a);if(t&&s>=r)throw new Error("Expected 0 < hex < P");if(!t&&s>=u)throw new Error("Expected 0 < hex < 2**256");const o=A(s*s),l=A(o-i),f=A(n*o+i);let{isValid:d,value:p}=R(l,f);if(!d)throw new Error("Point.fromHex: invalid y coordinate");const h=(p&i)===i;return 0!=(128&e[31])!==h&&(p=A(-p)),new _(p,s)}static async fromPrivateKey(e){return(await G(e)).point}toRawBytes(){const e=S(this.y);return e[31]|=this.x&i?128:0,e}toHex(){return C(this.toRawBytes())}toX25519(){const{y:e}=this;return S(A((i+e)*P(i-e)))}isTorsionFree(){return m.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new _(A(-this.x),this.y)}add(e){return m.fromAffine(this).add(m.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return m.fromAffine(this).multiply(e,this).toAffine()}}t.Point=_,_.BASE=new _(c.Gx,c.Gy),_.ZERO=new _(a,i);class x{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=F(e,64),n=_.fromHex(t.slice(0,32),!1),r=L(t.slice(32,64));return new x(n,r)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof _))throw new Error("Expected Point instance");return V(t,c.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(S(this.s),32),e}toHex(){return C(this.toRawBytes())}}function E(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let r=0,a=0;r<e.length;r++){const t=e[r];n.set(t,a),a+=t.length}return n}t.Signature=x;const k=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function C(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=k[e[n]];return t}function T(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,a=e.slice(r,r+2),i=Number.parseInt(a,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function N(e){return T(e.toString(16).padStart(64,"0"))}function S(e){return N(e).reverse()}function O(e){return(A(e)&i)===i}function L(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+C(Uint8Array.from(e).reverse()))}const I=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function B(e){return A(L(e)&I)}function A(e,t=c.P){const n=e%t;return n>=a?n:t+n}function P(e,t=c.P){if(e===a||t<=a)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=A(e,t),r=t,s=a,o=i,u=i,l=a;for(;n!==a;){const e=r/n,t=r%n,a=s-u*e,i=o-l*e;r=n,n=t,s=u,o=l,u=a,l=i}if(r!==i)throw new Error("invert: does not exist");return A(s,t)}function j(e,t){const{P:n}=c;let r=e;for(;t-- >a;)r*=r,r%=n;return r}function M(e){const{P:t}=c,n=BigInt(5),r=BigInt(10),a=BigInt(20),o=BigInt(40),u=BigInt(80),l=e*e%t*e%t,f=j(l,s)*l%t,d=j(f,i)*e%t,p=j(d,n)*d%t,h=j(p,r)*p%t,m=j(h,a)*h%t,v=j(m,o)*m%t,g=j(v,u)*v%t,y=j(g,u)*v%t,w=j(y,r)*p%t;return{pow_p_5_8:j(w,s)*e%t,b2:l}}function R(e,t){const n=A(t*t*t),r=A(n*n*t);let a=A(e*n*M(e*r).pow_p_5_8);const i=A(t*a*a),s=a,o=A(a*l),c=i===e,u=i===A(-e),f=i===A(-e*l);return c&&(a=s),(u||f)&&(a=o),O(a)&&(a=A(-a)),{isValid:c||u,value:a}}function D(e){return R(i,e)}function U(e){return A(L(e),c.l)}function F(e,t){const n=e instanceof Uint8Array?Uint8Array.from(e):T(e);if("number"==typeof t&&n.length!==t)throw new Error(`Expected ${t} bytes`);return n}function V(e,t,n=!0){if(!t)throw new TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t)if(n){if(a<e)return e}else if(a<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function H(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function K(e){if(32!==(e="bigint"==typeof e||"number"==typeof e?N(V(e,u)):F(e)).length)throw new Error("Expected 32 bytes");return e}function q(e){const t=H(e.slice(0,32)),n=e.slice(32,64),r=U(t),a=_.BASE.multiply(r),i=a.toRawBytes();return{head:t,prefix:n,scalar:r,point:a,pointBytes:i}}let W;function Z(...e){if("function"!=typeof W)throw new Error("utils.sha512Sync must be set to use sync methods");return W(...e)}async function G(e){return q(await t.utils.sha512(K(e)))}function z(e){return q(Z(K(e)))}function J(e,t,n){t=F(t),n instanceof _||(n=_.fromHex(n,!1));const{r:r,s:a}=e instanceof x?e.assertValidity():x.fromHex(e);return{r:r,s:a,SB:m.BASE.multiplyUnsafe(a),pub:n,msg:t}}function X(e,t,n,r){const a=U(r),i=m.fromAffine(e).multiplyUnsafe(a);return m.fromAffine(t).add(i).subtract(n).multiplyUnsafe(c.h).equals(m.ZERO)}function Y(e,t,n){const r=A(e*(t-n));return[t=A(t-r),n=A(n+r)]}t.getPublicKey=async function(e){return(await G(e)).pointBytes},t.sign=async function(e,n){e=F(e);const{prefix:r,scalar:a,pointBytes:i}=await G(n),s=U(await t.utils.sha512(r,e)),o=_.BASE.multiply(s),u=A(s+U(await t.utils.sha512(o.toRawBytes(),i,e))*a,c.l);return new x(o,u).toRawBytes()},t.verify=async function(e,n,r){const{r:a,SB:i,msg:s,pub:o}=J(e,n,r),c=await t.utils.sha512(a.toRawBytes(),o.toRawBytes(),s);return X(o,a,i,c)},t.sync={getExtendedPublicKey:z,getPublicKey:function(e){return z(e).pointBytes},sign:function(e,t){e=F(e);const{prefix:n,scalar:r,pointBytes:a}=z(t),i=U(Z(n,e)),s=_.BASE.multiply(i),o=A(i+U(Z(s.toRawBytes(),a,e))*r,c.l);return new x(s,o).toRawBytes()},verify:function(e,t,n){const{r:r,SB:a,msg:i,pub:s}=J(e,t,n),o=Z(r.toRawBytes(),s.toRawBytes(),i);return X(s,r,a,o)}},t.getSharedSecret=async function(e,n){const{head:r}=await G(e),a=_.fromHex(n).toX25519();return t.curve25519.scalarMult(r,a)},_.BASE._setWindowSize(8),t.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(e,t){const n=function(e,t){const{P:n}=c,r=V(e,n),s=V(t,n),o=BigInt(121665),u=r;let l,f=i,d=a,p=r,h=i,m=a;for(let c=BigInt(254);c>=a;c--){const e=s>>c&i;m^=e,l=Y(m,f,p),f=l[0],p=l[1],l=Y(m,d,h),d=l[0],h=l[1],m=e;const t=f+d,n=A(t*t),r=f-d,a=A(r*r),v=n-a,g=p+h,y=A((p-h)*t),w=A(g*r),b=y+w,_=y-w;p=A(b*b),h=A(u*A(_*_)),f=A(n*a),d=A(v*(n+A(o*v)))}l=Y(m,f,p),f=l[0],p=l[1],l=Y(m,d,h),d=l[0],h=l[1];const{pow_p_5_8:v,b2:g}=M(d),y=A(j(v,BigInt(3))*g);return A(f*y)}(function(e){const t=F(e,32);return t[31]&=127,L(t)}(t),L(H(F(e,32))));if(n===a)throw new Error("Invalid private or public key received");return function(e){return S(A(e,c.P))}(n)},scalarMultBase:e=>t.curve25519.scalarMult(e,t.curve25519.BASE_POINT_U)};const $={node:r,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0};t.utils={bytesToHex:C,hexToBytes:T,concatBytes:E,getExtendedPublicKey:G,mod:A,invert:P,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if((e=F(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return A(L(e),c.l-i)+i},randomBytes:(e=32)=>{if($.web)return $.web.getRandomValues(new Uint8Array(e));if($.node){const{randomBytes:t}=$.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.randomBytes(32),sha512:async(...e)=>{const t=E(...e);if($.web){const e=await $.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}if($.node)return Uint8Array.from($.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=_.BASE){const n=t.equals(_.BASE)?t:new _(t.x,t.y);return n._setWindowSize(e),n.multiply(s),n},sha512Sync:void 0},Object.defineProperties(t.utils,{sha512Sync:{configurable:!1,get:()=>W,set(e){W||(W=e)}}})},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),a=n(6026),i=n(4372),s=n(5327),o=n(4097),c=n(4109),u=n(7985),l=n(7874),f=n(2648),d=n(644),p=n(205);e.exports=function(e){return new Promise((function(t,n){var h,m=e.data,v=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete v["Content-Type"];var w=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+_)}var x=o(e.baseURL,e.url);function E(){if(w){var r="getAllResponseHeaders"in w?c(w.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:r,config:e,request:w};a((function(e){t(e),y()}),(function(e){n(e),y()}),i),w=null}}if(w.open(e.method.toUpperCase(),s(x,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=E:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(E)},w.onabort=function(){w&&(n(new f("Request aborted",f.ECONNABORTED,e,w)),w=null)},w.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,w,w)),w=null},w.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,w)),w=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||u(x))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;k&&(v[e.xsrfHeaderName]=k)}"setRequestHeader"in w&&r.forEach(v,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete v[t]:w.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),g&&"json"!==g&&(w.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&w.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){w&&(n(!e||e&&e.type?new d:e),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),m||(m=null);var C=p(x);C&&-1===["http","https","file"].indexOf(C)?n(new f("Unsupported protocol "+C+":",f.ERR_BAD_REQUEST,e)):w.send(m)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),a=n(1849),i=n(321),s=n(7185);var o=function e(t){var n=new i(t),o=a(i.prototype.request,n);return r.extend(o,i.prototype,n),r.extend(o,n),o.create=function(n){return e(s(t,n))},o}(n(5546));o.Axios=i,o.CanceledError=n(644),o.CancelToken=n(4903),o.isCancel=n(6502),o.VERSION=n(7288).version,o.toFormData=n(7675),o.AxiosError=n(2648),o.Cancel=o.CanceledError,o.all=function(e){return Promise.all(e)},o.spread=n(8713),o.isAxiosError=n(6268),e.exports=o,e.exports.default=o},4903:(e,t,n)=>{"use strict";var r=n(644);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},a.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},644:(e,t,n)=>{"use strict";var r=n(2648);function a(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(4867).inherits(a,r,{__CANCEL__:!0}),e.exports=a},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),a=n(5327),i=n(782),s=n(3572),o=n(7185),c=n(4097),u=n(4875),l=u.validators;function f(e){this.defaults=e,this.interceptors={request:new i,response:new i}}f.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!a){var f=[s,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(c),i=Promise.resolve(t);f.length;)i=i.then(f.shift(),f.shift());return i}for(var d=t;r.length;){var p=r.shift(),h=r.shift();try{d=p(d)}catch(m){h(m);break}}try{i=s(d)}catch(m){return Promise.reject(m)}for(;c.length;)i=i.then(c.shift(),c.shift());return i},f.prototype.getUri=function(e){e=o(this.defaults,e);var t=c(e.baseURL,e.url);return a(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(o(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},2648:(e,t,n)=>{"use strict";var r=n(4867);function a(e,t,n,r,a){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}r.inherits(a,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=a.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(a,s),Object.defineProperty(i,"isAxiosError",{value:!0}),a.from=function(e,t,n,s,o,c){var u=Object.create(i);return r.toFlatObject(e,u,(function(e){return e!==Error.prototype})),a.call(u,e.message,t,n,s,o),u.name=e.name,c&&Object.assign(u,c),u},e.exports=a},782:(e,t,n)=>{"use strict";var r=n(4867);function a(){this.handlers=[]}a.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},4097:(e,t,n)=>{"use strict";var r=n(1793),a=n(7303);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},3572:(e,t,n)=>{"use strict";var r=n(4867),a=n(8527),i=n(6502),s=n(5546),o=n(644);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function a(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return a(void 0,t[e])}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(void 0,t[n])}function c(n){return n in t?a(e[n],t[n]):n in e?a(void 0,e[n]):void 0}var u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,a=t(e);r.isUndefined(a)&&t!==c||(n[e]=a)})),n}},6026:(e,t,n)=>{"use strict";var r=n(2648);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),a=n(5546);e.exports=function(e,t,n){var i=this||a;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},5546:(e,t,n)=>{"use strict";var r=n(4867),a=n(6016),i=n(2648),s=n(7874),o=n(7675),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,f={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(5448)),l),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),s=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===s){var c=this.env&&this.env.FormData;return o(n?{"files[]":e}:e,c&&new c)}return i||"application/json"===s?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||f.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s){if("SyntaxError"===o.name)throw i.from(o,i.ERR_BAD_RESPONSE,this,null,this.response);throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){f.headers[e]=r.merge(c)})),e.exports=f},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.27.2"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(a(t)+"="+a(e))})))})),i=s.join("&")}if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,i,s){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(a)&&o.push("path="+a),r.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1623:e=>{e.exports=null},4109:(e,t,n)=>{"use strict";var r=n(4867),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&a.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||new FormData;var n=[];function a(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,s){if(r.isPlainObject(i)||r.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+s);n.push(i),r.forEach(i,(function(n,i){if(!r.isUndefined(n)){var o,c=s?s+"."+i:i;if(n&&!s&&"object"==typeof n)if(r.endsWith(i,"{}"))n=JSON.stringify(n);else if(r.endsWith(i,"[]")&&(o=r.toArray(n)))return void o.forEach((function(e){!r.isUndefined(e)&&t.append(c,a(e))}));e(n,c)}})),n.pop()}else t.append(s,a(i))}(e),t}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,a=n(2648),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new a(i(r," has been removed"+(t?" in "+t:"")),a.ERR_DEPRECATED);return t&&!s[r]&&(s[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new a("options must be an object",a.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var s=r[i],o=t[s];if(o){var c=e[s],u=void 0===c||o(c,s,e);if(!0!==u)throw new a("option "+s+" must be "+u,a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new a("Unknown option "+s,a.ERR_BAD_OPTION)}},validators:i}},4867:(e,t,n)=>{"use strict";var r,a=n(1849),i=Object.prototype.toString,s=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function o(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function c(e){return Array.isArray(e)}function u(e){return void 0===e}var l=o("ArrayBuffer");function f(e){return null!==e&&"object"==typeof e}function d(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=o("Date"),h=o("File"),m=o("Blob"),v=o("FileList");function g(e){return"[object Function]"===i.call(e)}var y=o("URLSearchParams");function w(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}var b,_=(b="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:c,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||i.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:f,isPlainObject:d,isUndefined:u,isDate:p,isFile:h,isBlob:m,isFunction:g,isStream:function(e){return f(e)&&g(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:w,merge:function e(){var t={};function n(n,r){d(t[r])&&d(n)?t[r]=e(t[r],n):d(n)?t[r]=e({},n):c(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)w(arguments[r],n);return t},extend:function(e,t,n){return w(t,(function(t,r){e[r]=n&&"function"==typeof t?a(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,a,i,s={};t=t||{};do{for(a=(r=Object.getOwnPropertyNames(e)).length;a-- >0;)s[i=r[a]]||(t[i]=e[i],s[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:o,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:_,isFileList:v}},1262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294),a=n(2389);function i(e){let{children:t,fallback:n}=e;return(0,a.Z)()?r.createElement(r.Fragment,null,null==t?void 0:t()):n??null}},4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=a.apply(null,n);s&&e.push(s)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},1094:(e,t,n)=>{var r;!function(){"use strict";var a="input is invalid type",i="object"==typeof window,s=i?window:{};s.JS_SHA3_NO_WINDOW&&(i=!1);var o=!i&&"object"==typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?s=n.g:o&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&e.exports,u=n.amdO,l=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,f="0123456789abcdef".split(""),d=[4,1024,262144,67108864],p=[0,8,16,24],h=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],v=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var w=function(e,t,n){return function(r){return new P(e,t,e).update(r)[n]()}},b=function(e,t,n){return function(r,a){return new P(e,t,a).update(r)[n]()}},_=function(e,t,n){return function(t,r,a,i){return T["cshake"+e].update(t,r,a,i)[n]()}},x=function(e,t,n){return function(t,r,a,i){return T["kmac"+e].update(t,r,a,i)[n]()}},E=function(e,t,n,r){for(var a=0;a<g.length;++a){var i=g[a];e[i]=t(n,r,i)}return e},k=function(e,t){var n=w(e,t,"hex");return n.create=function(){return new P(e,t,e)},n.update=function(e){return n.create().update(e)},E(n,w,e,t)},C=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:k},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:k},{name:"shake",padding:[31,7936,2031616,520093696],bits:v,createMethod:function(e,t){var n=b(e,t,"hex");return n.create=function(n){return new P(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},E(n,b,e,t)}},{name:"cshake",padding:d,bits:v,createMethod:function(e,t){var n=y[e],r=_(e,0,"hex");return r.create=function(r,a,i){return a||i?new P(e,t,r).bytepad([a,i],n):T["shake"+e].create(r)},r.update=function(e,t,n,a){return r.create(t,n,a).update(e)},E(r,_,e,t)}},{name:"kmac",padding:d,bits:v,createMethod:function(e,t){var n=y[e],r=x(e,0,"hex");return r.create=function(r,a,i){return new j(e,t,a).bytepad(["KMAC",i],n).bytepad([r],n)},r.update=function(e,t,n,a){return r.create(e,n,a).update(t)},E(r,x,e,t)}}],T={},N=[],S=0;S<C.length;++S)for(var O=C[S],L=O.bits,I=0;I<L.length;++I){var B=O.name+"_"+L[I];if(N.push(B),T[B]=O.createMethod(L[I],O.padding),"sha3"!==O.name){var A=O.name+L[I];N.push(A),T[A]=T[B]}}function P(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function j(e,t,n){P.call(this,e,t,n)}P.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(a);if(null===e)throw new Error(a);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||l&&ArrayBuffer.isView(e)))throw new Error(a);t=!0}for(var r,i,s=this.blocks,o=this.byteCount,c=e.length,u=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<u+1;++r)s[r]=0;if(t)for(r=this.start;f<c&&r<o;++f)s[r>>2]|=e[f]<<p[3&r++];else for(r=this.start;f<c&&r<o;++f)(i=e.charCodeAt(f))<128?s[r>>2]|=i<<p[3&r++]:i<2048?(s[r>>2]|=(192|i>>6)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]):i<55296||i>=57344?(s[r>>2]|=(224|i>>12)<<p[3&r++],s[r>>2]|=(128|i>>6&63)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++f)),s[r>>2]|=(240|i>>18)<<p[3&r++],s[r>>2]|=(128|i>>12&63)<<p[3&r++],s[r>>2]|=(128|i>>6&63)<<p[3&r++],s[r>>2]|=(128|63&i)<<p[3&r++]);if(this.lastByteIndex=r,r>=o){for(this.start=r-o,this.block=s[u],r=0;r<u;++r)d[r]^=s[r];M(d),this.reset=!0}else this.start=r}return this},P.prototype.encode=function(e,t){var n=255&e,r=1,a=[n];for(n=255&(e>>=8);n>0;)a.unshift(n),n=255&(e>>=8),++r;return t?a.push(r):a.unshift(r),this.update(a),a.length},P.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(a);if(null===e)throw new Error(a);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||l&&ArrayBuffer.isView(e)))throw new Error(a);t=!0}var r=0,i=e.length;if(t)r=i;else for(var s=0;s<e.length;++s){var o=e.charCodeAt(s);o<128?r+=1:o<2048?r+=2:o<55296||o>=57344?r+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++s)),r+=4)}return r+=this.encode(8*r),this.update(e),r},P.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var a=t-n%t,i=[];return i.length=a,this.update(i),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];M(r)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,a=this.extraBytes,i=0,s=0,o="";s<r;){for(i=0;i<t&&s<r;++i,++s)e=n[i],o+=f[e>>4&15]+f[15&e]+f[e>>12&15]+f[e>>8&15]+f[e>>20&15]+f[e>>16&15]+f[e>>28&15]+f[e>>24&15];s%t==0&&(M(n),i=0)}return a&&(e=n[i],o+=f[e>>4&15]+f[15&e],a>1&&(o+=f[e>>12&15]+f[e>>8&15]),a>2&&(o+=f[e>>20&15]+f[e>>16&15])),o},P.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,a=this.extraBytes,i=0,s=0,o=this.outputBits>>3;e=a?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);s<r;){for(i=0;i<t&&s<r;++i,++s)c[s]=n[i];s%t==0&&M(n)}return a&&(c[i]=n[i],e=e.slice(0,o)),e},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,a=this.outputBlocks,i=this.extraBytes,s=0,o=0,c=[];o<a;){for(s=0;s<n&&o<a;++s,++o)e=o<<2,t=r[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%n==0&&M(r)}return i&&(e=o<<2,t=r[s],c[e]=255&t,i>1&&(c[e+1]=t>>8&255),i>2&&(c[e+2]=t>>16&255)),c},j.prototype=new P,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var M=function(e){var t,n,r,a,i,s,o,c,u,l,f,d,p,m,v,g,y,w,b,_,x,E,k,C,T,N,S,O,L,I,B,A,P,j,M,R,D,U,F,V,H,K,q,W,Z,G,z,J,X,Y,$,Q,ee,te,ne,re,ae,ie,se,oe,ce,ue,le;for(r=0;r<48;r+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|o>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=a^(c<<1|u>>>31),n=i^(u<<1|c>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(l<<1|f>>>31),n=o^(f<<1|l>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=c^(d<<1|p>>>31),n=u^(p<<1|d>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=l^(a<<1|i>>>31),n=f^(i<<1|a>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],v=e[1],G=e[11]<<4|e[10]>>>28,z=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,L=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,j=e[2]<<1|e[3]>>>31,M=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,R=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,w=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,A=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,C=e[6]<<28|e[7]>>>4,T=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,Z=e[9]<<27|e[8]>>>5,N=e[18]<<20|e[19]>>>12,S=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,k=e[49]<<14|e[48]>>>18,e[0]=m^~g&w,e[1]=v^~y&b,e[10]=C^~N&O,e[11]=T^~S&L,e[20]=j^~R&U,e[21]=M^~D&F,e[30]=W^~G&J,e[31]=Z^~z&X,e[40]=te^~re&ie,e[41]=ne^~ae&se,e[2]=g^~w&_,e[3]=y^~b&x,e[12]=N^~O&I,e[13]=S^~L&B,e[22]=R^~U&V,e[23]=D^~F&H,e[32]=G^~J&Y,e[33]=z^~X&$,e[42]=re^~ie&oe,e[43]=ae^~se&ce,e[4]=w^~_&E,e[5]=b^~x&k,e[14]=O^~I&A,e[15]=L^~B&P,e[24]=U^~V&K,e[25]=F^~H&q,e[34]=J^~Y&Q,e[35]=X^~$&ee,e[44]=ie^~oe&ue,e[45]=se^~ce&le,e[6]=_^~E&m,e[7]=x^~k&v,e[16]=I^~A&C,e[17]=B^~P&T,e[26]=V^~K&j,e[27]=H^~q&M,e[36]=Y^~Q&W,e[37]=$^~ee&Z,e[46]=oe^~ue&te,e[47]=ce^~le&ne,e[8]=E^~m&g,e[9]=k^~v&y,e[18]=A^~C&N,e[19]=P^~T&S,e[28]=K^~j&R,e[29]=q^~M&D,e[38]=Q^~W&G,e[39]=ee^~Z&z,e[48]=ue^~te&re,e[49]=le^~ne&ae,e[0]^=h[r],e[1]^=h[r+1]};if(c)e.exports=T;else{for(S=0;S<N.length;++S)s[N[S]]=T[N[S]];u&&(void 0===(r=function(){return T}.call(t,n,t,e))||(e.exports=r))}}()},8347:(e,t,n)=>{"use strict";var r=n(7294),a=n(434),i=n(3935);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=s(r),c=s(a),u=s(i);function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f(e,t){return e(t={exports:{}},t.exports),t.exports}var d=l(f((function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}))),p=l(f((function(e){function t(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,i){var s=e.apply(n,r);function o(e){t(s,a,i,o,c,"next",e)}function c(e){t(s,a,i,o,c,"throw",e)}o(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}))),h=f((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports}));l(h);var m=f((function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports}));l(m);var v=f((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports}));l(v);var g=f((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}));l(g);var y=f((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));l(y);var w=l(f((function(e){e.exports=function(e,t){return h(e)||m(e,t)||g(e,t)||y()},e.exports.__esModule=!0,e.exports.default=e.exports}))),b=f((function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));l(b);var _=f((function(e){var t=b.default;function n(){e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var r={},a=Object.prototype,i=a.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),s=new T(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var o=E(s,n);if(o){if(o===p)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var p={};function h(){}function m(){}function v(){}var g={};l(g,o,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(N([])));w&&w!==a&&i.call(w,o)&&(g=w);var b=v.prototype=h.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,n){function r(a,s,o,c){var u=d(e[a],e,s);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==t(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):n.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,c)}))}c(u.arg)}var a;this._invoke=function(e,t){function i(){return new n((function(n,a){r(e,t,n,a)}))}return a=a?a.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=v,l(b,"constructor",v),l(v,"constructor",m),m.displayName=l(v,u,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},r.awrap=function(e){return{__await:e}},_(x.prototype),l(x.prototype,c,(function(){return this})),r.AsyncIterator=x,r.async=function(e,t,n,a,i){void 0===i&&(i=Promise);var s=new x(f(e,t,n,a),i);return r.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(b),l(b,u,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},r.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var o=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(o&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}));l(_);var x=_(),E=x;try{regeneratorRuntime=x}catch(r){"object"==typeof globalThis?globalThis.regeneratorRuntime=x:Function("r","regeneratorRuntime = r")(x)}var k,C=f((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)){if(a.length){var s=n.apply(null,a);s&&e.push(s)}}else if("object"===i)if(a.toString===Object.prototype.toString)for(var o in a)t.call(a,o)&&a[o]&&e.push(o);else e.push(a.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}));t.KU=void 0,(k=t.KU||(t.KU={})).pc="pc",k.h5="h5",k.mobile="mobile";var T=o.default.createContext(void 0),N=function(e){var t=e.children,n=e.value;return o.default.createElement(T.Provider,{value:n},t)},S=function(e){return r.useContext(T)||(console.warn("The useChatContext hook was called outside of the ChatContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ".concat(e," component.")),{})},O=o.default.memo((function(e){var n=e.children,a=e.client,i=e.appType,s=void 0===i?t.KU.pc:i,c=e.className,u=void 0===c?"":c,l=e.style,f=void 0===l?{}:l,h=e.logout,m=function(){var e=r.useState(!1),t=w(e,2);return{showCreateChannel:t[0],setShowCreateChannel:t[1]}}(),v=m.showCreateChannel,g=m.setShowCreateChannel,y=function(){var e=r.useState("room"),t=w(e,2);return{showListTypeView:t[0],setShowListTypeView:t[1]}}(),b=y.showListTypeView,_=y.setShowListTypeView,x=r.useState(null),k=w(x,2),T=k[0],S=k[1];r.useEffect((function(){O()}),[]);var O=r.useCallback(p(E.mark((function e(){var t;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.user.getMyProfile();case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)}))),[]),L=r.useMemo((function(){return{client:a,appType:s,userInfo:T,showCreateChannel:v,showListTypeView:b,setShowCreateChannel:g,setShowListTypeView:_,logout:h}}),[v,b,s,T]);return o.default.createElement(N,{value:L},o.default.createElement("div",{style:f,className:C(u,"index_chatContainer__b6cUf",d({},"index_mobileStyle__1SKOr",s!==t.KU.pc))},n))})),L=o.default.createContext(void 0),I=function(e){var t=e.children,n=e.value;return o.default.createElement(L.Provider,{value:n},t)},B=function(e){return r.useContext(L)||(console.warn("The useMessageInputContext hook was called outside of the MessageInputContext provider. Make sure this hook is called within the MessageInput's UI component. The errored call is located in the ".concat(e," component.")),{})},A=o.default.createContext(void 0),P=function(e){var t=e.children,n=e.value;return o.default.createElement(A.Provider,{value:n},t)},j=function(e){return r.useContext(A)||(console.warn("The useChannelStateContext hook was called outside of the ChannelStateContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ".concat(e," component.")),{})},M=function(e){var t=r.useState(e),n=w(t,2),a=n[0],i=n[1];return{input:{value:a,onChange:function(e){i(e.target.value)}},setValue:i}},R=function(e){return new Date(e/1e6).toLocaleString()||""},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base64";return new Promise((function(n){var r=new FileReader;switch(t){case"base64":r.readAsDataURL(e);break;case"buffer":r.readAsArrayBuffer(e);break;default:throw new Error("Woring")}r.onload=function(e){n(e)}}))},U=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16","vertical-align":"-0.2em",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M0.397052 0.553788L0.46967 0.46967C0.735936 0.203403 1.1526 0.179197 1.44621 0.397052L1.53033 0.46967L8 6.939L14.4697 0.46967C14.7626 0.176777 15.2374 0.176777 15.5303 0.46967C15.8232 0.762563 15.8232 1.23744 15.5303 1.53033L9.061 8L15.5303 14.4697C15.7966 14.7359 15.8208 15.1526 15.6029 15.4462L15.5303 15.5303C15.2641 15.7966 14.8474 15.8208 14.5538 15.6029L14.4697 15.5303L8 9.061L1.53033 15.5303C1.23744 15.8232 0.762563 15.8232 0.46967 15.5303C0.176777 15.2374 0.176777 14.7626 0.46967 14.4697L6.939 8L0.46967 1.53033C0.203403 1.26406 0.179197 0.8474 0.397052 0.553788L0.46967 0.46967L0.397052 0.553788Z"})))},F=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"25",height:"22",viewBox:"0 0 25 22",fill:"#BDBDBD",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M3.15186 3.06868L4.33559 9.87506H11.6394C12.2607 9.87506 12.7644 10.3787 12.7644 11.0001C12.7644 11.6214 12.2607 12.1251 11.6394 12.1251H4.33559L3.15186 18.9314L21.6584 11.0001L3.15186 3.06868ZM2.24746 11.0001L0.859855 3.02131C0.747679 2.37629 0.956391 1.71703 1.41933 1.25408C2.00101 0.672412 2.87823 0.503468 3.63434 0.827513L23.7379 9.4433C24.3605 9.7102 24.7643 10.3225 24.7643 11.0001C24.7643 11.6776 24.3605 12.2899 23.7379 12.5568L3.63434 21.1726C2.87823 21.4967 2.00101 21.3277 1.41933 20.7461C0.956391 20.2831 0.747678 19.6238 0.859855 18.9788L2.24746 11.0001Z"})))},V={messageInput:"index_messageInput__djuoG",chatAutoCompleteContainer:"index_chatAutoCompleteContainer__l2cne",mobileStyle:"index_mobileStyle__MNe8N",replyMessageBox:"index_replyMessageBox__QnVDu",sendmessageIcon:"index_sendmessageIcon__baZdQ",replyHistoryMessage:"index_replyHistoryMessage__fu1py",name:"index_name__eIcvO",time:"index_time__uFj2S",content:"index_content__cjHaK"},H=function(e){var n=e.rows,a=void 0===n?1:n,i=e.placeholder,s=void 0===i?"Send a Message":i,c=e.onChange,u=e.value,l=void 0===u?"":u,f=M(l),p=f.input,h=f.setValue,m=B("ChatAutoComplete"),v=m.isThread,g=m.sendMessage,y=m.closeReply,w=j("ChatAutoComplete").replyMsgInfo,b=S("ChatAutoComplete");b.client;var _=b.appType,x=c||p.onChange,E=l||p.value;r.useMemo((function(){null==w||w.from_uid}),[w]);var k=r.useCallback((function(e){var t=e.key,n=e.keyCode,r=e.metaKey;if("Enter"===t&&229!==n&&r)h(E+"\n");else if("Enter"===t&&229!==n){if(e.preventDefault(),""===E)return;g(E),h("")}}),[E,w]),T=r.useCallback((function(){E&&(g(E),h(""))}),[E,w]);return o.default.createElement("div",{className:C(V.chatAutoCompleteContainer,d({},V.mobileStyle,_!==t.KU.pc))},o.default.createElement("div",{className:V.replyMessageBox},w&&!v&&o.default.createElement("div",{className:V.replyHistoryMessage},o.default.createElement(U,{onClick:function(){y()}}),o.default.createElement("div",{className:V.dataInner},o.default.createElement("span",{className:V.time},R(w.created_at))),o.default.createElement("div",{className:V.content},null==w?void 0:w.msg_contents)),o.default.createElement("textarea",{value:E,onChange:x,className:V.messageInput,rows:a,placeholder:s,onKeyDown:k})),o.default.createElement(F,{className:V.sendmessageIcon,onClick:T}))},K=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",width:"200",height:"200"},o.default.createElement("defs",null,o.default.createElement("style",{type:"text/css"})),o.default.createElement("path",{d:"M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 160c70.4 0 128 57.6 128 128s-57.6 128-128 128-128-57.6-128-128 57.6-128 128-128z m236.8 507.733333c-23.466667 32-117.333333 100.266667-236.8 100.266667s-213.333333-68.266667-236.8-100.266667c-8.533333-10.666667-10.666667-21.333333-8.533333-32 29.866667-110.933333 130.133333-187.733333 245.333333-187.733333s215.466667 76.8 245.333333 187.733333c2.133333 10.666667 0 21.333333-8.533333 32z",fill:"#bfbfbf"}))},q={avatarContainer:"index_avatarContainer__ehIQj",circle:"index_circle__HuEIM",rounded:"index_rounded__WBji1",square:"index_square__cugGQ",avatarFallback:"index_avatarFallback__5YmpN",imgLoaded:"index_imgLoaded__-lDMP"};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=e.className,n=e.style,a=e.image,i=e.name,s=e.onClick,c=void 0===s?function(){}:s,u=e.onMouseOver,l=void 0===u?function(){}:u,f=e.shape,p=void 0===f?"circle":f,h=e.size,m=void 0===h?32:h,v=r.useState(!1),g=w(v,2),y=g[0],b=g[1],_=r.useState(!1),x=w(_,2),E=x[0],k=x[1];r.useEffect((function(){b(!1),k(!1)}),[a]);var T=((null==i?void 0:i.toString())||"").slice(0,1);return o.default.createElement("div",{className:C(t,q.avatarContainer,q[p]),onClick:c,onMouseOver:l,style:Z({flexBasis:"".concat(m,"px"),fontSize:"".concat(m/2,"px"),height:"".concat(m,"px"),lineHeight:"".concat(m,"px"),width:"".concat(m,"px")},n),title:i},a&&!y?o.default.createElement("img",{alt:T,className:C(q.img,d({},q.imgLoaded,E)),onError:function(){return b(!0)},onLoad:function(){return k(!0)},src:a,style:{flexBasis:"".concat(m,"px"),height:"".concat(m,"px"),objectFit:"cover",width:"".concat(m,"px")}}):o.default.createElement(K,null))},z=o.default.createContext(void 0),J=function(e){var t=e.children,n=e.value;return o.default.createElement(z.Provider,{value:n},t)},X=function(e){return r.useContext(z)||(console.warn("The useChatContext hook was called outside of the ChannelActionContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ".concat(e," component.")),{})},Y=o.default.createContext(void 0),$=function(e){var t=e.children,n=e.value;return o.default.createElement(Y.Provider,{value:n},t)},Q=function(e){return r.useContext(Y)||(console.warn("The useComponentContext hook was called outside of the ComponentContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ".concat(e," component.")),{})};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={messageList:null,threadList:null,message:null,replyMsgInfo:null,activeChannel:null,allThreadList:null,openAllThread:!1,msgLoading:!1,threadLoading:!1},re=function(e,t){switch(t.type){case"setMessageList":return te(te({},e),{},{messageList:t.messageList});case"openThread":return te(te({},e),{},{message:t.message});case"setThreadList":return te(te({},e),{},{threadList:t.threadList});case"setActiveChannel":return te(te({},e),{},{activeChannel:t.activeChannel});case"setAllThreadList":return te(te({},e),{},{allThreadList:t.allThreadList});case"setMsgLoading":return te(te({},e),{},{msgLoading:t.msgLoading});case"setThreadLoading":return te(te({},e),{},{threadLoading:t.threadLoading});case"setOpenAllThread":return te(te({},e),{},{openAllThread:t.openAllThread});case"setReplyMessage":return te(te({},e),{},{replyMsgInfo:t.replyMsgInfo});default:return e}},ae=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"18",height:"25",viewBox:"0 0 18 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M11.25 8.96497C11.25 10.2076 10.2426 11.215 9 11.215C7.75736 11.215 6.75 10.2076 6.75 8.96497C6.75 7.72232 7.75736 6.71497 9 6.71497C10.2426 6.71497 11.25 7.72232 11.25 8.96497ZM4.5 13.84V14.215C4.5 15.8718 5.84315 17.215 7.5 17.215H10.5C12.1569 17.215 13.5 15.8718 13.5 14.215V13.84C13.5 13.2186 12.9963 12.715 12.375 12.715H5.625C5.00368 12.715 4.5 13.2186 4.5 13.84ZM0 3.71497V21.715C0 23.3718 1.34315 24.715 3 24.715H17.25C17.6642 24.715 18 24.3792 18 23.965C18 23.5508 17.6642 23.215 17.25 23.215H3C2.17157 23.215 1.5 22.5434 1.5 21.715H16.5C17.3284 21.715 18 21.0434 18 20.215V3.71497C18 2.05811 16.6569 0.714966 15 0.714966H3C1.34315 0.714966 0 2.05811 0 3.71497ZM15 2.21497C15.8284 2.21497 16.5 2.88654 16.5 3.71497V20.215H1.5V3.71497C1.5 2.88654 2.17157 2.21497 3 2.21497H15Z"})))},ie=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M12 0.714294C18.6274 0.714294 24 6.08688 24 12.7143C24 19.3417 18.6274 24.7143 12 24.7143C10.0902 24.7143 8.24386 24.2671 6.58003 23.4233L6.399 23.3268L0.931636 24.692C0.466903 24.808 0.0393361 24.4696 0.00196481 24.03L0.00171196 23.9079L0.0223993 23.7824L1.3875 18.3168L1.29254 18.1373C0.609904 16.7921 0.186496 15.3276 0.0491198 13.8067L0.0110639 13.2338L0 12.7143C0 6.08688 5.37258 0.714294 12 0.714294ZM12 2.21429C6.20101 2.21429 1.5 6.91531 1.5 12.7143C1.5 14.5399 1.96582 16.296 2.84029 17.8516C2.9107 17.9768 2.94316 18.1187 2.93538 18.2603L2.91411 18.401L1.7805 22.9323L6.31656 21.8018C6.40941 21.7786 6.50493 21.7736 6.5981 21.7862L6.73546 21.818L6.86552 21.8756C8.42043 22.749 10.1756 23.2143 12 23.2143C17.799 23.2143 22.5 18.5133 22.5 12.7143C22.5 6.91531 17.799 2.21429 12 2.21429ZM12.75 14.2143C13.1642 14.2143 13.5 14.5501 13.5 14.9643C13.5 15.3325 13.2347 15.6387 12.8848 15.7022L12.75 15.7143H8.25C7.83579 15.7143 7.5 15.3785 7.5 14.9643C7.5 14.5961 7.76531 14.2899 8.11519 14.2264L8.25 14.2143H12.75ZM15.75 9.7143C16.1642 9.7143 16.5 10.0501 16.5 10.4643C16.5 10.8325 16.2347 11.1387 15.8848 11.2022L15.75 11.2143H8.25C7.83579 11.2143 7.5 10.8785 7.5 10.4643C7.5 10.0961 7.76531 9.78988 8.11519 9.72638L8.25 9.7143H15.75Z"})))},se=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"70",height:"70",viewBox:"0 0 70 70",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("g",{filter:"url(#filter0_d_4442_10264)"},o.default.createElement("rect",{x:"15",y:"15",width:"40",height:"40",rx:"20",fill:"#615EF0"}),o.default.createElement("path",{d:"M43.125 35.5C43.125 36.2031 42.5391 36.7891 41.875 36.7891H36.25V42.4141C36.25 43.0781 35.6641 43.625 35 43.625C34.2969 43.625 33.75 43.0781 33.75 42.4141V36.7891H28.125C27.4219 36.7891 26.875 36.2031 26.875 35.5C26.875 34.8359 27.4219 34.2891 28.125 34.2891H33.75V28.6641C33.75 27.9609 34.2969 27.375 35 27.375C35.6641 27.375 36.25 27.9609 36.25 28.6641V34.2891H41.875C42.5391 34.25 43.125 34.8359 43.125 35.5Z",fill:"white"})),o.default.createElement("defs",null,o.default.createElement("filter",{id:"filter0_d_4442_10264",x:"0",y:"0",width:"70",height:"70",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.default.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.default.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.default.createElement("feOffset",null),o.default.createElement("feGaussianBlur",{stdDeviation:"7.5"}),o.default.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.default.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.254355 0 0 0 0 0.244132 0 0 0 0 0.741667 0 0 0 0.24 0"}),o.default.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4442_10264"}),o.default.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4442_10264",result:"shape"})))))},oe=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"23",height:"22",viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M20.1167 11H5.08337",stroke:"#120D26",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.default.createElement("path",{d:"M11.5 17.4163L5.08337 10.9997L11.5 4.58301",stroke:"#120D26",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))},ce=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.4793 5.24874C21.3846 2.44327 19.5037 0.5 16.717 0.5H9.57201L9.35435 0.504024C6.82775 0.598028 5.08687 2.33096 4.83833 4.8416C2.2316 5.04325 0.517334 7.02882 0.517334 9.79668V16.528C0.517334 19.4536 2.42202 21.5 5.28248 21.5H12.4259C15.0758 21.5 16.9072 19.7428 17.1621 17.1583C19.7728 16.9562 21.483 14.9735 21.483 12.2033V5.472L21.4793 5.24874ZM17.1926 15.7197C18.8995 15.5265 19.9763 14.2801 20.0497 12.4097L20.0537 12.2033V5.472C20.0537 3.38399 18.8458 2.01948 16.9127 1.93362L16.717 1.92931H9.57201C7.74341 1.92931 6.51456 3.04372 6.27847 4.82469H12.4267C15.2867 4.82469 17.1926 6.87158 17.1926 9.79668V15.7197ZM5.28166 6.254H12.4267C14.4736 6.254 15.7633 7.63908 15.7633 9.79668V16.528C15.7633 18.6854 14.473 20.0707 12.4259 20.0707H5.28248C3.23524 20.0707 1.94665 18.6862 1.94665 16.528V9.79668C1.94665 7.64252 3.24052 6.254 5.28166 6.254Z",fill:"#3B3B3B"})))},ue=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"21",height:"19",viewBox:"0 0 21 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M6.51416 0.929688C4.02916 0.929688 2.01416 2.94439 2.01416 5.42969C2.01416 7.91499 4.02916 9.92969 6.51416 9.92969C8.99916 9.92969 11.0142 7.91499 11.0142 5.42969C11.0142 2.94439 8.99916 0.929688 6.51416 0.929688ZM6.51416 2.92969C7.89516 2.92969 9.01416 4.04899 9.01416 5.42969C9.01416 6.81039 7.89516 7.92959 6.51416 7.92969C5.13316 7.92969 4.01416 6.81039 4.01416 5.42969C4.01416 4.04899 5.13316 2.92979 6.51416 2.92969ZM17.0142 6.92969C16.4622 6.92969 16.0142 7.37739 16.0142 7.92969V8.92969H15.0142C14.4622 8.92969 14.0142 9.37739 14.0142 9.92969C14.0142 10.482 14.4622 10.9297 15.0142 10.9297H16.0142V11.9297C16.0142 12.482 16.4622 12.9297 17.0142 12.9297C17.5662 12.9297 18.0142 12.482 18.0142 11.9297V10.9297H19.0142C19.5662 10.9297 20.0142 10.482 20.0142 9.92969C20.0142 9.37739 19.5662 8.92969 19.0142 8.92969H18.0142V7.92969C18.0142 7.37739 17.5662 6.92969 17.0142 6.92969ZM3.07616 11.2735C1.24216 12.0303 0.0141602 13.8858 0.0141602 15.9297V17.9297C0.0141602 18.482 0.46216 18.9297 1.01416 18.9297H12.0142C12.5662 18.9297 13.0142 18.482 13.0142 17.9297V15.9297C13.0142 13.9339 11.7792 12.1234 9.95216 11.3359C9.69416 11.2251 9.39516 11.2217 9.13916 11.3359C8.25416 11.7325 7.39216 11.9295 6.51416 11.9297C5.63916 11.9297 4.77415 11.7217 3.85815 11.3047C3.60615 11.1901 3.33216 11.1682 3.07616 11.2735ZM3.45216 13.3047C4.39616 13.6632 5.54516 13.9299 6.51416 13.9297C7.47516 13.9297 8.55715 13.7093 9.48315 13.3672C10.3852 13.882 11.0142 14.8291 11.0142 15.9297V16.9297H2.01416V15.9297C2.01416 14.765 2.66016 13.7682 3.45216 13.3047Z",fill:"#605DEC"})))},le=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M10.0142 0.998047C4.5162 0.998047 0.0141925 4.99904 0.0141925 9.99804C0.0141925 11.621 0.498193 13.193 1.38919 14.56C1.53119 14.779 1.65521 15.274 1.57621 15.748C1.49621 16.238 1.24019 16.717 0.733188 16.998C0.575187 17.086 0.0191925 17.33 0.0141925 17.998C0.00919248 18.666 0.585193 18.995 1.01419 18.998C2.0292 19.006 8.2672 18.998 10.0142 18.998C15.5122 18.998 20.0142 14.997 20.0142 9.99804C20.0142 4.99904 15.5122 0.998047 10.0142 0.998047ZM10.0142 2.99805C14.4572 2.99805 18.0142 6.16004 18.0142 9.99804C18.0142 13.836 14.4572 16.998 10.0142 16.998C8.6862 16.998 5.6382 16.998 3.2642 16.998C3.7232 16.045 3.6892 14.532 3.0452 13.467C2.3992 12.397 2.0142 11.227 2.0142 9.99804C2.0142 6.16004 5.5712 2.99805 10.0142 2.99805Z",fill:"#605DEC"})))},fe=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"21",height:"19",viewBox:"0 0 21 19",fill:"#424242",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M10.0137 0.467773C4.51537 0.467773 0.0136719 4.46877 0.0136719 9.46777C0.0136719 11.0398 0.455568 12.5678 1.29487 13.9048C1.74587 14.6238 1.78788 15.6468 1.10748 17.0298C0.798575 17.6578 1.22327 18.4018 1.91987 18.4678C3.27677 18.5968 4.42288 18.3688 5.98248 17.7178C7.22488 18.2018 8.62967 18.4678 10.0137 18.4678C15.5117 18.4678 20.0137 14.4658 20.0137 9.46777C20.0137 4.46877 15.5117 0.467773 10.0137 0.467773ZM10.0137 2.46777C14.4567 2.46777 18.0137 5.62977 18.0137 9.46777C18.0137 13.3058 14.4567 16.4678 10.0137 16.4678C8.73467 16.4678 7.50097 16.2138 6.38867 15.7178C6.13137 15.6028 5.83417 15.6048 5.57617 15.7178C4.65587 16.1208 4.13457 16.3408 3.45117 16.4368C3.82997 15.1318 3.55178 13.7498 2.98248 12.8428C2.34028 11.8198 2.01367 10.6578 2.01367 9.46777C2.01367 5.62977 5.57087 2.46777 10.0137 2.46777ZM7.51367 7.52978C6.68527 7.52978 6.01367 8.20178 6.01367 9.02978C6.01367 9.85878 6.68527 10.5298 7.51367 10.5298C7.64967 10.5298 7.85187 10.5138 8.04467 10.4368C7.92047 10.9428 7.70077 11.3218 7.38867 11.6868C7.20897 11.8958 7.24147 12.2258 7.45117 12.4048C7.66087 12.5848 7.96687 12.5588 8.13867 12.3428C8.92767 11.3498 9.24067 10.3708 9.01367 8.96777C8.86167 8.02777 8.24567 7.53078 7.51367 7.52978ZM12.5137 7.52978C11.6857 7.52978 11.0137 8.20178 11.0137 9.02978C11.0137 9.85878 11.6857 10.5298 12.5137 10.5298C12.6497 10.5298 12.8517 10.5138 13.0447 10.4368C12.9207 10.9428 12.7007 11.3218 12.3887 11.6868C12.2087 11.8958 12.2417 12.2258 12.4517 12.4048C12.6607 12.5848 12.9667 12.5588 13.1387 12.3428C13.9277 11.3498 14.2407 10.3708 14.0137 8.96777C13.8617 8.02777 13.2457 7.53078 12.5137 7.52978Z"})))},de=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"21",height:"19",viewBox:"0 0 21 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M6.51367 0.429688C4.02867 0.429688 2.01367 2.44439 2.01367 4.92969C2.01367 7.41499 4.02867 9.42969 6.51367 9.42969C8.99867 9.42969 11.0137 7.41499 11.0137 4.92969C11.0137 2.44439 8.99867 0.429688 6.51367 0.429688ZM6.51367 2.42969C7.89467 2.42969 9.01367 3.54899 9.01367 4.92969C9.01367 6.31039 7.89467 7.42959 6.51367 7.42969C5.13267 7.42969 4.01367 6.31039 4.01367 4.92969C4.01367 3.54899 5.13267 2.42979 6.51367 2.42969ZM17.0137 6.42969C16.4617 6.42969 16.0137 6.87739 16.0137 7.42969V8.42969H15.0137C14.4617 8.42969 14.0137 8.87739 14.0137 9.42969C14.0137 9.98199 14.4617 10.4297 15.0137 10.4297H16.0137V11.4297C16.0137 11.982 16.4617 12.4297 17.0137 12.4297C17.5657 12.4297 18.0137 11.982 18.0137 11.4297V10.4297H19.0137C19.5657 10.4297 20.0137 9.98199 20.0137 9.42969C20.0137 8.87739 19.5657 8.42969 19.0137 8.42969H18.0137V7.42969C18.0137 6.87739 17.5657 6.42969 17.0137 6.42969ZM3.07567 10.7735C1.24167 11.5303 0.0136719 13.3858 0.0136719 15.4297V17.4297C0.0136719 17.982 0.461672 18.4297 1.01367 18.4297H12.0137C12.5657 18.4297 13.0137 17.982 13.0137 17.4297V15.4297C13.0137 13.4339 11.7787 11.6234 9.95168 10.8359C9.69368 10.7251 9.39467 10.7217 9.13867 10.8359C8.25367 11.2325 7.39167 11.4295 6.51367 11.4297C5.63867 11.4297 4.77367 11.2217 3.85767 10.8047C3.60567 10.6901 3.33167 10.6682 3.07567 10.7735ZM3.45168 12.8047C4.39568 13.1632 5.54467 13.4299 6.51367 13.4297C7.47467 13.4297 8.55667 13.2093 9.48267 12.8672C10.3847 13.382 11.0137 14.3291 11.0137 15.4297V16.4297H2.01367V15.4297C2.01367 14.265 2.65968 13.2682 3.45168 12.8047Z",fill:"#424242"})))},pe=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M3.77896 11.0106L0.200012 7.43161L3.77896 3.85266V6.71582H10.9369C11.7278 6.71582 12.3684 6.07519 12.3684 5.28424V1.70529C12.3684 1.31018 12.6891 0.989502 13.0842 0.989502C13.4793 0.989502 13.8 1.31018 13.8 1.70529V5.28424C13.8 6.86542 12.518 8.1474 10.9369 8.1474H3.77896V11.0106Z",fill:"white"})))},he=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"17",height:"21",viewBox:"0 0 17 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M4.99805 0.0141602C2.78895 0.0141602 0.998047 1.80506 0.998047 4.01416V16.0142C0.998047 18.2233 2.78895 20.0142 4.99805 20.0142H12.998C15.2071 20.0142 16.998 18.2233 16.998 16.0142V4.01416C16.998 1.80506 15.2071 0.0141602 12.998 0.0141602H4.99805ZM5.99805 3.01416H6.99805C7.55035 3.01416 7.99805 3.46186 7.99805 4.01416C7.99805 4.56646 7.55035 5.01416 6.99805 5.01416H5.99805C5.44575 5.01416 4.99805 4.56646 4.99805 4.01416C4.99805 3.46186 5.44575 3.01416 5.99805 3.01416ZM5.99805 6.01416H6.99805C7.55035 6.01416 7.99805 6.46186 7.99805 7.01416C7.99805 7.56646 7.55035 8.01416 6.99805 8.01416H5.99805C5.44575 8.01416 4.99805 7.56646 4.99805 7.01416C4.99805 6.46186 5.44575 6.01416 5.99805 6.01416ZM5.99805 9.01416H6.99805C7.55035 9.01416 7.99805 9.46186 7.99805 10.0142C7.99805 10.5665 7.55035 11.0142 6.99805 11.0142H5.99805C5.44575 11.0142 4.99805 10.5665 4.99805 10.0142C4.99805 9.46186 5.44575 9.01416 5.99805 9.01416ZM5.99805 12.0142H6.99805C7.55035 12.0142 7.99805 12.4619 7.99805 13.0142V15.0142C7.99805 15.5665 7.55035 16.0142 6.99805 16.0142H5.99805C5.44575 16.0142 4.99805 15.5665 4.99805 15.0142V13.0142C4.99805 12.4619 5.44575 12.0142 5.99805 12.0142Z",fill:"#605DEC"})))},me=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"16",height:"8",viewBox:"0 0 16 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M15.1094 0C15.2448 0 15.362 0.0494792 15.4609 0.148438C15.5599 0.247396 15.6094 0.364583 15.6094 0.5C15.6094 0.635417 15.5599 0.752604 15.4609 0.851562L8.46094 7.85156C8.36198 7.95052 8.24479 8 8.10938 8C7.97396 8 7.85677 7.95052 7.75781 7.85156L0.757812 0.851562C0.658854 0.752604 0.609375 0.635417 0.609375 0.5C0.609375 0.364583 0.658854 0.247396 0.757812 0.148438C0.856771 0.0494792 0.973958 0 1.10938 0C1.24479 0 1.36198 0.0494792 1.46094 0.148438L8.10938 6.78906L14.7578 0.148438C14.8568 0.0494792 14.974 0 15.1094 0Z",fill:"#252525"})))},ve=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("rect",{width:"16",height:"16",rx:"4",fill:"#605DEC"}),o.default.createElement("path",{d:"M12.0576 5.1875C12.1423 5.1875 12.222 5.2054 12.2969 5.24121C12.3717 5.27376 12.4368 5.31934 12.4922 5.37793C12.5508 5.43327 12.5964 5.49837 12.6289 5.57324C12.6647 5.64811 12.6826 5.72786 12.6826 5.8125C12.6826 5.98828 12.6224 6.13639 12.502 6.25684L7.3457 11.4131C7.22526 11.5335 7.07715 11.5938 6.90137 11.5938C6.72559 11.5938 6.57747 11.5335 6.45703 11.4131L3.48828 8.44434C3.36784 8.32389 3.30762 8.17578 3.30762 8C3.30762 7.91536 3.32389 7.83561 3.35645 7.76074C3.39225 7.68587 3.43783 7.62077 3.49316 7.56543C3.55176 7.50684 3.61849 7.46126 3.69336 7.42871C3.77148 7.3929 3.85124 7.375 3.93262 7.375C4.1084 7.375 4.25651 7.43522 4.37695 7.55566L6.90137 10.085L11.6133 5.36816C11.7337 5.24772 11.8818 5.1875 12.0576 5.1875Z",fill:"white"})))},ge=function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M9.00021 0C5.44791 0 3.00021 2.44801 3.00021 6.00002C3.00021 6.48502 3.00021 7.97003 3.00021 8.00003C3.00021 8.32203 2.8376 8.54103 2.2814 9.00003C2.2183 9.05203 1.95381 9.27903 1.87521 9.34403C0.609806 10.39 -0.0129945 11.37 0.000205464 13C0.0135055 14.648 1.35691 15.9811 3.00021 16.0001H6.17621C6.17621 16.0001 6.00021 16.6111 6.00021 17.0001C6.00021 18.6571 7.34321 20.0001 9.00021 20.0001C10.6572 20.0001 12.0002 18.6571 12.0002 17.0001C12.0002 16.6111 11.8322 16.0001 11.8322 16.0001H15.0002C16.6402 16.0061 18.0022 14.655 18.0002 13C17.9982 11.382 17.3742 10.385 16.1252 9.34403C16.0432 9.27503 15.7532 9.05403 15.6872 9.00003C15.1432 8.54603 15.0002 8.31803 15.0002 8.00003C15.0002 6.75002 15.0002 6.00002 15.0002 6.00002C15.0002 2.44801 12.5522 0 9.00021 0ZM9.00021 2.00001C11.4482 2.00001 13.0002 3.55201 13.0002 6.00002C13.0002 6.00002 13.0002 6.75002 13.0002 8.00003C13.0002 9.06203 13.4482 9.73204 14.4062 10.531C14.4822 10.594 14.8032 10.846 14.8752 10.906C15.7132 11.605 15.9992 12.078 16.0002 13C16.0012 13.544 15.5352 14.002 15.0002 14C14.8112 13.999 11.9002 13.999 9.00021 14C6.10051 14.001 3.21271 14.002 3.00021 14C2.44201 13.993 2.00471 13.555 2.00021 13C1.99281 12.08 2.27871 11.606 3.12521 10.906C3.19431 10.849 3.49001 10.591 3.56271 10.531C4.53591 9.72704 5.00021 9.07203 5.00021 8.00003C5.00021 7.97003 5.00021 6.48502 5.00021 6.00002C5.00021 3.55201 6.55251 2.00001 9.00021 2.00001ZM9.00021 16.0001C9.55221 16.0001 10.0002 16.4481 10.0002 17.0001C10.0002 17.5521 9.55221 18.0001 9.00021 18.0001C8.44821 18.0001 8.00021 17.5521 8.00021 17.0001C8.00021 16.4481 8.44821 16.0001 9.00021 16.0001Z",fill:"#424242"})))},ye=function(){var e=r.useState(!1),t=w(e,2),n=t[0],a=t[1];return{visible:n,show:function(){a(!0)},hide:function(){a(!1)},toggle:function(){a(!n)}}},we=function(e){var t=e.style,n=e.className,r=e.message,a=e.type,i={success:o.default.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"check-circle",width:"1em",height:"1em",fill:"#52c41a",className:"index_icon__FDzyt"},o.default.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}))};return o.default.createElement("div",{style:t,className:C(n,"index_toast__Yscgh")},a&&i[a],r)},be=function(e){return function(t,n){var r=document.querySelector("#toast-wrapper");r||((r=document.createElement("div")).setAttribute("id","toast-wrapper"),r.classList.add("index_toast-wrapper__es02h"),document.body.appendChild(r));var a=document.createElement("div");r.appendChild(a),u.default.render(o.default.createElement(we,c.default({message:t,type:e},n)),a),setTimeout((function(){var e,t;null===(e=r)||void 0===e||e.removeChild(a),0===(null===(t=r)||void 0===t?void 0:t.childNodes.length)&&document.body.removeChild(r)}),(null==n?void 0:n.duration)||2e3)}},_e=function(e,t){return be()(e,t)};_e.error=be("error"),_e.success=be("success"),_e.loading=be("loading");var xe="index_item__GHK6H",Ee="index_icon__nsMXU",ke="index_text__kWfw9",Ce=o.default.memo((function(e){var n,a=e.AvatarNode,i=e.userInfo,s=e.isTab,c=void 0!==s&&s,u=e.hasLogout,l=void 0!==u&&u,f=S("Profile"),h=f.userInfo,m=f.appType,v=f.logout,g=r.useState(!1),y=w(g,2),b=y[0],_=y[1],x=r.useRef(null),k=ye(),T=k.visible,N=k.toggle,O=k.hide,L=i||h||{},I=L.avatar_url,B=void 0===I?"":I,A=L.nickname,P=void 0===A?"":A,j=L.wallet_address,M=void 0===j?"":j,R=r.useCallback(p(E.mark((function e(){var t;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=M,navigator.clipboard.writeText(n).then((function(){return!0})).catch((function(){return!1}));case 2:t=e.sent,_(t),setTimeout((function(){_(!1)}),800);case 5:case"end":return e.stop()}var n}),e)}))),[M]),D=r.useCallback((function(e){x.current&&!x.current.contains(e.target)&&O()}),[x.current]),U=r.useCallback(p(E.mark((function e(){return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_e.success("Add contact success"),O();case 2:case"end":return e.stop()}}),e)}))),[]),F=r.useCallback(p(E.mark((function e(){return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O();case 1:case"end":return e.stop()}}),e)}))),[]);r.useEffect((function(){return document.addEventListener("click",D,!1),function(){document.removeEventListener("click",D,!1)}}),[]);var V=r.useCallback((function(){return o.default.createElement("div",{className:"index_opreraContainer__HhTxJ"},o.default.createElement("div",{className:xe,onClick:U},o.default.createElement(ue,{className:Ee}),o.default.createElement("span",{className:ke},"Add contact")),o.default.createElement("div",{className:xe,onClick:F},o.default.createElement(le,{className:Ee}),o.default.createElement("span",{className:ke},"Messages")))}),[l]),H=r.useCallback((function(){return o.default.createElement("div",{className:"index_platformContainer__QDwaB"},o.default.createElement("div",{className:"index_title__n4rCR"},"Accounts linked to my SwapChat"))}),[]),K=r.useCallback((function(){return m===t.KU.pc||c?null:o.default.createElement(oe,{className:"index_back__zb92n",onClick:O})}),[m,c]);return o.default.createElement("div",{className:"index_profileContainer__-DqaB",ref:x},a&&o.default.createElement("div",{className:"index_avatarNode__MOd-j",onClick:N},a),(T||!a)&&o.default.createElement("div",{className:C("index_main__bhASh",(n={},d(n,"index_mobileStyle__hKSXx",m!==t.KU.pc),d(n,"index_isTab__S6dem",c),n))},o.default.createElement(K,null),o.default.createElement(G,{className:"index_avatar__TkMn7",name:"user",image:B,size:46}),o.default.createElement("div",{className:"index_name__Ptlp7"},P),o.default.createElement("div",{className:"index_addressWarp__EJcgB"},o.default.createElement("span",{className:"index_address__ckgvT"},M),o.default.createElement(ce,{className:C("index_copyIcon__NviD0",d({},"index_copied__x-Kin",b)),onClick:R})),o.default.createElement(V,null),o.default.createElement(H,null),l&&o.default.createElement("div",{className:"index_logout__GTCLg",onClick:v},"Logout")))})),Te=function(e){var t=e.type,n=e.className,a=void 0===n?"":n,i=e.style,s=void 0===i?{}:i,c=r.useCallback((function(){return"spin"===t?o.default.createElement("div",{className:"index_spinLoading__9GSw1"},o.default.createElement("div",null),o.default.createElement("div",null),o.default.createElement("div",null)):o.default.createElement("div",{className:"index_defaultLoading__Cwu15"})}),[t]);return o.default.createElement("div",{style:s,className:C(a,"index_loadingContainer__fzCYD")},o.default.createElement(c,null))},Ne=o.default.createContext(void 0),Se=function(e){var t=e.children,n=e.value;return o.default.createElement(Ne.Provider,{value:n},t)},Oe=function(e){return r.useContext(Ne)||(console.warn("The useMessageContext hook was called outside of the MessageContext provider. Make sure this hook is called within the Message's UI component. The errored call is located in the ".concat(e," component.")),{})},Le=function(){var e=Oe("MessageInnerText"),t=e.isThread,n=e.message,a=e.handleOpenThread,i=n.is_thread,s=n.content,c=n.reply_to_msg_id,u=r.useCallback((function(){return o.default.createElement("div",null,n.reply_msg_info?o.default.createElement("div",{className:"index_replyMessage__SZ5zI",onClick:function(e){a(n,e)}},n.reply_msg_info.user_name,": ",n.reply_msg_info.msg_contents):o.default.createElement(Te,{className:"index_loading__3DfBb"}))}),[]),l=r.useCallback((function(e){return o.default.createElement("div",{className:"index_threadMessage__Fyu40",onClick:function(e){a(n,e)},style:{marginTop:e?"10px":"0"}},"More message")}),[]),f=r.useCallback((function(){var e=c,n=i&&!t;return e||n?o.default.createElement("div",{className:"index_extraBox__GpG-r"},o.default.createElement("div",{className:"index_extraFlag__tmuEv",style:{marginTop:e&&n?"-24px":""}},"\u21b5"),o.default.createElement("div",{className:"index_extraMain__BbmHU"},e&&u(),n&&l(e))):null}),[]);return o.default.createElement("div",{className:"index_textContainer__9Sa0t"},o.default.createElement("div",{className:"index_textInner__6Akke"},o.default.createElement("div",{className:"index_text__rW-tZ"},s)),o.default.createElement(f,null))},Ie=f((function(e){e.exports=function(e){if(Array.isArray(e))return v(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));l(Ie);var Be=f((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports}));l(Be);var Ae=f((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}));l(Ae);var Pe=l(f((function(e){e.exports=function(e){return Ie(e)||Be(e)||g(e)||Ae()},e.exports.__esModule=!0,e.exports.default=e.exports}))),je={popover:"index_popover__uIdXV",popoverBubble:"index_popoverBubble__jAd2W",popoverInner:"index_popoverInner__TxBSh",popoverArrow:"index_popoverArrow__VYZAI",popoverArrowContent:"index_popoverArrowContent__fUcMx"},Me=function(e){var t=e.className,n=e.style,r=e.children,a=e.content;return o.default.createElement("div",{className:C(t,je.popover),style:n},o.default.createElement("div",{className:je.popoverCom,style:{cursor:a?"pointer":"default"}},r),a&&o.default.createElement("div",{className:je.popoverBubble},o.default.createElement("div",{className:je.popoverInner},a),o.default.createElement("div",{className:je.popoverArrow},o.default.createElement("div",{className:je.popoverArrowContent}))))},Re="index_btn__853qP",De=function(e){var n=e.className,a=e.style,i=S("Message").appType,s=Oe("ActionBtns"),c=s.isThread,u=s.message,l=s.handleOpenThread,f=s.handleToReply,p=u.is_thread,h=r.useMemo((function(){return c?[]:[].concat(Pe(p?[]:[{key:"thread",com:o.default.createElement(fe,null),msg:"Reply in thread",onClick:function(e){l(u,e)}}]),[{key:"vector",com:o.default.createElement(pe,null),msg:"Reply",onClick:function(e){f(u,e)}}])}),[]);return o.default.createElement("div",{className:C(n,"index_actionBtns__lSceO",d({},"index_mobileStyle__OPSnA",i===t.KU.mobile)),style:a},h.map((function(e){var n=e.key,r=e.msg,a=e.com,s=e.onClick,c=void 0===s?function(){}:s;return i===t.KU.mobile?o.default.createElement("div",{key:n,className:Re,onClick:c},o.default.createElement("div",{className:"index_com__G3OG1"},a),o.default.createElement("div",{className:"index_msg__ya6tC"},r)):o.default.createElement(Me,{key:n,className:Re,content:r},o.default.createElement("div",{onClick:c},a))})))},Ue=function(){var e,n,a,i,s=Oe("MessageSimple"),u=s.isThread,l=s.message,f=S("MessageSimple"),p=f.client,h=f.appType,m=r.useState(!1),v=w(m,2),g=v[0],y=v[1],b=l.created_at,_=l.from_uid;l.msg_type;var x=l.belong_to_thread_id;l.is_opensea_item_thread;var E,k,T,N,O,L,I,B,A,P=p.channel.activeMember,j=void 0===P?{}:P,M=r.useRef(null),D=(T=(E={onStartCallback:function(){return y(!0)},onEndCallback:function(){return y(!1)},ref:M}).onStartCallback,N=E.onEndCallback,L=void 0===(O=E.ms)?1e3:O,I=E.ref,B=function(e){k&&window.clearTimeout(k),null==N||N(e)},A=r.useCallback((function(e){I.current&&!I.current.contains(e.target)&&B(e)}),[I.current]),r.useEffect((function(){return document.addEventListener("click",A,!1),document.addEventListener("touchstart",A,!1),function(){document.removeEventListener("click",A,!1),document.addEventListener("touchstart",A,!1)}}),[]),{onTouchStart:function(e){k=setTimeout((function(){return T(e)}),L)},onTouchMove:B,onTouchEnd:B});if(!u&&x)return null;var U=r.useCallback((function(){return o.default.createElement(Le,null)}),[]);return o.default.createElement("div",c.default({className:C("index_messageSimpleContainer__snIto",(e={},d(e,"index_mobileStyle__oLo5N",h!==t.KU.pc),d(e,"index_deviceMobileStyle__JR9Rg",h===t.KU.mobile),d(e,"index_deviceMobileShow__vGncS",g&&h===t.KU.mobile),e)),ref:M},D),o.default.createElement(Ce,{userInfo:j[_]||{},AvatarNode:o.default.createElement(G,{name:"user",image:(null===(n=j[_])||void 0===n?void 0:n.avatar)||"",size:h!==t.KU.pc?30:40})}),o.default.createElement("div",{className:C("index_message__qlEMP",d({},"index_hideMessageMargin__roCMd",u))},o.default.createElement("div",{className:"index_dataInner__5z-bX"},(null===(a=j[_])||void 0===a?void 0:a.user_name)&&o.default.createElement("span",{className:"index_name__0QRxZ"},(null===(i=j[_])||void 0===i?void 0:i.user_name)||""),o.default.createElement("span",null,R(b))),o.default.createElement(U,null)),!u&&o.default.createElement(De,{className:"index_actionBtns__nK6oS"}))},Fe=function(){var e=r.useState(!1),n=w(e,2),a=n[0],i=n[1],s=S("MsgInput").appType;return o.default.createElement("div",{className:C("MessageInputFlat_messageInputFlatContainer__8Uuq8",d({},"MessageInputFlat_mobileStyle__Fob-H",s!==t.KU.pc))},o.default.createElement("div",{className:"MessageInputFlat_inputContainer__eQHOR"},o.default.createElement("div",{className:"MessageInputFlat_messageIcon__IVjm0",onClick:function(){return i(!a)}}),o.default.createElement(H,null)),o.default.createElement("div",{className:C("MessageInputFlat_opreat__k5EdV",d({},"MessageInputFlat_showOperat__WED3w",a))},"do some think"))},Ve="index_closeBtn__v6qgP",He=o.default.memo((function(e){var n=e.title,r=e.close,a=e.appType,i=void 0===a?t.KU.pc:a;return o.default.createElement("div",{className:"index_threadHeaderContainer__i1iN3"},o.default.createElement("div",{className:"index_warp__A3pei"},i!==t.KU.pc&&o.default.createElement("div",{className:C(Ve,"index_arrowLeft__ATbUk"),onClick:r},o.default.createElement(oe,null)),o.default.createElement("div",{className:"index_title__BFWP8"},n)),i===t.KU.pc&&o.default.createElement("div",{className:Ve,onClick:r},"X"))}));function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var qe=function(e){var t=e.tabMaps,n=S(),r=n.setShowListTypeView,a=n.showListTypeView;return o.default.createElement("div",{className:"index_PcContainer__tXGn9"},o.default.createElement(Ce,{AvatarNode:o.default.createElement(G,{className:"index_userAvatar__u3Gqq",name:"user",size:56}),hasLogout:!0}),o.default.createElement("div",{className:"index_list__7NuTQ"},t.map((function(e){return o.default.createElement("div",{onClick:function(){return r&&r(e.type)},key:e.title,className:C("index_tabItem__CTTYr",d({},"index_selected__B1YPa",a===e.type))},o.default.createElement("div",{className:"index_icon__WkOj1"},e.icon),o.default.createElement("div",{className:"index_title__9x-a8"},e.title))}))))},We=function(e){var t=e.tabMaps,n=S(),r=n.setShowListTypeView,a=n.showListTypeView;return o.default.createElement("div",{className:"index_MobileContainer__-WOlD"},t.map((function(e){return o.default.createElement("div",{onClick:function(){return r&&r(e.type)},key:e.title,className:C("index_tabItem__ARXXs",d({},"index_selected__jsQsg",a===e.type))},o.default.createElement("div",{className:"index_icon__EG6-L"},e.icon),o.default.createElement("div",{className:"index_title__rmQHH"},e.title))})))},Ze=function(e){var t=e.image,n=e.text,r=e.type,a=void 0===r?"Error":r;return o.default.createElement("div",{className:"index_chatDownContainer__ON2Rv"},o.default.createElement("div",{className:"index_chatDownMain__HpiAq"},o.default.createElement("img",{alt:"Connection error","data-testid":"chatdown-img",src:t||"https://img1.baidu.com/it/u=3896087392,4020175061&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"}),o.default.createElement("h1",null,a),o.default.createElement("h3",{"aria-live":"assertive"},n||"Error connecting to chat, refresh the page to try again.")))},Ge=function(){return o.default.createElement("div",{className:"index_loadingChannelItem__8TJD6"},o.default.createElement("div",{className:"index_loadingChannelAvatar__3Ds-L"}),o.default.createElement("div",{className:"index_loadingChannelMeta__BxXzT"},o.default.createElement("div",{className:"index_loadingChannelUsername__1UFKQ"}),o.default.createElement("div",{className:"index_loadingChannelStatus__lkN7z"})))},ze=o.default.memo((function(){return o.default.createElement("div",{className:"index_loadingContainer__7gICe"},o.default.createElement(Ge,null),o.default.createElement(Ge,null),o.default.createElement(Ge,null))})),Je=function(e){var t=e.children,n=e.listRef,r=e.error,a=e.loading,i=e.LoadingErrorIndicator,s=void 0===i?Ze:i,c=e.LoadingIndicator,u=void 0===c?ze:c;return r?o.default.createElement(s,{type:"Connection Error"}):a?o.default.createElement(u,null):o.default.createElement("div",{className:"index_channelListMessengerContainer__4HLpJ",ref:n},t)};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e={page:1,size:20},Qe=o.default.memo((function(e){var n,r=e.lastMessage,a=e.unread,i=e.displayTitle,s=e.updatedAt,c=e.setActiveChannel,u=e.channel,l=e.active,f=e.avatarUrl,p=S(),h=p.setShowCreateChannel,m=p.showCreateChannel,v=p.appType;return o.default.createElement("div",{className:C("index_channelPreviewContainer__eMcYr",(n={},d(n,"index_selected__RDWMi",l),d(n,"index_mobileStyle__1to5V",v!==t.KU.pc),n)),onClick:function(){m&&h(!m),c&&c(u)}},o.default.createElement(G,{name:"user1",size:40,shape:"rounded",image:f}),o.default.createElement("div",{className:"index_wrapper__xgJiX"},o.default.createElement("div",{className:"index_previewTop__kakXN"},o.default.createElement("div",{className:"index_title__vVyhT"},i),o.default.createElement("div",{className:"index_updateTime__0Zms1"},s)),o.default.createElement("div",{className:"index_lastMessage__tWmCq"},r),0!==a&&o.default.createElement("div",{className:"index_unread__hHoxh"},a)))})),et=function(e){var t=e.Preview,n=void 0===t?Qe:t,r=e.channel,a=e.activeChannel,i=e.changeActiveChannelEvent,s=(null==a?void 0:a.chatid)===r.chatid,u=r.chatid,l=r.chat_name,f=r.avatar_url,d=r.avatar_base64;return o.default.createElement(n,c.default({},e,{active:s,channel:r,unread:0,displayTitle:l||u,lastMessage:"latestMsg",updatedAt:"updatedAt",setActiveChannel:i,avatarUrl:d||f}))},tt=o.default.memo((function(e){var t=e.listType;return"message"===t?null:o.default.createElement("div",{className:"index_emptyContainer__CpN08"},"channel"===t&&o.default.createElement("p",null,"You have no channels currently"),"contact"===t&&o.default.createElement("p",null,"You have no contact currently"))})),nt=o.default.memo((function(e){var t=e.children,n=e.element,a=e.showLoading,i=void 0!==a&&a,s=e.Loading,c=void 0===s?Te:s,u=e.loadNextPage,l=e.reverse,f=void 0!==l&&l,h=e.useCapture,m=void 0===h||h,v=r.useCallback(p(E.mark((function e(){var t,r,a,i;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.current){e.next=8;break}if(t=n.current,r=t.scrollHeight,a=t.clientHeight,i=t.scrollTop,!f||0!==i){e.next=7;break}return e.next=6,u();case 6:setTimeout((function(){t.scrollTop=g(t)-r}));case 7:f||r-i!==a||u();case 8:case"end":return e.stop()}}),e)}))),[]),g=r.useCallback((function(e){return e.scrollHeight}),[]);r.useEffect((function(){if(n&&n.current){var e=n.current;return g(e),e.addEventListener("scroll",v,m),function(){e.removeEventListener("scroll",v,m)}}}),[]);var y=r.useCallback((function(){return i?o.default.createElement(c,{className:C("index_loadBtn__Das5w",d({},"index_btnPosition__TPxl9",f)),type:"spin"}):null}),[i]);return o.default.createElement("div",{className:C("index_paginatorContainer__UBw2E",d({},"index_paddingTop__m-KzM",f))},!f&&t,o.default.createElement(y,null),f&&t)})),rt=function(e){var n=e.List,a=void 0===n?Je:n,i=e.DefaultEmptyStateIndicator,s=void 0===i?tt:i,c=e.Preview,u=e.Paginator,l=void 0===u?nt:u,f=S(),d=f.client,h=f.appType,m=r.useRef(null),v=function(e,n){var a=r.useState([]),i=w(a,2),s=i[0],o=i[1],c=r.useState(!1),u=w(c,2),l=u[0],f=u[1],d=r.useState(null),h=w(d,2),m=h[0],v=h[1],g=r.useState({error:!1,loading:!1}),y=w(g,2),b=y[0],_=y[1],x=function(){var t=p(E.mark((function t(){return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,e.channel.queryChannels($e);case 3:f(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(t){e.channel.setActiveChannel(t)},C=r.useCallback((function(r){var a=r.type,i=e.channel,s=i.channelList,c=i.activeChannel;s&&(c||0===s.length||n===t.KU.pc&&k(s[0]),"channel.activeChange"!==a?("channel.updated"===a&&o(s),"channel.getList"===a&&o(s),"channel.created"===a&&o(s),_(Ye(Ye({},b),{},{loading:!1}))):v(c))}),[]);return r.useEffect((function(){_(Ye(Ye({},b),{},{loading:!0})),x()}),[]),{status:b,channels:s,refreshing:l,loadNextPage:function(){var t;((null===(t=e.channel.channelList)||void 0===t?void 0:t.length)||0)<$e.size||($e.page++,x())},handleEvent:C,activeChannel:m,changeActiveChannelEvent:k,setActiveChannel:v}}(d,h),g=v.status,y=v.refreshing,b=v.channels,_=v.loadNextPage,x=v.handleEvent,k=v.activeChannel,C=v.changeActiveChannelEvent;return r.useEffect((function(){return d.on("channel.updated",x),d.on("channel.getList",x),d.on("channel.activeChange",x),d.on("channel.created",x),function(){d.off("channel.updated"),d.off("channel.getList"),d.off("channel.activeChange"),d.off("channel.created")}}),[]),o.default.createElement(a,{loading:g.loading,error:g.error,listRef:m},0===(null==b?void 0:b.length)?o.default.createElement(s,{listType:"channel"}):o.default.createElement(l,{element:m,showLoading:y,loadNextPage:_},null==b?void 0:b.map((function(e){var t={channel:e,Preview:c,key:e.topic,activeChannel:k,changeActiveChannelEvent:C};return o.default.createElement(et,t)}))))},at=function(e){var t=e.children,n=e.listRef,r=e.error,a=e.loading,i=e.LoadingErrorIndicator,s=void 0===i?Ze:i,c=e.LoadingIndicator,u=void 0===c?ze:c;return r?o.default.createElement(s,{type:"Connection Error"}):a?o.default.createElement(u,null):o.default.createElement("div",{className:"index_channelListMessengerContainer__9hCda",ref:n},t)};function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot={page:1,size:20},ct=o.default.memo((function(e){var t=e.Avatar,n=void 0===t?G:t,r=e.active,a=e.avatarUrl,i=e.title,s=e.setActiveContact,c=e.contact;return o.default.createElement("div",{className:C("index_channelPreviewContainer__96BC1",d({},"index_selected__2wVFX",r)),onClick:function(){s&&s(c)}},o.default.createElement("div",null,o.default.createElement(n,{name:"user1",image:a,size:40})),o.default.createElement("div",{className:"index_wrapper__jzWzp"},i))})),ut=function(e){var t=e.Preview,n=void 0===t?ct:t,a=e.contact,i=e.activeContact,s=e.changeActiveContactEvent;r.useEffect((function(){}),[]);var u=(null==i?void 0:i.userid)===a.userid,l=a.avatar,f=void 0===l?"":l,d=a.userid;return o.default.createElement(n,c.default({active:u,avatarUrl:f,title:d,setActiveContact:s},e))},lt=function(e){var t=e.List,n=void 0===t?at:t,a=e.DefaultEmptyStateIndicator,i=void 0===a?tt:a,s=e.Preview,c=e.Paginator,u=void 0===c?nt:c,l=S(),f=l.client;l.showListTypeView;var d=r.useRef(null),h=function(e){var t=r.useState([]),n=w(t,2),a=n[0],i=n[1],s=r.useState(!1),o=w(s,2),c=o[0],u=o[1],l=r.useState(null),f=w(l,2),d=f[0],h=f[1],m=r.useState({error:!1,loading:!1}),v=w(m,2),g=v[0],y=v[1],b=function(){var t=p(E.mark((function t(){return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,e.contact.getContactList(ot);case 3:u(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=r.useCallback((function(t){var n=t.type,r=e.contact.contactList;r&&("contact.getList"===n&&i(r),"contact.activeChange"!==n?"contact.updateList"!==n?y(st(st({},g),{},{loading:!1})):i(r):h(d))}),[]);return r.useEffect((function(){y(st(st({},g),{},{loading:!0})),b()}),[]),{status:g,contacts:a,refreshing:c,loadNextPage:function(){var t;((null===(t=e.contact.contactList)||void 0===t?void 0:t.length)||0)<ot.size||(ot.page++,b())},handleEvent:_,queryContacts:b,changeActiveContactEvent:function(e){},activeContact:d}}(f),m=h.status,v=h.contacts,g=h.refreshing,y=h.loadNextPage,b=h.handleEvent,_=h.activeContact,x=h.changeActiveContactEvent;return r.useEffect((function(){return f.on("contact.getList",b),f.on("contact.activeChange",b),f.on("contact.updateList",b),function(){f.off("contact.getList"),f.off("contact.activeChange")}}),[]),o.default.createElement(n,{loading:m.loading,error:m.error,listRef:d},0===(null==v?void 0:v.length)?o.default.createElement(i,{listType:"contact"}):o.default.createElement(u,{element:d,showLoading:g,loadNextPage:y},null==v?void 0:v.map((function(e){var t={contact:e,Preview:s,key:e.userid,activeContact:_,changeActiveContactEvent:x};return o.default.createElement(ut,t)}))))},ft=[{title:"Rooms",icon:o.default.createElement(ie,null),type:"room",component:o.default.createElement(rt,null)},{title:"Contact",icon:o.default.createElement(ae,null),type:"chat",component:o.default.createElement(lt,null)}],dt=[{title:"Rooms",icon:o.default.createElement(ie,null),type:"room",component:o.default.createElement(rt,null)},{title:"Contact",icon:o.default.createElement(ae,null),type:"chat",component:o.default.createElement(lt,null)},{title:"Profile",icon:o.default.createElement((function(e){return o.default.createElement("div",e,o.default.createElement("svg",{width:"22",height:"24",viewBox:"0 0 22 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",{d:"M11 0C7.68629 0 5 2.68629 5 6C5 9.31371 7.68629 12 11 12C14.3137 12 17 9.31371 17 6C17 2.68629 14.3137 0 11 0ZM6.5 6C6.5 3.51472 8.51472 1.5 11 1.5C13.4853 1.5 15.5 3.51472 15.5 6C15.5 8.48528 13.4853 10.5 11 10.5C8.51472 10.5 6.5 8.48528 6.5 6ZM3.51309 13.5C1.85473 13.5 0.5 14.8303 0.5 16.5C0.5 19.0368 1.74921 20.9495 3.70249 22.1949C5.62545 23.421 8.21789 24 11 24C13.7821 24 16.3745 23.421 18.2975 22.1949C20.2508 20.9495 21.5 19.0368 21.5 16.5C21.5 14.8434 20.1568 13.5 18.5001 13.5L3.51309 13.5ZM2 16.5C2 15.67 2.67179 15 3.51309 15L18.5 15C19.3283 15 20 15.6717 20 16.5C20 18.4632 19.0666 19.9255 17.4911 20.9301C15.8852 21.954 13.6027 22.5 11 22.5C8.39734 22.5 6.11477 21.954 4.50893 20.9301C2.9334 19.9255 2 18.4632 2 16.5Z"})))}),null),type:"profile",component:o.default.createElement(Ce,{isTab:!0,hasLogout:!0})}],pt=function(e){var t=e.isThread,n=void 0!==t&&t,a=e.message,i=e.Message,s=Q("Message").Message,c=X("Message"),u=c.handleOpenThread,l=c.handleToReply,f=i||s,d=r.useMemo((function(){return{isThread:n,message:a,handleOpenThread:u,handleToReply:l}}),[n,a]);return o.default.createElement(Se,{value:d},o.default.createElement(f,null))},ht=function(e){var t=e.Input,n=e.isThread,a=void 0!==n&&n,i=Q("Input").Input,s=j("ChatAutoComplete").replyMsgInfo,c=X("Input").closeReply,u=t||i,l=S("MessageInput").client,f=r.useCallback((function(e){l.message.sendMessage(e),s&&!a&&c()}),[s,a]),d=r.useMemo((function(){return{isThread:a,sendMessage:f,closeReply:c}}),[s]);return o.default.createElement(I,{value:d},o.default.createElement(u,null))},mt={page:1,size:20};function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt,wt=o.default.memo((function(e){e.isThread;var t=r.useRef(null),n=r.useRef(null),a=r.useCallback((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:t})}),[]),i=function(e,t){var n=r.useState([]),a=w(n,2),i=a[0],s=a[1],o=r.useState(!1),c=w(o,2),u=c[0],l=c[1],f=r.useState(!1),d=w(f,2),h=d[0],m=d[1],v=r.useCallback(p(E.mark((function t(){var n,r=arguments;return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,mt.page=n,l(!0),t.next=5,e.message.getMessageList(mt);case 5:l(!1);case 6:case"end":return t.stop()}}),t)}))),[]),g=r.useCallback(p(E.mark((function t(){var n;return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(((null===(n=e.message.messageList)||void 0===n?void 0:n.length)||0)<mt.size)){t.next=2;break}return t.abrupt("return");case 2:return mt.page++,m(!0),t.next=6,e.message.getMessageList(mt);case 6:m(!1);case 7:case"end":return t.stop()}}),t)}))),[]),y=r.useCallback((function(n){var r=n.type,a=e.message,o=a.messageList,c=a.msg_text;if(o&&("message.getList"===r&&(s(o),setTimeout((function(){t()}))),"message.delivered"===r)){var u=i||[];s([].concat(Pe(u),[{content:c,id:u.length+1}])),setTimeout((function(){t()}))}}),[i]);return r.useEffect((function(){return e.on("message.getList",y),e.on("message.delivered",y),function(){e.off("message.getList",y),e.off("message.delivered",y)}}),[i.length]),r.useEffect((function(){mt.page=1,v()}),[]),{msgListloading:u,loadMoreLoading:h,messageList:i,loadNextPage:g,setMessages:s}}(S("MessageList").client,a),s=i.msgListloading,u=i.loadMoreLoading,l=i.messageList,f=i.loadNextPage,d=function(e){var t=e.Message,n=e.messageList,a=t||pt;return r.useMemo((function(){return n?n.map((function(t){return o.default.createElement("li",{key:t.id},o.default.createElement(a,c.default({message:t},e)))})):null}),[JSON.stringify(n)])}(gt(gt({},e),{},{Message:e.Message,messageList:l}));return r.useEffect((function(){s||a()}),[s]),s?o.default.createElement("div",{className:"index_loadingContainer__NQ95d"},o.default.createElement(Te,null)):o.default.createElement("div",{className:"index_messageListcontainer__e1-6y",ref:t},o.default.createElement(nt,{reverse:!0,element:t,showLoading:u,loadNextPage:f},o.default.createElement("ul",{className:"index_chatUl__z5SNR"},d)),o.default.createElement("div",{ref:n}))})),bt={page:1,size:20},_t={modal:"index_modal__8hqpA",dialog:"index_dialog__-CY4G",mobileStyle:"index_mobileStyle__PXyyW",titleContainer:"index_titleContainer__Zh5W-",title:"index_title__slMUl",closeBtn:"index_closeBtn__wSgXt",rightBtn:"index_rightBtn__Gdrq2",enter:"index_enter__yf535",enterActive:"index_enterActive__JlTE1",enterDone:"index_enterDone__Uc1Qk",exit:"index_exit__j7YTj",exitActive:"index_exitActive__0X18R",exitDone:"index_exitDone__Czhm6",contentEnter:"index_contentEnter__vObje",contentEnterActive:"index_contentEnterActive__--0so",contentEnterDone:"index_contentEnterDone__NmBEt",contentExit:"index_contentExit__j47VF",contentExitActive:"index_contentExitActive__FIRqW",contentExitDone:"index_contentExitDone__MPb9B"},xt=o.default.memo((function(e){var n=e.visible,a=e.appType,s=void 0===a?t.KU.pc:a,c=e.closeModal,u=e.modalHeader,l=e.rightBtn,f=void 0===l?null:l,p=e.children,h=e.style,m=void 0===h?{}:h,v=e.className,g=void 0===v?"":v,y=e.title,b=void 0===y?"":y,_=e.dialogClassName,x=void 0===_?"":_,E=r.useState(!1),k=w(E,2),T=k[0],N=k[1],S=r.useState(""),O=w(S,2),L=O[0],I=O[1],B=r.useState(""),A=w(B,2),P=A[0],j=A[1],M=r.useRef(window.getComputedStyle(document.body).overflow);return r.useEffect((function(){return n?(document.body.style.overflow="hidden",N(!0),I("enter"),j("contentEnter"),setTimeout((function(){I("enterActive"),j("contentEnterActive")}))):(document.body.style.overflow=M.current,I("exit"),j("contentExit"),setTimeout((function(){I("exitActive"),j("contentExitActive")}))),function(){document.body.style.overflow=M.current}}),[n]),n||T?i.createPortal(o.default.createElement("div",{style:m,className:C(_t.modal,_t[L],g),onTransitionEnd:function(){I(n?"enterDone":"exitDone"),j(n?"contentEnterDone":"contentExitDone"),n||N(!1)},onClick:function(e){e.target===e.currentTarget&&c()}},o.default.createElement("div",{className:C(_t.dialog,x,_t[P],d({},_t.mobileStyle,s!==t.KU.pc))},u||o.default.createElement("div",{className:_t.titleContainer},o.default.createElement(U,{onClick:c,className:_t.closeBtn}),o.default.createElement("div",{className:_t.title},b),o.default.createElement("div",{className:_t.rightBtn},f)),p)),document.body):null})),Et={icon:"index_icon__BHsB7",inviteBtn:"index_inviteBtn__94wPo",selectMain:"index_selectMain__Vkxc1",label:"index_label__S5-3S",selectWarp:"index_selectWarp__95LW8",input:"index_input__5Am2E",selectItem:"index_selectItem__oUkQn",name:"index_name__CH62b",listContainer:"index_listContainer__Ou-GG",listTitle:"index_listTitle__GcObd",listWarp:"index_listWarp__Dzed-",listItem:"index_listItem__GqMwq"},kt=o.default.memo((function(){var e=r.useState(!1),n=w(e,2),a=n[0],i=n[1],s=r.useState(!1),c=w(s,2),u=c[0],l=c[1],f=r.useState([]),d=w(f,2),h=d[0],m=d[1],v=S("MessageHeader"),g=v.appType,y=v.client,b=j("MessageHeader").activeChannel,_=ye(),x=_.visible,k=_.show,C=_.hide,T=y.contact.contactList,N=function(e,t){var n=r.useState([]),a=w(n,2),i=a[0],s=a[1],o=r.useState(!1),c=w(o,2),u=c[0],l=c[1],f=r.useState(!1),d=w(f,2),h=d[0],m=d[1],v=function(){var t=p(E.mark((function t(){var n;return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,e.channel.getGroupMemberList(bt);case 3:n=t.sent,s(null==n?void 0:n.data.result),l(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=p(E.mark((function t(){var n;return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i.length||0)<bt.size)){t.next=2;break}return t.abrupt("return");case 2:return bt.page++,m(!0),t.next=6,e.channel.getGroupMemberList(bt);case 6:n=t.sent,s(null==n?void 0:n.data.result),m(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.useEffect((function(){t&&(bt.page=1,v())}),[t]),{memberList:i,memberListloading:u,loadMoreLoading:h,loadNextPage:g}}(y,x),O=N.memberList,L=r.useCallback((function(e,t){var n=t.map((function(e){return e.userid}));return e.filter((function(e){return!n.includes(e.userid)}))}),[]),I=r.useCallback((function(){l(!1),C(),i(!1),m([])}),[]),B=r.useCallback(p(E.mark((function e(){var t;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==h.length){e.next=2;break}return e.abrupt("return");case 2:return t=h.map((function(e){return e.userid})),l(!0),e.prev=4,e.next=7,y.channel.inviteGroupMember(t);case 7:I(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),l(!1);case 13:case"end":return e.stop()}}),e,null,[[4,10]])}))),[h.length]),A=r.useCallback((function(){if(!b||!T)return null;var e=a?L(T,O):O;return o.default.createElement("div",{className:Et.listWarp},e.map((function(e){return o.default.createElement("div",{className:Et.listItem,key:e.userid,onClick:function(){a&&!h.includes(e)&&m([].concat(Pe(h),[e]))}},o.default.createElement(G,{image:e.avatar}),o.default.createElement("div",{className:Et.name},e.userid))})))}),[b,T,a,h.length,O]);return o.default.createElement("div",{className:Et.addPeopleContainer},o.default.createElement("div",{className:Et.icon,onClick:k},o.default.createElement(de,null),g===t.KU.pc&&o.default.createElement("span",null,"Add People")),o.default.createElement(xt,{appType:g,visible:x,closeModal:I,rightBtn:u?o.default.createElement(Te,null):o.default.createElement("div",{className:Et.inviteBtn,onClick:B},"invite"),title:a?"New Group Chat":"Room Members"},o.default.createElement("div",{className:Et.selectMain},o.default.createElement("div",{className:Et.label},"To"),o.default.createElement("div",{className:Et.selectWarp},h.map((function(e){return o.default.createElement("div",{className:Et.selectItem,key:e.userid},o.default.createElement("div",{className:Et.name},e.userid),o.default.createElement(U,{style:{fontSize:10},onClick:function(){m(h.filter((function(t){return t.userid!==e.userid})))}}))})),o.default.createElement("input",{className:Et.input,type:"text",onFocus:function(){return i(!0)}}))),o.default.createElement("div",{className:Et.listContainer},o.default.createElement("div",{className:Et.listTitle},a?"contacts":"members"),o.default.createElement(A,null))))})),Ct=o.default.memo((function(e){var t=e.className,n=e.children;return o.default.createElement("div",{className:C("index_windowContainer__rccCr",t)},n)})),Tt=o.default.memo((function(e){var n=e.Input,r=e.Message,a=Q("Thread").ThreadHeader,i=j("Thread").message,s=X("Thread").closeThread,c=S("Thread").appType,u=wt;return i?o.default.createElement(Ct,{className:C("index_threadContainer__8jRiV",d({},"index_mobileStyle__1IYCp",c!==t.KU.pc))},o.default.createElement(a,{close:s,title:"Thread",appType:c}),o.default.createElement(pt,{isThread:!0,message:i,Message:r}),o.default.createElement(u,{isThread:!0}),o.default.createElement(ht,{isThread:!0,Input:n})):null})),Nt="CreateChannel_label__tjGiO",St=o.default.memo((function(e){var t=e.value,n=void 0===t?[]:t,a=e.onChange,i=e.className,s=e.style,c=r.useState("1"),u=w(c,2),l=u[0],f=u[1],p=r.useCallback((function(e){var t=e.id;f(t),a&&a(e)}),[a]),h=r.useCallback((function(e){return o.default.createElement("div",{className:"index_radio__GP6Co",key:e.id,onClick:function(){return p(e)}},o.default.createElement("div",{className:C("index_label__3L9JQ",d({},"index_selected__IckC6",l===e.id))},l===e.id&&o.default.createElement("div",{className:"index_inner__t4LBn"})),o.default.createElement("div",null,e.name))}),[l]);return o.default.createElement("div",{style:s,className:C(i,"index_radioGroupContainer__511S2")},n.map(h))}));!function(e){e.addFriends="1",e.createTopic="2",e.subscribeTopic="3",e.createRoom="4"}(yt||(yt={}));var Ot=[{id:yt.addFriends,name:"addFriends"},{id:yt.createTopic,name:"createTopic"},{id:yt.subscribeTopic,name:"subscribeTopic"},{id:yt.createRoom,name:"createRoom"}],Lt=o.default.memo((function(e){e.ChannelSelectItem;var t=S(),n=t.client,a=t.showCreateChannel,i=t.setShowCreateChannel,s=t.appType,u=r.useState(yt.addFriends),l=w(u,2),f=l[0],d=l[1],h=r.useState(void 0),m=w(h,2),v=m[0],g=m[1],y=M(""),b=y.input,_=y.setValue,x=b.value;r.useEffect((function(){a||(d("1"),_(""))}),[a]);var k=r.useCallback(function(){var e=p(E.mark((function e(t){var n;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],g(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),C=r.useCallback((function(e){d(e.id)}),[]),T=r.useCallback(p(E.mark((function e(){var t,r;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x||f===yt.createRoom){e.next=2;break}return e.abrupt("return");case 2:if(!(f===yt.subscribeTopic&&0!==x.indexOf("topic:")||f===yt.addFriends&&0!==x.indexOf("user:"))){e.next=5;break}return _e.error("Invalid format"),e.abrupt("return");case 5:if(f!==yt.addFriends){e.next=8;break}return e.next=8,n.contact.sendFriend(x);case 8:if(f!==yt.createTopic){e.next=11;break}return e.next=11,n.topic.createTopic(x);case 11:if(f!==yt.subscribeTopic){e.next=14;break}return e.next=14,n.topic.subscribeTopic(x);case 14:if(f!==yt.createRoom){e.next=22;break}if(!v){e.next=20;break}return e.next=18,D(v);case 18:r=e.sent,t=r.target.result;case 20:return e.next=22,n.channel.createRoom({group_name:x,avatar_base64:t});case 22:i(!1);case 23:case"end":return e.stop()}}),e)}))),[x,f,v]),N=r.useCallback((function(e){return"label"===e?"1"===f?"input userid":"2"===f?"input topic name":"3"===f?"input topicid":"input group name":"1"===f?"userid":"2"===f?"topic name":"3"===f?"topicid":"group name"}),[f]);return o.default.createElement(xt,{appType:s,visible:a,dialogClassName:"CreateChannel_createChannelModal__JKbzm",closeModal:function(){i(!1)}},o.default.createElement("div",{className:"CreateChannel_createChannelContainer__vvT4d"},o.default.createElement("div",{className:Nt},"Select Type"),o.default.createElement(St,{className:"CreateChannel_radioGroup__tr9RI",value:Ot,onChange:C}),o.default.createElement("div",{className:Nt},N("label")),o.default.createElement("input",c.default({type:"text",placeholder:N("placeholder")},b)),f===yt.createRoom&&o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:Nt}," upload avatar"),o.default.createElement("input",{type:"file",accept:"image/*",placeholder:"select image",onChange:k})),o.default.createElement("div",{className:"CreateChannel_submitBtn__TDknR",onClick:T},"Send")))})),It=function(){var e=r.useRef(null),t=S(),n=t.client,a=t.appType,i=ye(),s=i.visible,c=i.show,u=i.hide,l=function(e){var t=r.useState([]),n=w(t,2),a=n[0],i=n[1],s=r.useState(void 0),o=w(s,2),c=o[0];o[1];var u=r.useCallback((function(t){var n=t.type,r=e.notify.notificationList;r&&"notification.getList"===n&&i(r)}),[]),l=function(){var e=p(E.mark((function e(){return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{notifications:a,unReadCount:c,handleEvent:u,readNotification:l}}(n),f=l.notifications,d=l.unReadCount,h=l.handleEvent;r.useEffect((function(){return n.on("notification.messageNew",h),n.on("notification.getList",h),function(){n.off("notification.messageNew"),n.off("notification.getList")}}),[]),r.useMemo((function(){return n.contact.contactList,{}}),[]);var m=r.useCallback((function(){return o.default.createElement("div",{className:"index_modalHead__V9UDJ"},o.default.createElement("div",{className:"index_title__Fx6Ya"},"Notification"),o.default.createElement(U,{onClick:u,className:"index_closeBtn__huYAp"}))}),[]),v=r.useMemo((function(){if(f)return f.map((function(e,t){return o.default.createElement("li",{key:t,className:"index_notificationSimpleContainer__wewhl"},o.default.createElement(G,null),o.default.createElement("div",{className:"index_notification__30-Yg"},o.default.createElement("div",{className:"index_dataInner__fkSdu"},o.default.createElement("div",null,e.title),o.default.createElement("div",null,function(e,t){var n=new Date(e);t=t||"Y-m-d h:i:s";var r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds()};return t.replace(/\w/g,(function(e){var t=r[e.toLocaleLowerCase()];return t>10||!function(e){return/M|D|H|I|S/.test(e)}(e)?t:"0".concat(t)}))}(e.timestamp,"Y/M/D H:I:S"))),o.default.createElement("div",{className:"index_textContainer__bv7ww"},e.content)))}))}),[JSON.stringify(f)]);return o.default.createElement("div",{className:"index_receiveNotificationContainer__-juNr"},o.default.createElement(ge,{className:"index_iconBtn__gN4zt",onClick:function(){c()}}),d&&o.default.createElement("div",{className:"index_iconCount__HqqgG"},d<=99?d:"99+"),o.default.createElement(xt,{appType:a,visible:s,closeModal:u,modalHeader:o.default.createElement(m,null)},o.default.createElement("div",{className:"index_modalBody__Jyfxw",ref:e},o.default.createElement("ul",{className:"index_chatUl__TFOu4"},v))))},Bt=o.default.memo((function(){var e=S();e.client;var n=e.appType,r=e.showCreateChannel,a=e.setShowCreateChannel;return o.default.createElement("div",{className:C("index_channelHeadContainer__8iXM2",d({},"index_mobileStyle__3EWQ5",n!==t.KU.pc))},o.default.createElement("div",{className:"index_header__fN5Il"},o.default.createElement("span",{className:"index_title__75sfC"},"Chats"),o.default.createElement(It,null),o.default.createElement("button",{className:"index_btn__RNb0k",onClick:function(){a(!r)}},o.default.createElement(se,null))))})),At=o.default.memo((function(){var e=S("MessageSimple"),n=e.client,a=e.appType,i=j("AllThreadList"),s=i.allThreadList,c=i.threadLoading,u=i.openAllThread,l=X("AllThreadList"),f=l.closeAllThreadList,p=l.handleOpenThread,h=Q("AllThreadList").ThreadHeader,m=n.channel.activeMember,v=void 0===m?{}:m,g=r.useCallback((function(e){e.target===e.currentTarget&&f()}),[]);if(!u)return null;return o.default.createElement("div",{className:"index_mask__uoqV9",onClick:g},o.default.createElement("div",{className:C("index_allThreadListContainer__2W-HN",d({},"index_mobileStyle__F1tnQ",a!==t.KU.pc))},o.default.createElement(h,{close:f,title:"Thread",appType:a}),o.default.createElement((function(){return c||!s?o.default.createElement("div",{className:"index_loadingContainer__0neBA"},o.default.createElement(Te,null)):o.default.createElement("div",{className:"index_warp__tQSDd"},s.map((function(e){var t;return o.default.createElement("div",{className:"index_listItem__07oiQ",key:e.id,onClick:function(t){f(),p(e,t)}},o.default.createElement("div",{className:"index_symbol__rpgLT"},"#"),o.default.createElement(G,{className:"index_avatar__fgQHh",image:null===(t=v[e.from_uid])||void 0===t?void 0:t.avatar,size:40}),o.default.createElement("div",{className:"index_text__iYoBq"},e.msg_contents))})))}),null)))})),Pt={modalBtn:"index_modalBtn__T4Ak-",icon:"index_icon__6MIu0",title:"index_title__w8ETk",modalHead:"index_modalHead__opukB",closeBtn:"index_closeBtn__KBlm1",modalBody:"index_modalBody__jaaKS",label:"index_label__QZYCH",radioGroup:"index_radioGroup__-Zh3w",submitBtn:"index_submitBtn__jlujx",selectUserContainer:"index_selectUserContainer__Re9Vw",selectTopicContainer:"index_selectTopicContainer__-PdvJ",wrap:"index_wrap__PKl4m",input:"index_input__rH5w-",selectItemWarp:"index_selectItemWarp__rzchx",name:"index_name__PyElu",showListWarp:"index_showListWarp__TfXjB",showList:"index_showList__l2xOs",checkBoxItem:"index_checkBoxItem__aHT1e",id:"index_id__Hr9WH",unChecked:"index_unChecked__s8N9K",emptyContent:"index_emptyContent__FqFHP"};function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt,Dt={page:1,size:20},Ut=function(e){var t=e.onChange,n=ye(),a=n.visible,i=n.show,s=n.toggle,c=r.useState([]),u=w(c,2),l=u[0],f=u[1],d=function(e){var t=r.useState([]),n=w(t,2),a=n[0],i=n[1],s=r.useState(!1),o=w(s,2),c=o[0],u=o[1],l=r.useState({error:!1,loading:!1}),f=w(l,2),d=f[0],h=f[1],m=function(){var t=p(E.mark((function t(){return E.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,e.topic.getMyCreateTopicList(Dt);case 3:u(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=r.useCallback((function(t){var n=t.type,r=e.topic.myTopicList;r&&("notification.getMyTopicList"===n&&i(r),h(Mt(Mt({},d),{},{loading:!1})))}),[]);return r.useEffect((function(){return e.on("notification.getMyTopicList",v),function(){e.off("notification.getMyTopicList",v)}}),[]),r.useEffect((function(){Dt.page=1,h(Mt(Mt({},d),{},{loading:!0})),m()}),[]),{status:d,createTopicList:a,refreshing:c,loadNextPage:function(){var t;((null===(t=e.topic.myTopicList)||void 0===t?void 0:t.length)||0)<Dt.size||(Dt.page++,m())},handleEvent:v}}(S("SelectUser").client),h=d.createTopicList,m=r.useCallback((function(e,n){"delete"===n&&f((function(){var n=l.filter((function(t){return t.topicid!==e.topicid}));return t&&t(n),n})),"check"===n&&f((function(n){var r=[].concat(Pe(n),[e]);return t&&t(r),r}))}),[l.length]),v=r.useCallback((function(e){return o.default.createElement("div",{className:Pt.selectItemWarp,key:e.topicid},o.default.createElement("div",{className:Pt.name},e.topic_name),o.default.createElement(U,{style:{cursor:"pointer"},onClick:function(){return m(e,"delete")}}))}),[l.length]),g=r.useCallback((function(e){var t=l.includes(e);return o.default.createElement("div",{className:Pt.checkBoxItem,key:e.topicid,onClick:function(){return m(e,t?"delete":"check")}},t?o.default.createElement(ve,null):o.default.createElement("div",{className:Pt.unChecked}),o.default.createElement("div",{className:Pt.name},e.topic_name))}),[l.length]),y=r.useCallback((function(){return h?o.default.createElement("div",{className:Pt.showListWarp},o.default.createElement("div",{style:{display:a?"block":"none"},className:Pt.showList},0===h.length?o.default.createElement("div",{className:Pt.emptyContent},"no data list yet"):h.map(g))):null}),[a,g]);return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:Pt.selectTopicContainer},o.default.createElement("div",{className:Pt.wrap},l.map(v),o.default.createElement("input",{className:Pt.input,type:"text",placeholder:"Select topics",onFocus:i})),o.default.createElement(me,{onClick:s,className:Pt.icon,style:{transform:"rotateZ(".concat(a?180:0,"deg)")}})),o.default.createElement(y,null))};!function(e){e.notification="1"}(Rt||(Rt={}));var Ft=[{id:Rt.notification,name:"Notification"}];t.$W=function(e){var n=e.children,a=r.useRef(ne),i=r.useReducer(re,ne),s=w(i,2),c=s[0],u=s[1],l=S("Message"),f=l.client,h=l.appType,m=c.activeChannel;a.current=c;var v=r.useCallback((function(e){var t=e.type;"channel.activeChange"!==t&&"contact.activeChange"!==t||(u({type:"setActiveChannel",activeChannel:f.channel.activeChannel}),_(),k())}),[]);r.useEffect((function(){return f.on("channel.activeChange",v),f.on("contact.activeChange",v),function(){f.off("channel.activeChange"),f.off("contact.activeChange")}}),[]);var g=function(){var e=p(E.mark((function e(t,n){var r;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),(null===(r=a.current.message)||void 0===r?void 0:r.id)!==t.id){e.next=3;break}return e.abrupt("return");case 3:u({type:"openThread",message:t}),u({type:"setThreadLoading",threadLoading:!0}),u({type:"setThreadLoading",threadLoading:!1});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=p(E.mark((function e(t,n){return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),u({type:"setReplyMessage",replyMsgInfo:t});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=r.useCallback((function(){u({type:"setReplyMessage",replyMsgInfo:null})}),[]),_=function(){u({type:"openThread",message:null}),u({type:"setThreadList",threadList:null})},x=function(){var e=p(E.mark((function e(){return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({type:"setOpenAllThread",openAllThread:!0}),u({type:"setThreadLoading",threadLoading:!0}),u({type:"setThreadLoading",threadLoading:!1});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){u({type:"setOpenAllThread",openAllThread:!1})},T=r.useMemo((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c)}),[c]),N=r.useMemo((function(){return{dispatch:u,handleOpenThread:g,handleToReply:y,closeThread:_,handleOpenAllThread:x,closeAllThreadList:k,closeReply:b}}),[]),O=r.useMemo((function(){return{Message:e.Message||Ue,Input:e.Input||Fe,ThreadHeader:e.ThreadHeader||He}}),[]),L=r.useCallback((function(){return m?o.default.createElement("div",{className:C("index_chatContainerClass__YhxYB",d({},"index_mobileStyle__RtjeK",h!==t.KU.pc))},n):null}),[h,m]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(P,{value:T},o.default.createElement(J,{value:N},o.default.createElement($,{value:O},o.default.createElement(L,null)))))},t.en=O,t.i5=function(){return S().appType!==t.KU.pc?o.default.createElement(We,{tabMaps:dt}):o.default.createElement(qe,{tabMaps:ft})},t.or=function(e){var n=e.className,a=e.style,i=S("Main"),s=i.appType,c=i.showListTypeView,u=r.useMemo((function(){return s!==t.KU.pc?dt:ft}),[s]);return o.default.createElement("div",{style:a,className:C("index_mainContainer__dvsf-",n,d({},"index_mobileStyle__mCj-h",s!==t.KU.pc))},o.default.createElement(Bt,null),u.map((function(e){return o.default.createElement("div",{key:e.type,className:C("index_listItem__IaYh3",d({},"index_hide__BfmsY",e.type!==c))},e.component)})),o.default.createElement(Lt,null))},t.Ng=function(e){var n=j("MessageHeader").activeChannel,a=X("MessageHeader").handleOpenAllThread,i=S("MessageHeader"),s=i.appType,c=i.client,u=r.useCallback((function(){c.channel.setActiveChannel(null)}),[]);if(!n)return null;var l=n.chatid,f=n.chat_type,p=n.chat_name,h=n.avatar_url,m=n.avatar_base64,v=e.avatarName,g=void 0===v?"displayTitle":v,y=e.avatarImg,w=void 0===y?h||m:y,b=e.title,_=void 0===b?p||l:b,x=e.avatarSize,E=void 0===x?32:x;return o.default.createElement("div",{className:C("index_messageHeaderContainer__gNsv1",d({},"index_mobileStyle__8p-00",s!==t.KU.pc))},o.default.createElement("div",{className:"index_warp__e-Eyz"},s!==t.KU.pc&&o.default.createElement("div",{className:"index_close__XKThN",onClick:u},o.default.createElement(oe,null)),o.default.createElement(G,{name:g,size:E,shape:"rounded",image:w}),o.default.createElement("div",{className:"index_title__PpdUD"},_)),o.default.createElement("div",{className:"index_operationBar__KV2u0"},"group"===f&&o.default.createElement(kt,null),o.default.createElement("div",{className:"index_icon__N7VRW",onClick:a},o.default.createElement(fe,null),s===t.KU.pc&&o.default.createElement("span",null,"All Thread"))))},t.Ru=ht,t.rN=wt,t.u_=xt,t.Rz=Ct},9895:function(e,t,n){!function(e,t,n,r){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=a(n),s=a(r);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),s=new k(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var o=_(s,n);if(o){if(o===f)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function h(){}var m={};o(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&n.call(g,a)&&(m=g);var y=h.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(a,i,s,o){var c=l(e[a],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,o)}),(function(e){r("throw",e,s,o)})):t.resolve(f).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,o)}))}o(c.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,o(y,"constructor",h),o(h,"constructor",p),p.displayName=o(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),o(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var s=new b(c(t,n,r,a),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(y),o(y,s,"Generator"),o(y,a,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){l(i,r,a,s,o,"next",e)}function o(e){l(i,r,a,s,o,"throw",e)}s(void 0)}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function w(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}let T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),N=[];for(let kt=0;kt<T.length;kt++)N[T[kt].charCodeAt(0)]=kt;var S,O;function L(){let e=0,t=0;for(let r=0;r<28;r+=7){let n=this.buf[this.pos++];if(e|=(127&n)<<r,0==(128&n))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,0==(128&n))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let n=this.buf[this.pos++];if(t|=(127&n)<<r,0==(128&n))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function I(e,t,n){for(let i=0;i<28;i+=7){const r=e>>>i,a=!(r>>>7==0&&0==t),s=255&(a?128|r:r);if(n.push(s),!a)return}const r=e>>>28&15|(7&t)<<4,a=!(t>>3==0);if(n.push(255&(a?128|r:r)),a){for(let e=3;e<31;e+=7){const r=t>>>e,a=!(r>>>7==0),i=255&(a?128|r:r);if(n.push(i),!a)return}n.push(t>>>31&1)}}N["-".charCodeAt(0)]=T.indexOf("+"),N["_".charCodeAt(0)]=T.indexOf("/"),function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,r,a,i,s)=>{(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:a,wireType:i,data:s})},e.onWrite=(t,n,r)=>{for(let{no:a,wireType:i,data:s}of e.list(n))r.tag(a,i).raw(s)},e.list=(n,r)=>{if(t(n)){let t=n[e.symbol];return r?t.filter((e=>e.no==r)):t}return[]},e.last=(t,n)=>e.list(t,n).slice(-1)[0];const t=t=>t&&Array.isArray(t[e.symbol])}(S||(S={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(O||(O={}));const B=4294967296;function A(e){let t="-"==e[0];t&&(e=e.slice(1));const n=1e6;let r=0,a=0;function i(t,i){const s=Number(e.slice(t,i));a*=n,r=r*n+s,r>=B&&(a+=r/B|0,r%=B)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),[t,r,a]}function P(e,t){if(t<=2097151)return""+(B*t+e);let n=(e>>>24|t<<8)>>>0&16777215,r=t>>16&65535,a=(16777215&e)+6777216*n+6710656*r,i=n+8147497*r,s=2*r,o=1e7;function c(e,t){let n=e?String(e):"";return t?"0000000".slice(n.length)+n:n}return a>=o&&(i+=Math.floor(a/o),a%=o),i>=o&&(s+=Math.floor(i/o),i%=o),c(s,0)+c(i,s)+c(a,1)}function j(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function M(){let e=this.buf[this.pos++],t=127&e;if(0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,0==(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let n=5;0!=(128&e)&&n<10;n++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),t>>>0}const R=function(){const e=new DataView(new ArrayBuffer(8));return void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();function D(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const U=/^-?[0-9]+$/,F=4294967296;class V{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=this.hi*F+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class H extends V{static from(e){if(R)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=R.C(e);case"number":if(0===e)return this.ZERO;e=R.C(e);case"bigint":if(!e)return this.ZERO;if(e<R.UMIN)throw new Error("signed value for ulong");if(e>R.UMAX)throw new Error("ulong too large");return R.V.setBigUint64(0,e,!0),new H(R.V.getInt32(0,!0),R.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!U.test(e))throw new Error("string is no integer");let[t,n,r]=A(e);if(t)throw new Error("signed value");return new H(n,r);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new H(e,e/F)}throw new Error("unknown value "+typeof e)}toString(){return R?this.toBigInt().toString():P(this.lo,this.hi)}toBigInt(){return D(R),R.V.setInt32(0,this.lo,!0),R.V.setInt32(4,this.hi,!0),R.V.getBigUint64(0,!0)}}H.ZERO=new H(0,0);class K extends V{static from(e){if(R)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=R.C(e);case"number":if(0===e)return this.ZERO;e=R.C(e);case"bigint":if(!e)return this.ZERO;if(e<R.MIN)throw new Error("ulong too small");if(e>R.MAX)throw new Error("ulong too large");return R.V.setBigInt64(0,e,!0),new K(R.V.getInt32(0,!0),R.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!U.test(e))throw new Error("string is no integer");let[t,n,r]=A(e),a=new K(n,r);return t?a.negate():a;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new K(e,e/F):new K(-e,-e/F).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return 0!=(2147483648&this.hi)}negate(){let e=~this.hi,t=this.lo;return t?t=1+~t:e+=1,new K(t,e)}toString(){if(R)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+P(e.lo,e.hi)}return P(this.lo,this.hi)}toBigInt(){return D(R),R.V.setInt32(0,this.lo,!0),R.V.setInt32(4,this.hi,!0),R.V.getBigInt64(0,!0)}}K.ZERO=new K(0,0);const q={readUnknownField:!0,readerFactory:e=>new W(e)};class W{constructor(e,t){this.varint64=L,this.uint32=M,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0})}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case O.Varint:for(;128&this.buf[this.pos++];);break;case O.Bit64:this.pos+=4;case O.Bit32:this.pos+=4;break;case O.LengthDelimited:let t=this.uint32();this.pos+=t;break;case O.StartGroup:let n;for(;(n=this.tag()[1])!==O.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new K(...this.varint64())}uint64(){return new H(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,new K(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new H(this.sfixed32(),this.sfixed32())}sfixed64(){return new K(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function Z(e,t){if(!e)throw new Error(t)}function G(e){if("number"!=typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function z(e){if("number"!=typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function J(e){if("number"!=typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}const X={writeUnknownFields:!0,writerFactory:()=>new Y};class Y{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let t=new Uint8Array(e),n=0;for(let r=0;r<this.chunks.length;r++)t.set(this.chunks[r],n),n+=this.chunks[r].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(z(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return G(e),j(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){J(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){z(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){G(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return G(e),j(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=K.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=H.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=K.from(e);return I(t.lo,t.hi,this.buf),this}sint64(e){let t=K.from(e),n=t.hi>>31;return I(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=H.from(e);return I(t.lo,t.hi,this.buf),this}}const $={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},Q={ignoreUnknownFields:!1},ee=Symbol.for("protobuf-ts/message-type");function te(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let a=e.charAt(r);"_"==a?t=!0:/\d/.test(a)?(n.push(a),t=!0):t?(n.push(a.toUpperCase()),t=!1):0==r?n.push(a.toLowerCase()):n.push(a)}return n.join("")}var ne,re,ae;function ie(e){var t,n,r,a;return e.localName=null!==(t=e.localName)&&void 0!==t?t:te(e.name),e.jsonName=null!==(n=e.jsonName)&&void 0!==n?n:te(e.name),e.repeat=null!==(r=e.repeat)&&void 0!==r?r:ae.NO,e.opt=null!==(a=e.opt)&&void 0!==a?a:!e.repeat&&!e.oneof&&"message"==e.kind,e}function se(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return void 0!==e[e.oneofKind]&&2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}!function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(ne||(ne={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(re||(re={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(ae||(ae={}));class oe{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;const e=[],t=[],n=[];for(let r of this.fields)if(r.oneof)n.includes(r.oneof)||(n.push(r.oneof),e.push(r.oneof),t.push(r.oneof));else switch(t.push(r.localName),r.kind){case"scalar":case"enum":r.opt&&!r.repeat||e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName)}this.data={req:e,known:t,oneofs:Object.values(n)}}is(e,t,n=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let r=Object.keys(e),a=this.data;if(r.length<a.req.length||a.req.some((e=>!r.includes(e))))return!1;if(!n&&r.some((e=>!a.known.includes(e))))return!1;if(t<1)return!0;for(const i of a.oneofs){const r=e[i];if(!se(r))return!1;if(void 0===r.oneofKind)continue;const a=this.fields.find((e=>e.localName===r.oneofKind));if(!a)return!1;if(!this.field(r[r.oneofKind],a,n,t))return!1}for(const i of this.fields)if(void 0===i.oneof&&!this.field(e[i.localName],i,n,t))return!1;return!0}field(e,t,n,r){let a=t.repeat;switch(t.kind){case"scalar":return void 0===e?t.opt:a?this.scalars(e,t.T,r,t.L):this.scalar(e,t.T,t.L);case"enum":return void 0===e?t.opt:a?this.scalars(e,ne.INT32,r):this.scalar(e,ne.INT32);case"message":return void 0===e||(a?this.messages(e,t.T(),n,r):this.message(e,t.T(),n,r));case"map":if("object"!=typeof e||null===e)return!1;if(r<2)return!0;if(!this.mapKeys(e,t.K,r))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,r,t.V.L);case"enum":return this.scalars(Object.values(e),ne.INT32,r);case"message":return this.messages(Object.values(e),t.V.T(),n,r)}}return!0}message(e,t,n,r){return n?t.isAssignable(e,r):t.is(e,r)}messages(e,t,n,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(n){for(let a=0;a<e.length&&a<r;a++)if(!t.isAssignable(e[a],r-1))return!1}else for(let a=0;a<e.length&&a<r;a++)if(!t.is(e[a],r-1))return!1;return!0}scalar(e,t,n){let r=typeof e;switch(t){case ne.UINT64:case ne.FIXED64:case ne.INT64:case ne.SFIXED64:case ne.SINT64:switch(n){case re.BIGINT:return"bigint"==r;case re.NUMBER:return"number"==r&&!isNaN(e);default:return"string"==r}case ne.BOOL:return"boolean"==r;case ne.STRING:return"string"==r;case ne.BYTES:return e instanceof Uint8Array;case ne.DOUBLE:case ne.FLOAT:return"number"==r&&!isNaN(e);default:return"number"==r&&Number.isInteger(e)}}scalars(e,t,n,r){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e))for(let a=0;a<e.length&&a<n;a++)if(!this.scalar(e[a],t,r))return!1;return!0}mapKeys(e,t,n){let r=Object.keys(e);switch(t){case ne.INT32:case ne.FIXED32:case ne.SFIXED32:case ne.SINT32:case ne.UINT32:return this.scalars(r.slice(0,n).map((e=>parseInt(e))),t,n);case ne.BOOL:return this.scalars(r.slice(0,n).map((e=>"true"==e||"false"!=e&&e)),t,n);default:return this.scalars(r,t,n,re.STRING)}}}function ce(e,t){switch(t){case re.BIGINT:return e.toBigInt();case re.NUMBER:return e.toNumber();default:return e.toString()}}class ue{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap){this.fMap={};const t=null!==(e=this.info.fields)&&void 0!==e?e:[];for(const e of t)this.fMap[e.name]=e,this.fMap[e.jsonName]=e,this.fMap[e.localName]=e}}assert(e,t,n){if(!e){let e=C(n);throw"number"!=e&&"boolean"!=e||(e=n.toString()),new Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,n){this.prepare();const r=[];for(const[i,s]of Object.entries(e)){const e=this.fMap[i];if(!e){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${i}`);continue}const o=e.localName;let c;if(e.oneof){if(r.includes(e.oneof))throw new Error(`Multiple members of the oneof group "${e.oneof}" of ${this.info.typeName} are present in JSON.`);r.push(e.oneof),c=t[e.oneof]={oneofKind:o}}else c=t;if("map"==e.kind){if(null===s)continue;this.assert(null!==(a=s)&&"object"==typeof a&&!Array.isArray(a),e.name,s);const t=c[o];for(const[r,a]of Object.entries(s)){let i;switch(this.assert(null!==a,e.name+" map value",null),e.V.kind){case"message":i=e.V.T().internalJsonRead(a,n);break;case"enum":if(i=this.enum(e.V.T(),a,e.name,n.ignoreUnknownFields),!1===i)continue;break;case"scalar":i=this.scalar(a,e.V.T,e.V.L,e.name)}this.assert(void 0!==i,e.name+" map value",a);let s=r;e.K==ne.BOOL&&(s="true"==s||"false"!=s&&s),s=this.scalar(s,e.K,re.STRING,e.name).toString(),t[s]=i}}else if(e.repeat){if(null===s)continue;this.assert(Array.isArray(s),e.name,s);const t=c[o];for(const r of s){let a;switch(this.assert(null!==r,e.name,null),e.kind){case"message":a=e.T().internalJsonRead(r,n);break;case"enum":if(a=this.enum(e.T(),r,e.name,n.ignoreUnknownFields),!1===a)continue;break;case"scalar":a=this.scalar(r,e.T,e.L,e.name)}this.assert(void 0!==a,e.name,s),t.push(a)}}else switch(e.kind){case"message":if(null===s&&"google.protobuf.Value"!=e.T().typeName){this.assert(void 0===e.oneof,e.name+" (oneof member)",null);continue}c[o]=e.T().internalJsonRead(s,n,c[o]);break;case"enum":let t=this.enum(e.T(),s,e.name,n.ignoreUnknownFields);if(!1===t)continue;c[o]=t;break;case"scalar":c[o]=this.scalar(s,e.T,e.L,e.name)}}var a}enum(e,t,n,r){if("google.protobuf.NullValue"==e[0]&&Z(null===t,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return Z(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${t}.`),t;case"string":let a=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(a=t.substring(e[2].length));let i=e[1][a];return(void 0!==i||!r)&&(Z("number"==typeof i,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${t}".`),i)}Z(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,n,r){let a;try{switch(t){case ne.DOUBLE:case ne.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){a="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){a="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let r=Number(e);if(Number.isNaN(r)){a="not a number";break}if(!Number.isFinite(r)){a="too large or small";break}return t==ne.FLOAT&&J(r),r;case ne.INT32:case ne.FIXED32:case ne.SFIXED32:case ne.SINT32:case ne.UINT32:if(null===e)return 0;let i;if("number"==typeof e?i=e:""===e?a="empty string":"string"==typeof e&&(e.trim().length!==e.length?a="extra whitespace":i=Number(e)),void 0===i)break;return t==ne.UINT32?z(i):G(i),i;case ne.INT64:case ne.SFIXED64:case ne.SINT64:if(null===e)return ce(K.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return ce(K.from(e),n);case ne.FIXED64:case ne.UINT64:if(null===e)return ce(H.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return ce(H.from(e),n);case ne.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case ne.STRING:if(null===e)return"";if("string"!=typeof e){a="extra whitespace";break}try{encodeURIComponent(e)}catch(a){a="invalid UTF8";break}return e;case ne.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,r=new Uint8Array(t),a=0,i=0,s=0;for(let o=0;o<e.length;o++){if(n=N[e.charCodeAt(o)],void 0===n)switch(e[o]){case"=":i=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=n,i=1;break;case 1:r[a++]=s<<2|(48&n)>>4,s=n,i=2;break;case 2:r[a++]=(15&s)<<4|(60&n)>>2,s=n,i=3;break;case 3:r[a++]=(3&s)<<6|n,i=0}}if(1==i)throw Error("invalid base64 string.");return r.subarray(0,a)}(e)}}catch(e){a=e.message}this.assert(!1,r+(a?" - "+a:""),e)}}class le{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){const n={},r=e;for(const a of this.fields){if(!a.oneof){let e=this.field(a,r[a.localName],t);void 0!==e&&(n[t.useProtoFieldName?a.name:a.jsonName]=e);continue}const e=r[a.oneof];if(e.oneofKind!==a.localName)continue;const i="scalar"==a.kind||"enum"==a.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let s=this.field(a,e[a.localName],i);Z(void 0!==s),n[t.useProtoFieldName?a.name:a.jsonName]=s}return n}field(e,t,n){let r;if("map"==e.kind){Z("object"==typeof t&&null!==t);const a={};switch(e.V.kind){case"scalar":for(const[n,s]of Object.entries(t)){const t=this.scalar(e.V.T,s,e.name,!1,!0);Z(void 0!==t),a[n.toString()]=t}break;case"message":const r=e.V.T();for(const[s,o]of Object.entries(t)){const t=this.message(r,o,e.name,n);Z(void 0!==t),a[s.toString()]=t}break;case"enum":const i=e.V.T();for(const[s,o]of Object.entries(t)){Z(void 0===o||"number"==typeof o);const t=this.enum(i,o,e.name,!1,!0,n.enumAsInteger);Z(void 0!==t),a[s.toString()]=t}}(n.emitDefaultValues||Object.keys(a).length>0)&&(r=a)}else if(e.repeat){Z(Array.isArray(t));const a=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++){const r=this.scalar(e.T,t[n],e.name,e.opt,!0);Z(void 0!==r),a.push(r)}break;case"enum":const r=e.T();for(let s=0;s<t.length;s++){Z(void 0===t[s]||"number"==typeof t[s]);const i=this.enum(r,t[s],e.name,e.opt,!0,n.enumAsInteger);Z(void 0!==i),a.push(i)}break;case"message":const i=e.T();for(let s=0;s<t.length;s++){const r=this.message(i,t[s],e.name,n);Z(void 0!==r),a.push(r)}}(n.emitDefaultValues||a.length>0||n.emitDefaultValues)&&(r=a)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,n)}return r}enum(e,t,n,r,a,i){if("google.protobuf.NullValue"==e[0])return null;if(void 0!==t){if(0!==t||a||r)return Z("number"==typeof t),Z(Number.isInteger(t)),i||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}else Z(r)}message(e,t,n,r){return void 0===t?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}scalar(e,t,n,r,a){if(void 0===t)return void Z(r);const i=a||r;switch(e){case ne.INT32:case ne.SFIXED32:case ne.SINT32:return 0===t?i?0:void 0:(G(t),t);case ne.FIXED32:case ne.UINT32:return 0===t?i?0:void 0:(z(t),t);case ne.FLOAT:J(t);case ne.DOUBLE:return 0===t?i?0:void 0:(Z("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case ne.STRING:return""===t?i?"":void 0:(Z("string"==typeof t),t);case ne.BOOL:return!1===t?!i&&void 0:(Z("boolean"==typeof t),t);case ne.UINT64:case ne.FIXED64:Z("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let e=H.from(t);if(e.isZero()&&!i)return;return e.toString();case ne.INT64:case ne.SFIXED64:case ne.SINT64:Z("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let n=K.from(t);if(n.isZero()&&!i)return;return n.toString();case ne.BYTES:return Z(t instanceof Uint8Array),t.byteLength?function(e){let t,n="",r=0,a=0;for(let i=0;i<e.length;i++)switch(t=e[i],r){case 0:n+=T[t>>2],a=(3&t)<<4,r=1;break;case 1:n+=T[a|t>>4],a=(15&t)<<2,r=2;break;case 2:n+=T[a|t>>6],n+=T[63&t],r=0}return r&&(n+=T[a],n+="=",1==r&&(n+="=")),n}(t):i?"":void 0}}}function fe(e,t=re.STRING){switch(e){case ne.BOOL:return!1;case ne.UINT64:case ne.FIXED64:return ce(H.ZERO,t);case ne.INT64:case ne.SFIXED64:case ne.SINT64:return ce(K.ZERO,t);case ne.DOUBLE:case ne.FLOAT:return 0;case ne.BYTES:return new Uint8Array(0);case ne.STRING:return"";default:return 0}}class de{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map((e=>[e.no,e])))}}read(e,t,n,r){this.prepare();const a=void 0===r?e.len:e.pos+r;for(;e.pos<a;){const[r,a]=e.tag(),i=this.fieldNoToField.get(r);if(!i){let i=n.readUnknownField;if("throw"==i)throw new Error(`Unknown field ${r} (wire type ${a}) for ${this.info.typeName}`);let s=e.skip(a);!1!==i&&(!0===i?S.onRead:i)(this.info.typeName,t,r,a,s);continue}let s=t,o=i.repeat,c=i.localName;switch(i.oneof&&(s=s[i.oneof],s.oneofKind!==c&&(s=t[i.oneof]={oneofKind:c})),i.kind){case"scalar":case"enum":let t="enum"==i.kind?ne.INT32:i.T,r="scalar"==i.kind?i.L:void 0;if(o){let n=s[c];if(a==O.LengthDelimited&&t!=ne.STRING&&t!=ne.BYTES){let a=e.uint32()+e.pos;for(;e.pos<a;)n.push(this.scalar(e,t,r))}else n.push(this.scalar(e,t,r))}else s[c]=this.scalar(e,t,r);break;case"message":if(o){let t=s[c],r=i.T().internalBinaryRead(e,e.uint32(),n);t.push(r)}else s[c]=i.T().internalBinaryRead(e,e.uint32(),n,s[c]);break;case"map":let[u,l]=this.mapEntry(i,e,n);s[c][u]=l}}}mapEntry(e,t,n){let r,a,i=t.uint32(),s=t.pos+i;for(;t.pos<s;){let[i,s]=t.tag();switch(i){case 1:r=e.K==ne.BOOL?t.bool().toString():this.scalar(t,e.K,re.STRING);break;case 2:switch(e.V.kind){case"scalar":a=this.scalar(t,e.V.T,e.V.L);break;case"enum":a=t.int32();break;case"message":a=e.V.T().internalBinaryRead(t,t.uint32(),n)}break;default:throw new Error(`Unknown field ${i} (wire type ${s}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===r){let t=fe(e.K);r=e.K==ne.BOOL?t.toString():t}if(void 0===a)switch(e.V.kind){case"scalar":a=fe(e.V.T,e.V.L);break;case"enum":a=0;break;case"message":a=e.V.T().create()}return[r,a]}scalar(e,t,n){switch(t){case ne.INT32:return e.int32();case ne.STRING:return e.string();case ne.BOOL:return e.bool();case ne.DOUBLE:return e.double();case ne.FLOAT:return e.float();case ne.INT64:return ce(e.int64(),n);case ne.UINT64:return ce(e.uint64(),n);case ne.FIXED64:return ce(e.fixed64(),n);case ne.FIXED32:return e.fixed32();case ne.BYTES:return e.bytes();case ne.UINT32:return e.uint32();case ne.SFIXED32:return e.sfixed32();case ne.SFIXED64:return ce(e.sfixed64(),n);case ne.SINT32:return e.sint32();case ne.SINT64:return ce(e.sint64(),n)}}}class pe{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort(((e,t)=>e.no-t.no))}}write(e,t,n){this.prepare();for(const a of this.fields){let r,i,s=a.repeat,o=a.localName;if(a.oneof){const t=e[a.oneof];if(t.oneofKind!==o)continue;r=t[o],i=!0}else r=e[o],i=!1;switch(a.kind){case"scalar":case"enum":let e="enum"==a.kind?ne.INT32:a.T;if(s)if(Z(Array.isArray(r)),s==ae.PACKED)this.packed(t,e,a.no,r);else for(const n of r)this.scalar(t,e,a.no,n,!0);else void 0===r?Z(a.opt):this.scalar(t,e,a.no,r,i||a.opt);break;case"message":if(s){Z(Array.isArray(r));for(const e of r)this.message(t,n,a.T(),a.no,e)}else this.message(t,n,a.T(),a.no,r);break;case"map":Z("object"==typeof r&&null!==r);for(const[i,s]of Object.entries(r))this.mapEntry(t,n,a,i,s)}}let r=n.writeUnknownFields;!1!==r&&(!0===r?S.onWrite:r)(this.info.typeName,e,t)}mapEntry(e,t,n,r,a){e.tag(n.no,O.LengthDelimited),e.fork();let i=r;switch(n.K){case ne.INT32:case ne.FIXED32:case ne.UINT32:case ne.SFIXED32:case ne.SINT32:i=Number.parseInt(r);break;case ne.BOOL:Z("true"==r||"false"==r),i="true"==r}switch(this.scalar(e,n.K,1,i,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,a,!0);break;case"enum":this.scalar(e,ne.INT32,2,a,!0);break;case"message":this.message(e,t,n.V.T(),2,a)}e.join()}message(e,t,n,r,a){void 0!==a&&(n.internalBinaryWrite(a,e.tag(r,O.LengthDelimited).fork(),t),e.join())}scalar(e,t,n,r,a){let[i,s,o]=this.scalarInfo(t,r);o&&!a||(e.tag(n,i),e[s](r))}packed(e,t,n,r){if(!r.length)return;Z(t!==ne.BYTES&&t!==ne.STRING),e.tag(n,O.LengthDelimited),e.fork();let[,a]=this.scalarInfo(t);for(let i=0;i<r.length;i++)e[a](r[i]);e.join()}scalarInfo(e,t){let n,r=O.Varint,a=void 0===t,i=0===t;switch(e){case ne.INT32:n="int32";break;case ne.STRING:i=a||!t.length,r=O.LengthDelimited,n="string";break;case ne.BOOL:i=!1===t,n="bool";break;case ne.UINT32:n="uint32";break;case ne.DOUBLE:r=O.Bit64,n="double";break;case ne.FLOAT:r=O.Bit32,n="float";break;case ne.INT64:i=a||K.from(t).isZero(),n="int64";break;case ne.UINT64:i=a||H.from(t).isZero(),n="uint64";break;case ne.FIXED64:i=a||H.from(t).isZero(),r=O.Bit64,n="fixed64";break;case ne.BYTES:i=a||!t.byteLength,r=O.LengthDelimited,n="bytes";break;case ne.FIXED32:r=O.Bit32,n="fixed32";break;case ne.SFIXED32:r=O.Bit32,n="sfixed32";break;case ne.SFIXED64:i=a||K.from(t).isZero(),r=O.Bit64,n="sfixed64";break;case ne.SINT32:n="sint32";break;case ne.SINT64:i=a||K.from(t).isZero(),n="sint64"}return[r,n,a||i]}}function he(e,t,n){let r,a,i=n;for(let s of e.fields){let e=s.localName;if(s.oneof){const n=i[s.oneof];if(null==n)continue;if(r=n[e],a=t[s.oneof],a.oneofKind=n.oneofKind,null==r){delete a[e];continue}}else if(r=i[e],a=t,null==r)continue;switch(s.kind){case"scalar":case"enum":s.repeat?a[e]=r.concat():a[e]=r;break;case"message":let t=s.T();if(s.repeat)for(let n=0;n<r.length;n++)a[e][n]=t.create(r[n]);else void 0===a[e]?a[e]=t.create(r):t.mergePartial(a[e],r);break;case"map":switch(s.V.kind){case"scalar":case"enum":Object.assign(a[e],r);break;case"message":let t=s.V.T();for(let n of Object.keys(r))a[e][n]=t.create(r[n])}}}}const me=Object.values;function ve(e,t,n){if(t===n)return!0;if(e!==ne.BYTES)return!1;let r=t,a=n;if(r.length!==a.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!=a[i])return!1;return!0}function ge(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!ve(e,t[r],n[r]))return!1;return!0}function ye(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}class we{constructor(e,t,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(ie),this.options=null!=n?n:{},this.refTypeCheck=new oe(this),this.refJsonReader=new ue(this),this.refJsonWriter=new le(this),this.refBinReader=new de(this),this.refBinWriter=new pe(this)}create(e){let t=function(e){const t={};Object.defineProperty(t,ee,{enumerable:!1,value:e});for(let n of e.fields){let e=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[e]=[];else switch(n.kind){case"scalar":t[e]=fe(n.T,n.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}return t}(this);return void 0!==e&&he(this,t,e),t}clone(e){let t=this.create();return he(this,t,e),t}equals(e,t){return function(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let r of e.fields){let e=r.localName,a=r.oneof?t[r.oneof][e]:t[e],i=r.oneof?n[r.oneof][e]:n[e];switch(r.kind){case"enum":case"scalar":let e="enum"==r.kind?ne.INT32:r.T;if(!(r.repeat?ge(e,a,i):ve(e,a,i)))return!1;break;case"map":if(!("message"==r.V.kind?ye(r.V.T(),me(a),me(i)):ge("enum"==r.V.kind?ne.INT32:r.V.T,me(a),me(i))))return!1;break;case"message":let t=r.T();if(!(r.repeat?ye(t,a,i):t.equals(a,i)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){he(this,e,t)}fromBinary(e,t){let n=function(e){return e?Object.assign(Object.assign({},q),e):q}(t);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,t){return this.internalJsonRead(e,function(e){return e?Object.assign(Object.assign({},Q),e):Q}(t))}fromJsonString(e,t){let n=JSON.parse(e);return this.fromJson(n,t)}toJson(e,t){return this.internalJsonWrite(e,function(e){return e?Object.assign(Object.assign({},$),e):$}(t))}toJsonString(e,t){var n;let r=this.toJson(e,t);return JSON.stringify(r,null,null!==(n=null==t?void 0:t.prettySpaces)&&void 0!==n?n:0)}toBinary(e,t){let n=function(e){return e?Object.assign(Object.assign({},X),e):X}(t);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,t,n){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let r=null!=n?n:this.create();return this.refJsonReader.read(e,r,t),r}throw new Error(`Unable to parse message ${this.typeName} from JSON ${C(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,n){return this.refBinWriter.write(e,t,n),t}internalBinaryRead(e,t,n,r){let a=null!=r?r:this.create();return this.refBinReader.read(e,a,n,t),a}}var be=new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.ConnectCommand",[{no:1,name:"nodeId",kind:"scalar",T:9},{no:2,name:"userId",kind:"scalar",T:9},{no:3,name:"timestamp",kind:"scalar",T:4,L:0},{no:4,name:"msgSign",kind:"scalar",T:9}])}return h(n,[{key:"create",value:function(e){var t={nodeId:"",userId:"",timestamp:0n,msgSign:""};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.nodeId=e.string();break;case 2:a.userId=e.string();break;case 3:a.timestamp=e.uint64().toBigInt();break;case 4:a.msgSign=e.string();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.nodeId&&t.tag(1,O.LengthDelimited).string(e.nodeId),""!==e.userId&&t.tag(2,O.LengthDelimited).string(e.userId),0n!==e.timestamp&&t.tag(3,O.Varint).uint64(e.timestamp),""!==e.msgSign&&t.tag(4,O.LengthDelimited).string(e.msgSign);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we));new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.DisconnectCommand",[{no:1,name:"nodeId",kind:"scalar",T:9},{no:2,name:"userId",kind:"scalar",T:9},{no:3,name:"timestamp",kind:"scalar",T:4,L:0},{no:4,name:"msgSign",kind:"scalar",T:9}])}return h(n,[{key:"create",value:function(e){var t={nodeId:"",userId:"",timestamp:0n,msgSign:""};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.nodeId=e.string();break;case 2:a.userId=e.string();break;case 3:a.timestamp=e.uint64().toBigInt();break;case 4:a.msgSign=e.string();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.nodeId&&t.tag(1,O.LengthDelimited).string(e.nodeId),""!==e.userId&&t.tag(2,O.LengthDelimited).string(e.userId),0n!==e.timestamp&&t.tag(3,O.Varint).uint64(e.timestamp),""!==e.msgSign&&t.tag(4,O.LengthDelimited).string(e.msgSign);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we));var _e=new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.Web3MQRequestMessage",[{no:1,name:"payload",kind:"scalar",T:12},{no:2,name:"contentTopic",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:13},{no:4,name:"comeFrom",kind:"scalar",T:9},{no:5,name:"fromSign",kind:"scalar",T:9},{no:6,name:"payloadType",kind:"scalar",T:9},{no:7,name:"cipherSuite",kind:"scalar",T:9},{no:8,name:"needStore",kind:"scalar",T:8},{no:9,name:"timestamp",kind:"scalar",T:4,L:0},{no:10,name:"messageId",kind:"scalar",T:9},{no:11,name:"messageType",kind:"scalar",opt:!0,T:9},{no:12,name:"nodeId",kind:"scalar",T:9}])}return h(n,[{key:"create",value:function(e){var t={payload:new Uint8Array(0),contentTopic:"",version:0,comeFrom:"",fromSign:"",payloadType:"",cipherSuite:"",needStore:!1,timestamp:0n,messageId:"",nodeId:""};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.payload=e.bytes();break;case 2:a.contentTopic=e.string();break;case 3:a.version=e.uint32();break;case 4:a.comeFrom=e.string();break;case 5:a.fromSign=e.string();break;case 6:a.payloadType=e.string();break;case 7:a.cipherSuite=e.string();break;case 8:a.needStore=e.bool();break;case 9:a.timestamp=e.uint64().toBigInt();break;case 10:a.messageId=e.string();break;case 11:a.messageType=e.string();break;case 12:a.nodeId=e.string();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){e.payload.length&&t.tag(1,O.LengthDelimited).bytes(e.payload),""!==e.contentTopic&&t.tag(2,O.LengthDelimited).string(e.contentTopic),0!==e.version&&t.tag(3,O.Varint).uint32(e.version),""!==e.comeFrom&&t.tag(4,O.LengthDelimited).string(e.comeFrom),""!==e.fromSign&&t.tag(5,O.LengthDelimited).string(e.fromSign),""!==e.payloadType&&t.tag(6,O.LengthDelimited).string(e.payloadType),""!==e.cipherSuite&&t.tag(7,O.LengthDelimited).string(e.cipherSuite),!1!==e.needStore&&t.tag(8,O.Varint).bool(e.needStore),0n!==e.timestamp&&t.tag(9,O.Varint).uint64(e.timestamp),""!==e.messageId&&t.tag(10,O.LengthDelimited).string(e.messageId),void 0!==e.messageType&&t.tag(11,O.LengthDelimited).string(e.messageType),""!==e.nodeId&&t.tag(12,O.LengthDelimited).string(e.nodeId);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we)),xe=new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.Web3MQMessageStatusResp",[{no:1,name:"messageId",kind:"scalar",T:9},{no:2,name:"contentTopic",kind:"scalar",T:9},{no:3,name:"messageStatus",kind:"scalar",T:9},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"comeFrom",kind:"scalar",T:9},{no:6,name:"fromSign",kind:"scalar",T:9},{no:7,name:"timestamp",kind:"scalar",T:4,L:0}])}return h(n,[{key:"create",value:function(e){var t={messageId:"",contentTopic:"",messageStatus:"",version:"",comeFrom:"",fromSign:"",timestamp:0n};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.messageId=e.string();break;case 2:a.contentTopic=e.string();break;case 3:a.messageStatus=e.string();break;case 4:a.version=e.string();break;case 5:a.comeFrom=e.string();break;case 6:a.fromSign=e.string();break;case 7:a.timestamp=e.uint64().toBigInt();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.messageId&&t.tag(1,O.LengthDelimited).string(e.messageId),""!==e.contentTopic&&t.tag(2,O.LengthDelimited).string(e.contentTopic),""!==e.messageStatus&&t.tag(3,O.LengthDelimited).string(e.messageStatus),""!==e.version&&t.tag(4,O.LengthDelimited).string(e.version),""!==e.comeFrom&&t.tag(5,O.LengthDelimited).string(e.comeFrom),""!==e.fromSign&&t.tag(6,O.LengthDelimited).string(e.fromSign),0n!==e.timestamp&&t.tag(7,O.Varint).uint64(e.timestamp);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we)),Ee=new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.Web3MQChangeMessageStatus",[{no:1,name:"messageId",kind:"scalar",T:9},{no:2,name:"contentTopic",kind:"scalar",T:9},{no:3,name:"messageStatus",kind:"scalar",T:9},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"comeFrom",kind:"scalar",T:9},{no:6,name:"fromSign",kind:"scalar",T:9},{no:7,name:"timestamp",kind:"scalar",T:4,L:0}])}return h(n,[{key:"create",value:function(e){var t={messageId:"",contentTopic:"",messageStatus:"",version:"",comeFrom:"",fromSign:"",timestamp:0n};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.messageId=e.string();break;case 2:a.contentTopic=e.string();break;case 3:a.messageStatus=e.string();break;case 4:a.version=e.string();break;case 5:a.comeFrom=e.string();break;case 6:a.fromSign=e.string();break;case 7:a.timestamp=e.uint64().toBigInt();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.messageId&&t.tag(1,O.LengthDelimited).string(e.messageId),""!==e.contentTopic&&t.tag(2,O.LengthDelimited).string(e.contentTopic),""!==e.messageStatus&&t.tag(3,O.LengthDelimited).string(e.messageStatus),""!==e.version&&t.tag(4,O.LengthDelimited).string(e.version),""!==e.comeFrom&&t.tag(5,O.LengthDelimited).string(e.comeFrom),""!==e.fromSign&&t.tag(6,O.LengthDelimited).string(e.fromSign),0n!==e.timestamp&&t.tag(7,O.Varint).uint64(e.timestamp);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we)),ke=new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.MessageItem",[{no:1,name:"messageId",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:13},{no:3,name:"payload",kind:"scalar",T:12},{no:4,name:"payloadType",kind:"scalar",T:9},{no:5,name:"comeFrom",kind:"scalar",T:9},{no:6,name:"fromSign",kind:"scalar",T:9},{no:7,name:"contentTopic",kind:"scalar",T:9},{no:8,name:"cipherSuite",kind:"scalar",T:9},{no:9,name:"timestamp",kind:"scalar",T:4,L:0},{no:10,name:"read",kind:"scalar",T:8},{no:11,name:"readTimestamp",kind:"scalar",T:4,L:0}])}return h(n,[{key:"create",value:function(e){var t={messageId:"",version:0,payload:new Uint8Array(0),payloadType:"",comeFrom:"",fromSign:"",contentTopic:"",cipherSuite:"",timestamp:0n,read:!1,readTimestamp:0n};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.messageId=e.string();break;case 2:a.version=e.uint32();break;case 3:a.payload=e.bytes();break;case 4:a.payloadType=e.string();break;case 5:a.comeFrom=e.string();break;case 6:a.fromSign=e.string();break;case 7:a.contentTopic=e.string();break;case 8:a.cipherSuite=e.string();break;case 9:a.timestamp=e.uint64().toBigInt();break;case 10:a.read=e.bool();break;case 11:a.readTimestamp=e.uint64().toBigInt();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.messageId&&t.tag(1,O.LengthDelimited).string(e.messageId),0!==e.version&&t.tag(2,O.Varint).uint32(e.version),e.payload.length&&t.tag(3,O.LengthDelimited).bytes(e.payload),""!==e.payloadType&&t.tag(4,O.LengthDelimited).string(e.payloadType),""!==e.comeFrom&&t.tag(5,O.LengthDelimited).string(e.comeFrom),""!==e.fromSign&&t.tag(6,O.LengthDelimited).string(e.fromSign),""!==e.contentTopic&&t.tag(7,O.LengthDelimited).string(e.contentTopic),""!==e.cipherSuite&&t.tag(8,O.LengthDelimited).string(e.cipherSuite),0n!==e.timestamp&&t.tag(9,O.Varint).uint64(e.timestamp),!1!==e.read&&t.tag(10,O.Varint).bool(e.read),0n!==e.readTimestamp&&t.tag(11,O.Varint).uint64(e.readTimestamp);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we)),Ce=new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.Web3MQMessageListResponse",[{no:1,name:"data",kind:"message",repeat:1,T:function(){return ke}}])}return h(n,[{key:"create",value:function(e){var t={data:[]};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];if(1===o)a.data.push(ke.internalBinaryRead(e,e.uint32(),n));else{var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){for(var r=0;r<e.data.length;r++)ke.internalBinaryWrite(e.data[r],t.tag(1,O.LengthDelimited).fork(),n).join();var a=n.writeUnknownFields;return!1!==a&&(1==a?S.onWrite:a)(this.typeName,e,t),t}}]),n}(we));new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.GetHistoryMessagesRequest",[{no:1,name:"comeFrom",kind:"scalar",T:9},{no:2,name:"fromSign",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:13},{no:4,name:"timestamp",kind:"scalar",T:4,L:0}])}return h(n,[{key:"create",value:function(e){var t={comeFrom:"",fromSign:"",version:0,timestamp:0n};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.comeFrom=e.string();break;case 2:a.fromSign=e.string();break;case 3:a.version=e.uint32();break;case 4:a.timestamp=e.uint64().toBigInt();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){""!==e.comeFrom&&t.tag(1,O.LengthDelimited).string(e.comeFrom),""!==e.fromSign&&t.tag(2,O.LengthDelimited).string(e.fromSign),0!==e.version&&t.tag(3,O.Varint).uint32(e.version),0n!==e.timestamp&&t.tag(4,O.Varint).uint64(e.timestamp);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we));var Te=new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.WebsocketPingCommand",[{no:1,name:"nodeId",kind:"scalar",opt:!0,T:9},{no:2,name:"userId",kind:"scalar",opt:!0,T:9},{no:3,name:"timestamp",kind:"scalar",opt:!0,T:4,L:0},{no:4,name:"msgSign",kind:"scalar",opt:!0,T:9}])}return h(n,[{key:"create",value:function(e){var t={};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.nodeId=e.string();break;case 2:a.userId=e.string();break;case 3:a.timestamp=e.uint64().toBigInt();break;case 4:a.msgSign=e.string();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){void 0!==e.nodeId&&t.tag(1,O.LengthDelimited).string(e.nodeId),void 0!==e.userId&&t.tag(2,O.LengthDelimited).string(e.userId),void 0!==e.timestamp&&t.tag(3,O.Varint).uint64(e.timestamp),void 0!==e.msgSign&&t.tag(4,O.LengthDelimited).string(e.msgSign);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we));new(function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"pb.WebsocketPongCommand",[{no:1,name:"nodeId",kind:"scalar",opt:!0,T:9},{no:2,name:"userId",kind:"scalar",opt:!0,T:9},{no:3,name:"timestamp",kind:"scalar",opt:!0,T:4,L:0},{no:4,name:"msgSign",kind:"scalar",opt:!0,T:9}])}return h(n,[{key:"create",value:function(e){var t={};return globalThis.Object.defineProperty(t,ee,{enumerable:!1,value:this}),void 0!==e&&he(this,t,e),t}},{key:"internalBinaryRead",value:function(e,t,n,r){for(var a=null!=r?r:this.create(),i=e.pos+t;e.pos<i;){var s=_(e.tag(),2),o=s[0],c=s[1];switch(o){case 1:a.nodeId=e.string();break;case 2:a.userId=e.string();break;case 3:a.timestamp=e.uint64().toBigInt();break;case 4:a.msgSign=e.string();break;default:var u=n.readUnknownField;if("throw"===u)throw new globalThis.Error("Unknown field ".concat(o," (wire type ").concat(c,") for ").concat(this.typeName));var l=e.skip(c);!1!==u&&(!0===u?S.onRead:u)(this.typeName,a,o,c,l)}}return a}},{key:"internalBinaryWrite",value:function(e,t,n){void 0!==e.nodeId&&t.tag(1,O.LengthDelimited).string(e.nodeId),void 0!==e.userId&&t.tag(2,O.LengthDelimited).string(e.userId),void 0!==e.timestamp&&t.tag(3,O.Varint).uint64(e.timestamp),void 0!==e.msgSign&&t.tag(4,O.LengthDelimited).string(e.msgSign);var r=n.writeUnknownFields;return!1!==r&&(1==r?S.onWrite:r)(this.typeName,e,t),t}}]),n}(we));var Ne,Se={dev:["https://dev-us-west-2.web3mq.com","https://dev-ap-jp-1.web3mq.com","https://dev-ap-singapore-1.web3mq.com"],test:["https://testnet-us-west-1-1.web3mq.com","https://testnet-us-west-1-2.web3mq.com","https://testnet-ap-jp-1.web3mq.com","https://testnet-ap-jp-2.web3mq.com","https://testnet-ap-singapore-1.web3mq.com","https://testnet-ap-singapore-2.web3mq.com"]},Oe=function(e){return Array.from(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")},Le=function(){var e=f(u().mark((function e(n,r,a,i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.sha3_224.update(n).update(r).update(a.toString()).update(i).hex());case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ie=function(e,t){return new Uint8Array([10,e].concat(x(t)))},Be=function(){var e=f(u().mark((function e(){var t,n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.default.utils.randomPrivateKey(),e.next=3,i.default.getPublicKey(t);case 3:return n=e.sent,r=Oe(t),a=Oe(n),e.abrupt("return",{PrivateKey:r,PublicKey:a});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=f(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Ed25519PrivateKey not found");case 2:return e.next=4,i.default.sign((new TextEncoder).encode(n),t);case 4:return r=e.sent,e.abrupt("return",(a=r,btoa(String.fromCharCode.apply(null,a))));case 6:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=new Date;return("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)},je=function(){var e=f(u().mark((function e(t){var n,r,a,i,s,o,c,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.PrivateKey,r=t.userid,a=Date.now(),i="nodeId",s=BigInt(a),o=i+r+s.toString(),e.next=7,Ae(n,o);case 7:return c=e.sent,l={nodeId:i,userId:r,timestamp:s,msgSign:c},f=be.toBinary(l),d=Ie(2,f),e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=f(u().mark((function e(t,n,r,a){var i,s,o,c,l,f,d,p,h,m,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.userid,s=t.PrivateKey,o=Date.now(),c="NONE",l=(new TextEncoder).encode(r),e.next=6,Le(i,n,o,l);case 6:return f=e.sent,d=f+i+n+a+o.toString(),e.next=10,Ae(s,d);case 10:return p=e.sent,h={payload:l,contentTopic:n,version:1,comeFrom:i,fromSign:p,payloadType:"text/plain; charset=utf-8",cipherSuite:c,needStore:!0,timestamp:BigInt(o),messageId:f,nodeId:a},m=_e.toBinary(h),v=Ie(16,m),e.abrupt("return",v);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Re=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.map((function(e,t){var n="";n="NONE"==e.cipher_suite?decodeURIComponent(escape(window.atob(e.payload))):"\u4e0d\u652f\u6301\u7684\u52a0\u5bc6\u7c7b\u578b "+e.cipher_suite;var r=new Date(e.timestamp),a=r.getHours()+":"+r.getMinutes(),i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();return{_id:t+1,id:t+1,indexId:t+1,content:n,senderId:e.from,username:"",avatar:"assets/imgs/doe.png",date:i,timestamp:a,system:!1,saved:!1,distributed:!0,seen:!0,failure:!1}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=(arguments.length>1?arguments[1]:void 0).split("://")[1],n="https://".concat(t),r="wss://".concat(t,"/messages");return"ws"===e?r:n},Ue=function(){var e=f(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<t.length)){e.next=19;break}return a=t[r],e.prev=4,e.next=7,s.default.get("".concat(a,"/api/server-list/"));case 7:return e.next=9,e.sent.data.data;case 9:return n=e.sent,e.abrupt("break",19);case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("continue",16);case 16:r++,e.next=2;break;case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=f(u().mark((function e(t){var n,r,a,i,o,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(Se[t]);case 2:n=e.sent,r=Date.now(),a=[],i=0;case 6:if(!(i<n.length)){e.next=23;break}return o=n[i].endpoint,e.prev=8,e.next=11,s.default.head("".concat(o,"/api/ping/"));case 11:c=e.sent,l=c.headers,f=new Date(l.date).valueOf()-r,a.push({time:f,url:o,serverRate:l["server-rate"],nodeId:l.nodeid}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0);case 20:i++,e.next=6;break;case 23:return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(e){return function(t,n){return Number(t[e])-Number(n[e])}},He=function(){var e=f(u().mark((function e(){var t,n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"test",e.next=3,Fe(t);case 3:return n=e.sent,e.abrupt("return",n.sort(Ve("time"))[0].url);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=h((function e(t){d(this,e),(Ne=s.default.create({baseURL:t,headers:{"Content-Type":"application/json;charset=UTF-8"},timeout:1e4})).interceptors.request.use((function(e){return e}),(function(e){throw new Error(e)})),Ne.interceptors.response.use((function(e){var t=e.data;if(0!==t.code)throw new Error(t.msg);return t}),(function(e){var t=e.response,n=t.status,r=t.data;if(200!==n)throw new Error(r.message)}))})),qe=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/groups/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/chats/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/group_members/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/group_invitation/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/messages/history/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/messages/status/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/users/search/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/my_profile/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/my_profile/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/get_user_info/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/user_login/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/contacts/search/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/contacts/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/contacts/add_friends/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/contacts/add_friends/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/contacts/friend_requests/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/contacts/friend_requests/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/notification/status/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/create_topic/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/subscribe_topic/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/api/publish_topic_message/",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/my_create_topic_list/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=f(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/api/my_subscribe_topic_list/",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=h((function e(n){var r=this;d(this,e),m(this,"appKey",void 0),m(this,"getEthAccount",f(u().mark((function e(){var t,n,r,a,i,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={address:"",balance:0,shortAddress:""},n={method:"wallet_requestPermissions",params:[{eth_accounts:{}}]},e.next=4,window.ethereum.request(n).catch((function(e){console.log(e,"err")}));case 4:if(e.sent){e.next=7;break}return e.abrupt("return",t);case 7:return e.prev=7,e.next=10,window.ethereum.request({method:"eth_accounts"});case 10:if(!((r=e.sent)&&r.length>0)){e.next=19;break}return t.address=r[0],a=r[0].length,t.shortAddress=r[0].substring(0,5)+"..."+r[0].substring(a-4,a),e.next=17,window.ethereum.request({method:"eth_getBalance",params:[r[0],"latest"]});case 17:(i=e.sent)&&(s=i.toString(10),t.balance=s/1e18);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(7),console.log(e.t0);case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,null,[[7,21]])})))),m(this,"signMetaMask",function(){var e=f(u().mark((function e(n){var a,i,s,o,l,f,d,p,h,m,v,g,y,w,b,_,x,E,k,C,T;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.signContentURI,i=n.EthAddress,s=n.nickname,o=n.avatar_url,l=n.avatar_base64,e.t0=i,e.t0){e.next=8;break}return e.next=5,r.getEthAccount();case 5:return e.next=7,e.sent.address;case 7:e.t0=e.sent;case 8:return f=e.t0,d=Date.now(),p="eth",h="ed25519",m="",e.prev=13,e.next=16,Qe({did_type:p,did_value:f,timestamp:d});case 16:v=e.sent,g=v.data,m=g.userid,e.next=24;break;case 21:e.prev=21,e.t1=e.catch(13),m="user: ".concat(t.sha3_224(p+f+d));case 24:return e.next=26,Be();case 26:return y=e.sent,w=y.PrivateKey,b=y.PublicKey,_=t.sha3_224(m+h+b+p+f+d.toString()),x="Web3MQ wants you to sign in with your Ethereum account:".concat(f,"\n    For Web3MQ registration\n    URI: ").concat(a,"\n    Version: 1\n    Nonce: ").concat(_,"\n    Issued At: ").concat(Pe()),e.next=33,window.ethereum.request({method:"personal_sign",params:[x,f,"web3mq"]});case 33:return E=e.sent,k={userid:m,did_type:p,did_value:f,did_signature:E,signature_content:x,pubkey_type:h,pubkey_value:b,nickname:s,avatar_url:o,avatar_base64:l,timestamp:d,testnet_access_key:r.appKey},e.prev=35,e.next=38,et(k);case 38:return C=e.sent,T=C.data,e.abrupt("return",c({PrivateKey:w,PublicKey:b},T));case 43:return e.prev=43,e.t2=e.catch(35),e.abrupt("return",{PrivateKey:w,PublicKey:b,userid:m});case 46:case"end":return e.stop()}}),e,null,[[13,21],[35,43]])})));return function(t){return e.apply(this,arguments)}}()),this.appKey=n||""})),ht=function(){function e(t){d(this,e),m(this,"_client",void 0),m(this,"_keys",void 0),m(this,"channelList",void 0),m(this,"activeChannel",void 0),this._client=t,this._keys=t.keys,this.channelList=null,this.activeChannel=null}var t,n,r,a;return h(e,[{key:"setActiveChannel",value:function(e){this.activeChannel=e,this._client.emit("channel.activeChange",{type:"channel.activeChange"})}},{key:"queryChannels",value:(a=f(u().mark((function e(t){var n,r,a,i,s,o,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,We(c({web3mq_signature:o,userid:r,timestamp:i},t));case 8:l=e.sent,f=l.data.result,d=void 0===f?[]:f,this.channelList&&1!==t.page?this.channelList=[].concat(x(this.channelList),x(d)):this.channelList=d,this._client.emit("channel.getList",{type:"channel.getList"});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"createRoom",value:(r=f(u().mark((function e(t){var n,r,a,i,s,o,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,qe(c({web3mq_signature:o,userid:r,timestamp:i},t));case 8:if(l=e.sent,f=l.data,d=void 0===f?{groupid:"",group_name:"",avatar_base64:"",avatar_url:""}:f,this.channelList){e.next=13;break}return e.abrupt("return");case 13:this.channelList=[{chatid:d.groupid,chat_type:"group",chat_name:d.group_name,avatar_base64:d.avatar_base64,avatar_url:d.avatar_url}].concat(x(this.channelList)),this._client.emit("channel.getList",{type:"channel.getList"});case 15:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getGroupMemberList",value:(n=f(u().mark((function e(t){var n,r,a,i,s,o,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=null===(n=this.activeChannel)||void 0===n?void 0:n.chatid)){e.next=12;break}return a=this._keys,i=a.userid,s=a.PrivateKey,o=Date.now(),l=i+r+o,e.next=7,Ae(s,l);case 7:return f=e.sent,e.next=10,Ze(c({web3mq_signature:f,userid:i,timestamp:o,groupid:r},t));case 10:return d=e.sent,e.abrupt("return",d);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"inviteGroupMember",value:(t=f(u().mark((function e(t){var n,r,a,i,s,o,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=null===(n=this.activeChannel)||void 0===n?void 0:n.chatid)){e.next=12;break}return a=this._keys,i=a.userid,s=a.PrivateKey,o=Date.now(),c=i+r+o,e.next=7,Ae(s,c);case 7:return l=e.sent,e.next=10,Ge({web3mq_signature:l,userid:i,timestamp:o,groupid:r,members:t});case 10:return f=e.sent,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),mt=function(){function e(t){d(this,e),m(this,"_client",void 0),m(this,"timeout",void 0),m(this,"timeoutObj",void 0),m(this,"ws",void 0),m(this,"nodeId",void 0),this._client=t,this.ws=null,this.nodeId="",this.timeout=55e3,this.timeoutObj=null,this.init()}return h(e,[{key:"init",value:function(){var e=this;if(!("WebSocket"in window))throw new Error("Browser not supported WebSocket");if(!Et.wsUrl)throw new Error("The url is required!");var t=new WebSocket(Et.wsUrl);t.binaryType="arraybuffer",t.onopen=f(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("connection is successful"),e.start(),n.next=4,je(e._client.keys);case 4:r=n.sent,t.send(r);case 6:case"end":return n.stop()}}),n)}))),t.onmessage=function(t){e.reset();var n=new Uint8Array(t.data),r=n[1],a=n.slice(2,n.length);e.onMessageCallback(r,a)},this.ws=t}},{key:"onMessageCallback",value:function(e,t){switch(e){case 3:var n=be.fromBinary(t).nodeId;this.nodeId=n;break;case 129:return Te.fromBinary(t);case 20:this.receiveNotify(e,t);break;default:this.receive(e,t)}}},{key:"sendPing",value:function(){var e=this._client.keys.userid;if(null===this.ws)throw new Error("WebSocket is not initialized");if(null==e)throw new Error("GenreateAndSaveKeyPair first");var t=Date.now(),n={timestamp:BigInt(t)},r=Te.toBinary(n),a=Ie(128,r);this.ws.send(a)}},{key:"reset",value:function(){null!==this.timeoutObj&&(clearTimeout(this.timeoutObj),this.start())}},{key:"start",value:function(){var e=this;this.timeoutObj=setTimeout((function(){e.sendPing()}),this.timeout)}},{key:"send",value:function(e){if(!this.ws)throw new Error("websocket Initialization failed");return this.ws.send(e)}},{key:"receive",value:function(e,t){}},{key:"receiveNotify",value:function(e,t){}}]),e}(),vt=function(){function e(t){var n=this;d(this,e),m(this,"_client",void 0),m(this,"_keys",void 0),m(this,"msg_text",void 0),m(this,"messageList",void 0),m(this,"receive",(function(e,t){if(16===e){var r=_e.fromBinary(t);console.log("msg:",r);var a=[r].map((function(e){var t,r=(null===(t=n.messageList)||void 0===t?void 0:t.length)||0,a=new Date(Number(e.timestamp)),i=a.getHours()+":"+a.getMinutes(),s=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();return{_id:r+1,id:r+1,indexId:r+1,content:(new TextDecoder).decode(e.payload),senderId:e.comeFrom,username:"",avatar:"assets/imgs/doe.png",date:s,timestamp:i,system:!1,saved:!1,distributed:!0,seen:!0,failure:!1}}));n.messageList&&(n.messageList=[].concat(x(n.messageList),x(a))),n._client.emit("message.getList",{type:"message.getList",data:r})}if(21===e){var i=xe.fromBinary(t);console.log("msgStatus:",i),n._client.emit("message.delivered",{type:"message.delivered",data:i})}if(22===e){var s=Ee.fromBinary(t);console.log("changeMsgStatus:",s)}})),this._client=t,this._keys=t.keys,this.msg_text="",t.connect.receive=this.receive,this.messageList=null}var t,n,r;return h(e,[{key:"getMessageList",value:(r=f(u().mark((function e(t,n){var r,a,i,s,o,l,f,d,p,h,m,v,g,y;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n||(null===(r=this._client.channel.activeChannel)||void 0===r?void 0:r.chatid))){e.next=19;break}return s=this._keys,o=s.userid,l=s.PrivateKey,f=Date.now(),d=o+a+f,e.next=7,Ae(l,d);case 7:return p=e.sent,e.next=10,ze(c({userid:o,timestamp:f,web3mq_signature:p,topic:a},t));case 10:return h=e.sent,m=h.data.result,v=void 0===m?[]:m,e.next=15,Re(v);case 15:g=e.sent,y=null!==(i=g.reverse())&&void 0!==i?i:[],this.messageList&&1!==t.page?this.messageList=[].concat(x(this.messageList),x(y)):this.messageList=y,this._client.emit("message.getList",{type:"message.getList"});case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"changeMessageStatus",value:(n=f(u().mark((function e(t){var n,r,a,i,s,o,c,l,f,d,p=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:"delivered",!(a=null===(n=this._client.channel.activeChannel)||void 0===n?void 0:n.chatid)){e.next=13;break}return i=this._keys,s=i.userid,o=i.PrivateKey,c=Date.now(),l=s+r+c,e.next=8,Ae(o,l);case 8:return f=e.sent,e.next=11,Je({topic:a,web3mq_signature:f,timestamp:c,userid:s,messages:t,status:r});case 11:return d=e.sent,e.abrupt("return",d);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"sendMessage",value:(t=f(u().mark((function e(t,n){var r,a,i,s,o,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this._client,i=a.keys,s=a.connect,o=a.channel,!(c=n||(null===(r=o.activeChannel)||void 0===r?void 0:r.chatid))){e.next=8;break}return this.msg_text=t,e.next=6,Me(i,c,t,s.nodeId);case 6:l=e.sent,s.send(l);case 8:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),gt=function(){function e(t){d(this,e),m(this,"_client",void 0),m(this,"_keys",void 0),m(this,"userInfo",void 0),this._client=t,this._keys=t.keys,this.userInfo=null}var t,n,r;return h(e,[{key:"searchUsers",value:(r=f(u().mark((function e(t){var n,r,a,i,s,o,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+t+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,Xe({web3mq_signature:o,userid:r,timestamp:i,keyword:t});case 8:return c=e.sent,l=c.data,this.userInfo=l,e.abrupt("return",l);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getMyProfile",value:(n=f(u().mark((function e(){var t,n,r,a,i,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._keys,n=t.userid,r=t.PrivateKey,a=Date.now(),i=n+a,e.next=5,Ae(r,i);case 5:return s=e.sent,e.next=8,Ye({web3mq_signature:s,userid:n,timestamp:a});case 8:return o=e.sent,c=o.data,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"updateMyProfile",value:(t=f(u().mark((function e(t,n){var r,a,i,s,o,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._keys,a=r.userid,i=r.PrivateKey,s=Date.now(),o=a+s,e.next=5,Ae(i,o);case 5:return c=e.sent,e.next=8,$e({web3mq_signature:c,userid:a,timestamp:s,nickname:t,avatar_url:n});case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),yt=function(){function e(t){d(this,e),m(this,"_client",void 0),m(this,"_keys",void 0),m(this,"contactList",void 0),m(this,"myFriendRequestList",void 0),m(this,"receiveFriendRequestList",void 0),this._client=t,this._keys=t.keys,this.contactList=null,this.myFriendRequestList=null,this.receiveFriendRequestList=null}var t,n,r,a,i,s;return h(e,[{key:"searchContact",value:(s=f(u().mark((function e(t){var n,r,a,i,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+t+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,tt({web3mq_signature:o,userid:r,timestamp:i,keyword:t});case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getContactList",value:(i=f(u().mark((function e(t){var n,r,a,i,s,o,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._client.emit,r=this._keys,a=r.userid,i=r.PrivateKey,s=Date.now(),o=a+s,e.next=6,Ae(i,o);case 6:return l=e.sent,e.next=9,nt(c({web3mq_signature:l,userid:a,timestamp:s},t));case 9:f=e.sent,d=f.data,this.contactList&&1!==t.page?this.contactList=[].concat(x(this.contactList),x(d.result)):this.contactList=d.result,n("contact.getList",{type:"contact.getList"});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"sendFriend",value:(a=f(u().mark((function e(t){var n,r,a,i,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+t+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,rt({web3mq_signature:o,userid:r,timestamp:i,target_userid:t});case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getMyFriendRequestList",value:(r=f(u().mark((function e(t){var n,r,a,i,s,o,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._client.emit,r=this._keys,a=r.userid,i=r.PrivateKey,s=Date.now(),o=a+s,e.next=6,Ae(i,o);case 6:return l=e.sent,e.next=9,at(c({web3mq_signature:l,userid:a,timestamp:s},t));case 9:f=e.sent,d=f.data,this.myFriendRequestList=d.result,n("contact.friendList",{type:"contact.friendList"});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getReceiveFriendRequestList",value:(n=f(u().mark((function e(t){var n,r,a,i,s,o,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._client.emit,r=this._keys,a=r.userid,i=r.PrivateKey,s=Date.now(),o=a+s,e.next=6,Ae(i,o);case 6:return l=e.sent,e.next=9,it(c({web3mq_signature:l,userid:a,timestamp:s},t));case 9:f=e.sent,d=f.data,this.receiveFriendRequestList=d.result,n("contact.reviceList",{type:"contact.reviceList"});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"operationFriend",value:(t=f(u().mark((function e(t){var n,r,a,i,s,o,c,l,f=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"agree",r=this._keys,a=r.userid,i=r.PrivateKey,s=Date.now(),o=a+n+t+s,e.next=6,Ae(i,o);case 6:return c=e.sent,e.next=9,st({web3mq_signature:c,userid:a,timestamp:s,target_userid:t,action:n});case 9:return l=e.sent,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),wt=function(){function e(t){var n=this;d(this,e),m(this,"_client",void 0),m(this,"_keys",void 0),m(this,"notificationList",void 0),m(this,"receiveNotify",(function(e,t){var r=Ce.fromBinary(t).data.map((function(e){return JSON.parse((new TextDecoder).decode(e.payload))}));n.notificationList?n.notificationList=[].concat(x(r),x(n.notificationList)):n.notificationList=r,n._client.listeners.events["notification.getList"]&&n._client.emit("notification.getList",{type:"notification.getList"})})),this._client=t,this._keys=t.keys,t.connect.receiveNotify=this.receiveNotify,this.notificationList=null}var t;return h(e,[{key:"changeNotificationStatus",value:(t=f(u().mark((function e(t){var n,r,a,i,s,o,c,l,f=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"delivered",r=this._keys,a=r.userid,i=r.PrivateKey,s=Date.now(),o=a+n+s,e.next=6,Ae(i,o);case 6:return c=e.sent,e.next=9,ot({web3mq_signature:c,userid:a,timestamp:s,messages:t,status:n});case 9:return l=e.sent,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),bt=function(){function e(t){d(this,e),m(this,"_client",void 0),m(this,"_keys",void 0),m(this,"myTopicList",void 0),m(this,"mySubscribeList",void 0),this._client=t,this._keys=t.keys,this.myTopicList=null,this.mySubscribeList=null}var t,n,r,a,i;return h(e,[{key:"getMyCreateTopicList",value:(i=f(u().mark((function e(t){var n,r,a,i,s,o,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,ft(c({web3mq_signature:o,userid:r,timestamp:i},t));case 8:return l=e.sent,f=l.data,d=void 0===f?[]:f,this.myTopicList&&1!==t.page?this.myTopicList=[].concat(x(this.myTopicList),x(d)):this.myTopicList=d,this._client.emit("notification.getMyTopicList",{type:"notification.getMyTopicList"}),e.abrupt("return",d);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getMySubscribeTopicList",value:(a=f(u().mark((function e(t){var n,r,a,i,s,o,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,dt(c({web3mq_signature:o,userid:r,timestamp:i},t));case 8:return l=e.sent,f=l.data,this.mySubscribeList=f,this._client.emit("notification.getMySubscribeList",{type:"notification.getMySubscribeList"}),e.abrupt("return",f);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"createTopic",value:(r=f(u().mark((function e(t){var n,r,a,i,s,o,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,ct({web3mq_signature:o,userid:r,timestamp:i,topic_name:t});case 8:return c=e.sent,l=c.data,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"subscribeTopic",value:(n=f(u().mark((function e(t){var n,r,a,i,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._keys,r=n.userid,a=n.PrivateKey,i=Date.now(),s=r+t+i,e.next=5,Ae(a,s);case 5:return o=e.sent,e.next=8,ut({web3mq_signature:o,userid:r,timestamp:i,topicid:t});case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"publishTopicMessage",value:(t=f(u().mark((function e(t){var n,r,a,i,s,o,c,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.content,a=t.topicid,i=this._keys,s=i.userid,o=i.PrivateKey,c=Date.now(),l=s+a+c,e.next=6,Ae(o,l);case 6:return f=e.sent,e.next=9,lt({web3mq_signature:f,userid:s,timestamp:c,title:n,content:r,topicid:a});case 9:d=e.sent,console.log(d);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),_t=c(c({},{"channel.created":!0,"channel.getList":!0,"channel.activeChange":!0,"channel.updated":!0,"contact.activeChange":!0,"contact.getList":!0,"contact.friendList":!0,"contact.reviceList":!0,"contact.updateList":!0,"message.delivered":!0,"message.read":!0,"message.updated":!0,"message.getList":!0,"message.getThreadList":!0,"message.openAllThread":!0,"notification.messageNew":!0,"notification.getList":!0,"notification.getMyTopicList":!0,"notification.getMySubscribeList":!0}),{},{all:!0}),xt=function(){function e(){d(this,e),m(this,"events",void 0),this.events={}}return h(e,[{key:"on",value:function(e,t){if(!_t[e])throw Error("Invalid event type ".concat(e));if("function"!=typeof t)throw new Error("You need to add a callback method to the ".concat(e," event"));var n=this.events[e]||[];n.push(t),this.events[e]=n}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=this.events[e]||[];if(0===a.length)throw new Error("The ".concat(e," event was not registered"));a.forEach((function(e){return e.apply(void 0,n)}))}},{key:"off",value:function(e,t){void 0===t&&(this.events[e]=[]);var n=(this.events[e]||[]).filter((function(e){return e!=t&&e.initialCallback!=t}));this.events[e]=n}},{key:"once",value:function(e,t){var n=this;if(void 0===t)throw new Error("The callback function is required");var r=function r(){t.apply(void 0,arguments),n.off(e,r)};r.initialCallback=t,this.on(e,r)}}]),e}(),Et=h((function e(t){var n=this;d(this,e),m(this,"keys",void 0),m(this,"channel",void 0),m(this,"listeners",void 0),m(this,"connect",void 0),m(this,"message",void 0),m(this,"user",void 0),m(this,"contact",void 0),m(this,"notify",void 0),m(this,"topic",void 0),m(this,"on",(function(e,t){return n.listeners.on(e,t)})),m(this,"emit",(function(e,t){return n.listeners.emit(e,t)})),m(this,"off",(function(e,t){return n.listeners.off(e,t)})),m(this,"once",(function(e,t){return n.listeners.once(e,t)})),this.keys=t,this.listeners=new xt,this.channel=new ht(this),this.connect=new mt(this),this.message=new vt(this),this.user=new gt(this),this.contact=new yt(this),this.notify=new wt(this),this.topic=new bt(this)}));m(Et,"_instance",void 0),m(Et,"wsUrl",void 0),m(Et,"register",void 0),m(Et,"init",f(u().mark((function e(){var t,n,r,a,i,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{connectUrl:null},n=t.connectUrl,r=t.app_key,a=t.env,e.t0=n,e.t0){e.next=7;break}return e.next=6,He(a);case 6:e.t0=e.sent;case 7:return i=e.t0,Et.wsUrl=De("ws",i),new Ke(De("http",i)),Et.register=new pt(r),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})))),m(Et,"getInstance",(function(e){if(!e)throw new Error("The PrivateKey and PublicKey is required!");return Et._instance||(Et._instance=new Et(e)),Et._instance})),e.Client=Et,e.DownloadKeyPair=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KeyPairs",n=document.createElement("a");n.download=t,n.style="display: none",n.href="data:text/txt;charset=utf-8,".concat(e),document.body.appendChild(n),n.click()},e.GenerateEd25519KeyPair=Be,e.GetContactBytes=Ie,e.getAllDomainList=Fe,e.getCurrentDate=Pe,e.getDataSignature=Ae,e.getFastestUrl=He,e.renderMessagesList=Re,e.selectUrl=De,e.sendConnectCommand=je,e.sendMessageCommand=Me,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(1094),n(222),n(9669))},434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}]);