(self.webpackChunkchat_service_api_doc=self.webpackChunkchat_service_api_doc||[]).push([[7808],{9951:function(t,e,n){"use strict";n.d(e,{A:function(){return h}});var a=n(7294),l=n(1262),r=n(4184),i=n.n(r),o="code-lineout_cZQd",s="code-box-demo_X7Ez",p="code-box-meta_GVCM",d="code-box-title_sfQs",u="code-box-description_bhuL",m="code-box-actions_vDQF",c="code-box-show-code_Yemp",g="code-icon_AL8q",k="code-icon-hide_dxEg",y="highlight-wrapper_JnmS",N="highlight-wrapper-hide_pcAC",h=function(t){var e=t.title,n=t.description,r=t.code,h=t.children,v=(0,a.useState)(!0),b=v[0],f=v[1];return a.createElement(l.Z,null,(function(){var t,l,v;return a.createElement("div",{className:o},a.createElement("div",{className:s},h),a.createElement("div",{className:p},a.createElement("div",{className:d},e),a.createElement("div",{className:u},n),r&&a.createElement("div",{className:m},a.createElement("span",{className:c},a.createElement("img",{className:i()(g,(t={},t[k]=b,t)),onClick:function(){return f(!b)},src:"https://gw.alipayobjects.com/zos/antfincdn/Z5c7kzvi30/expand.svg",alt:""}),a.createElement("img",{className:i()(g,(l={},l[k]=!b,l)),onClick:function(){return f(!b)},src:"https://gw.alipayobjects.com/zos/antfincdn/4zAaozCvUH/unexpand.svg",alt:""})))),r&&a.createElement("div",{className:i()(y,(v={},v[N]=!b,v))},r))}))}},1086:function(t,e,n){"use strict";var a=n(5861),l=n(7757),r=n.n(l),i=n(7294),o=n(1352);e.Z=function(){var t=(0,i.useMemo)((function(){var t=localStorage.getItem("PRIVATE_KEY")||"",e=localStorage.getItem("PUBLIC_KEY")||"",n=localStorage.getItem("userid")||"";return t&&e&&n?{PrivateKey:t,PublicKey:e,userid:n}:null}),[]),e=(0,i.useState)(t),n=e[0],l=e[1],s=(0,i.useState)(null),p=s[0],d=s[1],u=function(){var t=(0,a.Z)(r().mark((function t(){var e,n,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("PUBLIC_KEY")||"",n=localStorage.getItem("DID_KEY")||"",t.next=4,o.Client.init({connectUrl:localStorage.getItem("FAST_URL"),app_key:"vAUJTFXbBZRkEDRE",env:"dev",didKey:n,tempPubkey:e});case 4:a=t.sent,localStorage.setItem("FAST_URL",a),d(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{keys:n,fastestUrl:p,init:u,logout:function(){localStorage.setItem("PRIVATE_KEY",""),localStorage.setItem("PUBLIC_KEY",""),localStorage.setItem("DID_KEY",""),localStorage.setItem("userid",""),l(null)},handleLoginEvent:function(t){if(t.data){if("login"===t.type){var e=t.data,n=e.privateKey,a=e.publicKey,r=e.tempPrivateKey,i=e.tempPublicKey,o=e.didKey,s=e.userid,p=e.address,d=e.pubkeyExpiredTimestamp;localStorage.setItem("userid",s),localStorage.setItem("PRIVATE_KEY",r),localStorage.setItem("PUBLIC_KEY",i),localStorage.setItem("WALLET_ADDRESS",p),localStorage.setItem("MAIN_PRIVATE_KEY",n),localStorage.setItem("MAIN_PUBLIC_KEY",a),localStorage.setItem("DID_KEY",o),localStorage.setItem("PUBKEY_EXPIRED_TIMESTAMP",String(d)),l({PrivateKey:r,PublicKey:i,userid:s})}if("register"===t.type){var u=t.data,m=u.privateKey,c=u.publicKey,g=u.address;localStorage.setItem("WALLET_ADDRESS",g),localStorage.setItem("MAIN_PRIVATE_KEY",m),localStorage.setItem("MAIN_PUBLIC_KEY",c)}}}}}},393:function(t,e,n){"use strict";n.r(e),n.d(e,{assets:function(){return S},contentTitle:function(){return _},default:function(){return C},frontMatter:function(){return T},metadata:function(){return K},toc:function(){return w}});var a=n(7462),l=n(3366),r=n(7294),i=n(3905),o=n(9951),s=n(1352),p=n(4137),d=n(1086),u="modalClassName_H_kb",m=function(t){var e=(0,d.Z)(),n=e.keys,a=e.fastestUrl,l=e.init,i=e.logout,o=e.handleLoginEvent,m=(0,r.useState)(window.innerWidth<=600?p.KU.h5:p.KU.pc),c=m[0],g=m[1],k=function(){g(window.innerWidth<=600?p.KU.h5:p.KU.pc)};if((0,r.useEffect)((function(){l(),document.getElementsByTagName("body")[0].setAttribute("data-theme","light"),window.addEventListener("resize",k)}),[]),!n){var y=null,N=localStorage.getItem("MAIN_PRIVATE_KEY"),h=localStorage.getItem("MAIN_PUBLIC_KEY"),v=localStorage.getItem("WALLET_ADDRESS");return h&&N&&v&&(y={publicKey:h,privateKey:N,walletAddress:v}),r.createElement("div",{id:"loginModalBox",style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minHeight:"360px",overflow:"auto"}},r.createElement(p._A,{appType:c,containerId:"loginModalBox",keys:y,isShow:!0,modalClassName:u,handleLoginEvent:o,loginBtnNode:r.createElement(p.zx,{size:"large",type:"ghost"},"Login")}))}if(!a)return null;var b=s.Client.getInstance(n);return r.createElement(p.en,{containerId:"box",client:b,appType:c,logout:i},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement("h4",null,"Login success!"),r.createElement(p.zx,{onClick:i},"logout")))},c=n(5861),g=n(7757),k=n.n(g),y=function(t){var e=(0,d.Z)(),n=e.keys,a=e.fastestUrl,l=e.init,i=e.logout,o=e.handleLoginEvent,m=(0,r.useMemo)((function(){var t=localStorage.getItem("doc_test_address")||"",e=localStorage.getItem("doc_test_walletType")||"",n=localStorage.getItem("doc_test_userid")||"",a="true"===localStorage.getItem("doc_test_userExist");if(t&&e&&n&&a)return{address:t,walletType:e,userid:n,userExist:a}}),[]),g=(0,r.useState)(m),y=g[0],N=g[1],h=(0,r.useState)(window.innerWidth<=600?p.KU.h5:p.KU.pc),v=h[0],b=h[1],f=function(){b(window.innerWidth<=600?p.KU.h5:p.KU.pc)},E=function(){var t=(0,c.Z)(k().mark((function t(e,n){var a,l,r,i,o,p;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e="eth"),a=n){t.next=8;break}return t.next=5,s.Client.register.getAccount(e);case 5:l=t.sent,r=l.address,a=r;case 8:if(!a){t.next=19;break}return t.next=11,s.Client.register.getUserInfo({did_value:a,did_type:e});case 11:i=t.sent,o=i.userid,p=i.userExist,localStorage.setItem("doc_test_address",a),localStorage.setItem("doc_test_walletType",e),localStorage.setItem("doc_test_userid",o),localStorage.setItem("doc_test_userExist",String(p)),N({userid:o,address:a,walletType:e,userExist:p});case 19:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();if((0,r.useEffect)((function(){l(),document.getElementsByTagName("body")[0].setAttribute("data-theme","light"),window.addEventListener("resize",f)}),[]),!a)return null;if(!n){var I=null,T=localStorage.getItem("MAIN_PRIVATE_KEY"),_=localStorage.getItem("MAIN_PUBLIC_KEY"),K=localStorage.getItem("WALLET_ADDRESS");return _&&T&&K&&(I={publicKey:_,privateKey:T,walletAddress:K}),r.createElement("div",{id:"loginModalWithAccountBox",style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",minHeight:"360px",overflow:"auto"}},!y&&r.createElement(p.zx,{size:"large",onClick:function(){return E()},style:{marginRight:"10px"}},"connect wallet"),y&&r.createElement(p._A,{account:y,appType:v,containerId:"loginModalWithAccountBox",keys:I,modalClassName:u,handleLoginEvent:o,loginBtnNode:r.createElement(p.zx,{size:"large",type:"ghost"},"Login")}))}var S=s.Client.getInstance(n);return r.createElement(p.en,{containerId:"box",client:S,appType:v,logout:i},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement("h4",null,"Login success!"),r.createElement(p.zx,{onClick:i},"logout")))},N=["components"],h={toc:[]};function v(t){var e=t.components,n=(0,l.Z)(t,N);return(0,i.kt)("wrapper",(0,a.Z)({},h,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import React, { useEffect, useState } from 'react';\nimport { Client } from '@web3mq/client';\nimport { Chat, AppTypeEnum, Button, LoginModal } from '@web3mq/react-components';\n\nimport useLogin from './hooks/useLogin';\n\nexport const LoginModalExample: React.FC = () => {\n  const { keys, fastestUrl, init, logout, handleLoginEvent } = useLogin();\n  const [appType, setAppType] = useState(\n    window.innerWidth <= 600 ? AppTypeEnum['h5'] : AppTypeEnum['pc'],\n  );\n  const handleAppType = () => {\n    setAppType(window.innerWidth <= 600 ? AppTypeEnum['h5'] : AppTypeEnum['pc']);\n  };\n  useEffect(() => {\n    init();\n    document.body.setAttribute('data-theme', 'light');\n    window.addEventListener('resize', handleAppType);\n    () => {\n      window.removeEventListener('resize', handleAppType)\n    }\n  }, []);\n\n  if (!keys) {\n    let mainKeys: any = null;\n    const mainPrivateKey = localStorage.getItem(`MAIN_PRIVATE_KEY`);\n    const mainPublicKey = localStorage.getItem(`MAIN_PUBLIC_KEY`);\n    const address = localStorage.getItem('WALLET_ADDRESS');\n    if (mainPublicKey && mainPrivateKey && address) {\n      mainKeys = {\n        publicKey: mainPublicKey,\n        privateKey: mainPrivateKey,\n        walletAddress: address,\n      };\n    }\n    return (\n      <LoginModal \n        appType={appType}\n        keys={mainKeys}\n        isShow={true}\n        handleLoginEvent={handleLoginEvent}\n        loginBtnNode={<Button size='large' type='ghost'>Login</Button>}\n      />\n    )\n  }\n\n  if (!fastestUrl) {\n    return null;\n  }\n\n  const client = Client.getInstance(keys);\n\n  return (\n    <Chat client={client} appType={appType} logout={logout}>\n      <>\n        Login success\n        <Button onClick={logout}>logout</Button>\n      </>\n    </Chat>\n  );\n};\n")))}v.isMDXComponent=!0;var b=["components"],f={toc:[]};function E(t){var e=t.components,n=(0,l.Z)(t,b);return(0,i.kt)("wrapper",(0,a.Z)({},f,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import React, { useEffect, useMemo, useState } from 'react';\nimport { Client, WalletType } from '@web3mq/client';\nimport { Chat, AppTypeEnum, Button, LoginModal } from '@web3mq/react-components';\n\nimport useLogin from './hooks/useLogin';\n\ntype UserAccountType = {\n  userid: string;\n  address: string;\n  walletType: WalletType;\n  userExist: boolean;\n};\nexport const LoginModalWithAccount: React.FC = (props: any) => {\n  const { keys, fastestUrl, init, logout, handleLoginEvent } = useLogin();\n  const hasAccount = useMemo(() => {\n    const address = localStorage.getItem('doc_test_address') || '';\n    const walletType = localStorage.getItem('doc_test_walletType') || '';\n    const userid = localStorage.getItem('doc_test_userid') || '';\n    const userExist = localStorage.getItem('doc_test_userExist') === 'true' ? true : false;\n    if (address && walletType && userid && userExist) {\n      return { address, walletType, userid, userExist };\n    }\n    return undefined;\n  }, [])\n  const [account, setAccount] = useState<UserAccountType | undefined>(hasAccount);\n  const [appType, setAppType] = useState(\n    window.innerWidth <= 600 ? AppTypeEnum['h5'] : AppTypeEnum['pc'],\n  );\n  const handleAppType = () => {\n    setAppType(window.innerWidth <= 600 ? AppTypeEnum['h5'] : AppTypeEnum['pc']);\n  };\n  const getAccount = async (\n    didType: WalletType = 'eth',\n    address?: string,\n  ): Promise<void> => {\n    let didValue = address;\n    if (!didValue) {\n      const { address } = await Client.auth.getAccount(didType);\n      didValue = address;\n    }\n    if (didValue) {\n      const { userid, userExist } = await Client.auth.getUserInfo({\n        did_value: didValue,\n        did_type: didType,\n      });\n      localStorage.setItem('doc_test_address', didValue)\n      localStorage.setItem('doc_test_walletType', didType);\n      localStorage.setItem('doc_test_userid', userid);\n      localStorage.setItem('doc_test_userExist', String(userExist))\n      setAccount({\n        userid,\n        address: didValue as string,\n        walletType: didType,\n        userExist,\n      });\n    }\n  };\n\n  useEffect(() => {\n    init()\n    document.body.setAttribute('data-theme', 'light');\n    window.addEventListener('resize', handleAppType);\n    () => {\n      window.removeEventListener('resize', handleAppType)\n    }\n  }, []);\n\n  if (!fastestUrl) {\n    return null;\n  }\n\n  if (!keys) {\n    let mainKeys: any = null;\n    const mainPrivateKey = localStorage.getItem(`MAIN_PRIVATE_KEY`);\n    const mainPublicKey = localStorage.getItem(`MAIN_PUBLIC_KEY`);\n    const address = localStorage.getItem('WALLET_ADDRESS');\n    if (mainPublicKey && mainPrivateKey && address) {\n      mainKeys = {\n        publicKey: mainPublicKey,\n        privateKey: mainPrivateKey,\n        walletAddress: address,\n      };\n    }\n    return (\n      <div \n        id='login_Modal__Box'\n      >\n        {!account && <Button size='large' onClick={() => getAccount()} style={{marginRight: '10px'}}>connect wallet</Button>}\n        {account && <LoginModal \n          account={account}\n          appType={appType}\n          containerId='login_Modal__Box'\n          keys={mainKeys}\n          modalClassName={ss.modalClassName}\n          handleLoginEvent={handleLoginEvent}\n          loginBtnNode={<Button size='large' type='ghost'>Login</Button>}\n        />}\n      </div>\n    )\n  }\n\n  const client = Client.getInstance(keys);\n\n  return (\n    <Chat client={client} appType={appType} logout={logout}>\n      <h4>\n        Login success!\n      </h4>\n      <Button onClick={logout}>logout</Button>\n    </Chat>\n  );\n};\n")))}E.isMDXComponent=!0;var I=["components"],T={sidebar_position:0},_="LoginModal",K={unversionedId:"Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal",id:"Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal",title:"LoginModal",description:"LoginModal component implements login and registration operations.",source:"@site/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal.md",sourceDirName:"Web3MQ-UI-Components/Web3MQ-React/chatComponent",slug:"/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal",tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0},sidebar:"tutorialSidebar",previous:{title:"Intro",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/Intro"},next:{title:"Chat",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/Chat"}},S={},w=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"use handleLoginEvent prop",id:"use-handleloginevent-prop",level:3},{value:"use account prop",id:"use-account-prop",level:3},{value:"Api",id:"api",level:2},{value:"LoginModal",id:"loginmodal-1",level:3},{value:"LoginEventDataType",id:"logineventdatatype",level:3},{value:"LoginResType",id:"loginrestype",level:3},{value:"LoginEventType",id:"logineventtype",level:3},{value:"MainKeysType",id:"mainkeystype",level:3},{value:"RegisterResType",id:"registerrestype",level:3},{value:"UserAccountType",id:"useraccounttype",level:3}],L={toc:w};function C(t){var e=t.components,n=(0,l.Z)(t,I);return(0,i.kt)("wrapper",(0,a.Z)({},L,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"loginmodal"},"LoginModal"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"LoginModal")," component implements login and registration operations."),(0,i.kt)("h2",{id:"basic-usage"},"Basic Usage"),(0,i.kt)("p",null,"User must pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"handleLoginEvent")," as props to customize the callback when logging in or registering, and also can pass ",(0,i.kt)("inlineCode",{parentName:"p"},"account")," as props to specify the user information to render the current page as a login or registration page."),(0,i.kt)("h3",{id:"use-handleloginevent-prop"},"use handleLoginEvent prop"),(0,i.kt)("p",null,"The key pair, temporary key pair, will be returned for you after a successful login or registration operation, and you need to save this data in the ",(0,i.kt)("inlineCode",{parentName:"p"},"handleLoginEvent")," callback function."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"  Before logging, we must understand that the temporary key pair and userid are key to generating the client, while the master key pair is what allows you to skip the signing step when logging in."),(0,i.kt)("blockquote",{parentName:"div"},(0,i.kt)("ol",{parentName:"blockquote"},(0,i.kt)("li",{parentName:"ol"},"After the registration operation, the ",(0,i.kt)("inlineCode",{parentName:"li"},"handleLoginEvent")," callback method you pass in will be based on ",(0,i.kt)("inlineCode",{parentName:"li"},"eventData.type === 'auth'")," as the current registration time, and will capture the master key pair and userid returned during registration is successful in ",(0,i.kt)("inlineCode",{parentName:"li"},"eventData.data"),"."),(0,i.kt)("li",{parentName:"ol"},"If your login is successful, congratulations, you will get the temporary key pair that generated ",(0,i.kt)("inlineCode",{parentName:"li"},"web3MQ client"),", in the ",(0,i.kt)("inlineCode",{parentName:"li"},"handleLoginEvent")," callback, the corresponding data can be retrieved from ",(0,i.kt)("inlineCode",{parentName:"li"},"eventData.data")," under the condition of ",(0,i.kt)("inlineCode",{parentName:"li"},"eventData.type === 'login'"),"."))))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Here is a simple hook function that provides dependencies for you to create web3MQ Client.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useMemo, useState } from 'react';\nimport { Client, KeyPairsType } from '@web3mq/client';\n\nconst useLogin = () => {\n  const hasKeys = useMemo(() => {\n    const PrivateKey = localStorage.getItem('PRIVATE_KEY') || '';\n    const PublicKey = localStorage.getItem('PUBLIC_KEY') || '';\n    const userid = localStorage.getItem('userid') || '';\n    if (PrivateKey && PublicKey && userid) {\n      return { PrivateKey, PublicKey, userid };\n    }\n    return null;\n  }, []);\n  const [keys, setKeys] = useState<KeyPairsType | null>(hasKeys);\n  const [fastestUrl, setFastUrl] = useState<string | null>(null);\n\n  const init = async () => {\n    const tempPubkey = localStorage.getItem('PUBLIC_KEY') || '';\n    const didKey = localStorage.getItem('DID_KEY') || '';\n    const fastUrl = await Client.init({\n      connectUrl: localStorage.getItem('FAST_URL'),\n      app_key: 'app_key',\n      env: 'dev',\n      didKey,\n      tempPubkey,\n    });\n    localStorage.setItem('FAST_URL', fastUrl);\n    setFastUrl(fastUrl);\n  };\n  const logout = () => {\n    localStorage.setItem('PRIVATE_KEY', '');\n    localStorage.setItem('PUBLIC_KEY', '');\n    localStorage.setItem('DID_KEY', '');\n    localStorage.setItem('userid', '');\n    setKeys(null);\n  };\n\n  const handleLoginEvent = (eventData: any) => {\n    if (eventData.data) {\n      if (eventData.type === 'login') {\n        const {\n          privateKey,\n          publicKey,\n          tempPrivateKey,\n          tempPublicKey,\n          didKey,\n          userid,\n          address,\n          pubkeyExpiredTimestamp,\n        } = eventData.data;\n        // Store to browser cache\n        localStorage.setItem('userid', userid);\n        localStorage.setItem('PRIVATE_KEY', tempPrivateKey);\n        localStorage.setItem('PUBLIC_KEY', tempPublicKey);\n        localStorage.setItem('WALLET_ADDRESS', address);\n        localStorage.setItem(`MAIN_PRIVATE_KEY`, privateKey);\n        localStorage.setItem(`MAIN_PUBLIC_KEY`, publicKey);\n        localStorage.setItem(`DID_KEY`, didKey);\n        localStorage.setItem('PUBKEY_EXPIRED_TIMESTAMP', String(pubkeyExpiredTimestamp));\n        // update state\n        setKeys({\n          PrivateKey: tempPrivateKey,\n          PublicKey: tempPublicKey,\n          userid,\n        });\n      }\n      if (eventData.type === 'auth') {\n        const { privateKey, publicKey, address } = eventData.data;\n        // Store to browser cache\n        localStorage.setItem('WALLET_ADDRESS', address);\n        localStorage.setItem(`MAIN_PRIVATE_KEY`, privateKey);\n        localStorage.setItem(`MAIN_PUBLIC_KEY`, publicKey);\n      }\n    }\n  };\n\n  return { keys, fastestUrl, init, logout, handleLoginEvent };\n};\n")),(0,i.kt)(o.A,{title:"Example",description:"This is the LoginModal example",code:(0,i.kt)(v,{mdxType:"LoginModalMdx"}),mdxType:"Layout"},(0,i.kt)(m,{mdxType:"LoginModalExample"})),(0,i.kt)("h3",{id:"use-account-prop"},"use account prop"),(0,i.kt)("p",null,"It is very unnecessary to make another wallet connection in the ",(0,i.kt)("inlineCode",{parentName:"p"},"LoginModal")," component when the wallet is already connected. The user only needs to include your wallet address and wallet type as part of the account parameters. If you are not sure if your current wallet is registered with ",(0,i.kt)("inlineCode",{parentName:"p"},"web3mq"),", you can try the Client.auth.getUserInfo method and you will get the userExist and userid."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If your wallet is not registered with ",(0,i.kt)("inlineCode",{parentName:"p"},"web3mq")," account, just set ",(0,i.kt)("inlineCode",{parentName:"p"},"account.userExist = false"),", it will automatically jump to the registration section"))),(0,i.kt)(o.A,{title:"Example",description:"This is the LoginModal example",code:(0,i.kt)(E,{mdxType:"UseAccountMdx"}),mdxType:"Layout"},(0,i.kt)(y,{mdxType:"LoginModalWithAccount"})),(0,i.kt)("h2",{id:"api"},"Api"),(0,i.kt)("h3",{id:"loginmodal-1"},"LoginModal"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"The properties of the LoginModal are described as follows:")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"required"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"account"),(0,i.kt)("td",{parentName:"tr",align:null},"Set account info"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal#useraccounttype"},"UserAccountType")),(0,i.kt)("td",{parentName:"tr",align:null},"undefined"),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"appType"),(0,i.kt)("td",{parentName:"tr",align:null},"set viewport type of @web3mq/react-components"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/Chat#apptypeenum"},"AppTypeEnum")),(0,i.kt)("td",{parentName:"tr",align:null},"AppTypeEnum",'["pc"]'),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"client"),(0,i.kt)("td",{parentName:"tr",align:null},"client class"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-SDK/JS-SDK/client"},"Client")),(0,i.kt)("td",{parentName:"tr",align:null},"Client"),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"containerId"),(0,i.kt)("td",{parentName:"tr",align:null},"id selector for the node that wraps the ",(0,i.kt)("inlineCode",{parentName:"td"},"LoginModal")," component"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},'""'),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"isShow"),(0,i.kt)("td",{parentName:"tr",align:null},"Whether the modal dialog is visible or not"),(0,i.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,i.kt)("td",{parentName:"tr",align:null},"false"),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"loginBtnNode"),(0,i.kt)("td",{parentName:"tr",align:null},"Set the custom ",(0,i.kt)("inlineCode",{parentName:"td"},"Button")),(0,i.kt)("td",{parentName:"tr",align:null},"React.ReactNode"),(0,i.kt)("td",{parentName:"tr",align:null},"null"),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"keys"),(0,i.kt)("td",{parentName:"tr",align:null},"Set the user master key pair for skipping the login signature operation"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal#mainkeystype"},"MainKeysType")),(0,i.kt)("td",{parentName:"tr",align:null},"undefined"),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"modalClassName"),(0,i.kt)("td",{parentName:"tr",align:null},"set the dialog class selector"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},'""'),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"style"),(0,i.kt)("td",{parentName:"tr",align:null},"set your custom style"),(0,i.kt)("td",{parentName:"tr",align:null},"React.CSSProperties"),(0,i.kt)("td",{parentName:"tr",align:null},"null"),(0,i.kt)("td",{parentName:"tr",align:null},"false")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"handleLoginEvent"),(0,i.kt)("td",{parentName:"tr",align:null},"Callback when login or auth"),(0,i.kt)("td",{parentName:"tr",align:null},"(eventData: ",(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal#logineventdatatype"},"LoginEventDataType"),") => void"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")))),(0,i.kt)("h3",{id:"logineventdatatype"},"LoginEventDataType"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"required"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"type"),(0,i.kt)("td",{parentName:"tr",align:null},"Callback return type"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal#logineventtype"},"LoginEventType")),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"msg"),(0,i.kt)("td",{parentName:"tr",align:null},"Callback return msg"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"''"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"data"),(0,i.kt)("td",{parentName:"tr",align:null},"Callback return data"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal#logineventdatatype"},"LoginResType")," ","|"," ",(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal#registerrestype"},"RegisterResType")," ","|"," null"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")))),(0,i.kt)("h3",{id:"loginrestype"},"LoginResType"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"required"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"wallet address"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"didKey"),(0,i.kt)("td",{parentName:"tr",align:null},"didType and didValue collection"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"privateKey"),(0,i.kt)("td",{parentName:"tr",align:null},"master private key of the current user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"publicKey"),(0,i.kt)("td",{parentName:"tr",align:null},"master public key of the current user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"tempPrivateKey"),(0,i.kt)("td",{parentName:"tr",align:null},"temporary private key of the current user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"tempPublicKey"),(0,i.kt)("td",{parentName:"tr",align:null},"temporary public key of the current user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"userid"),(0,i.kt)("td",{parentName:"tr",align:null},"userid of user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"pubkeyExpiredTimestamp"),(0,i.kt)("td",{parentName:"tr",align:null},"Temporary key pair expiration time"),(0,i.kt)("td",{parentName:"tr",align:null},"number"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")))),(0,i.kt)("h3",{id:"logineventtype"},"LoginEventType"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"required"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"LoginEventType"),(0,i.kt)("td",{parentName:"tr",align:null},"event type in handleLoginEvent"),(0,i.kt)("td",{parentName:"tr",align:null},"'login' ","|"," 'auth' ","|"," 'error'"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"-")))),(0,i.kt)("h3",{id:"mainkeystype"},"MainKeysType"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"required"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"privateKey"),(0,i.kt)("td",{parentName:"tr",align:null},"master private key of the current user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"publicKey"),(0,i.kt)("td",{parentName:"tr",align:null},"master public key of the current user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"walletAddress"),(0,i.kt)("td",{parentName:"tr",align:null},"wallet address"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")))),(0,i.kt)("h3",{id:"registerrestype"},"RegisterResType"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"required"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"wallet address"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"privateKey"),(0,i.kt)("td",{parentName:"tr",align:null},"master private key of the current user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"publicKey"),(0,i.kt)("td",{parentName:"tr",align:null},"master public key of the current user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")))),(0,i.kt)("h3",{id:"useraccounttype"},"UserAccountType"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Property"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"required"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"address"),(0,i.kt)("td",{parentName:"tr",align:null},"wallet address"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"userid"),(0,i.kt)("td",{parentName:"tr",align:null},"userid of web3mq user"),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"userExist"),(0,i.kt)("td",{parentName:"tr",align:null},"whether the user is already registered"),(0,i.kt)("td",{parentName:"tr",align:null},"boolean"),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"walletType"),(0,i.kt)("td",{parentName:"tr",align:null},"wallet type"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/docs/Web3MQ-SDK/JS-SDK/types/#wallettype"},"WalletType")),(0,i.kt)("td",{parentName:"tr",align:null},"-"),(0,i.kt)("td",{parentName:"tr",align:null},"true")))))}C.isMDXComponent=!0},3094:function(){},6601:function(){},9214:function(){},5568:function(){}}]);