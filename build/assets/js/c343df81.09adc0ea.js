"use strict";(self.webpackChunkchat_service_api_doc=self.webpackChunkchat_service_api_doc||[]).push([[8889],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),h=c(n),d=i,m=h["".concat(s,".").concat(d)]||h[d]||p[d]||a;return n?r.createElement(m,o(o({ref:t},u),{},{components:n})):r.createElement(m,o({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},9640:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return p}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),o=["components"],l={sidebar_position:1},s="Channel List",c={unversionedId:"Web3MQ-UI-Components/Web3MQ-Swift/ChannelList",id:"Web3MQ-UI-Components/Web3MQ-Swift/ChannelList",title:"Channel List",description:"The\xa0ChannelListViewController\xa0is the UI component used to display a list of channels matching the given query.",source:"@site/docs/Web3MQ-UI-Components/Web3MQ-Swift/ChannelList.md",sourceDirName:"Web3MQ-UI-Components/Web3MQ-Swift",slug:"/Web3MQ-UI-Components/Web3MQ-Swift/ChannelList",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-Swift/ChannelList",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Integration",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-Swift/Integration"}},u={},p=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"<strong>UI Customization</strong>",id:"ui-customization",level:2},{value:"Channel Header",id:"channel-header",level:3},{value:"Channel List Controller",id:"channel-list-controller",level:3},{value:"<strong>Channel List Query</strong>",id:"channel-list-query",level:3},{value:"Filter",id:"filter",level:3},{value:"Sorting",id:"sorting",level:3},{value:"PageSize",id:"pagesize",level:3},{value:"Message Limit",id:"message-limit",level:3}],h={toc:p};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"channel-list"},"Channel List"),(0,a.kt)("p",null,"The\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"ChannelListViewController"),"\xa0is the UI component used to display a list of channels matching the given query."),(0,a.kt)("h2",{id:"basic-usage"},"Basic Usage"),(0,a.kt)("p",null,"The first step to show the channel list screen in your app is to create\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"ChannelListViewController"),"instance:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"// Create a view controller backed by the filter \nlet channelListViewController = ChannelListViewController(filter: Filter)\n")),(0,a.kt)("h2",{id:"ui-customization"},(0,a.kt)("strong",{parentName:"h2"},"UI Customization")),(0,a.kt)("h3",{id:"channel-header"},"Channel Header"),(0,a.kt)("p",null,"The header of the channel can be configured the same way you would configure it on a\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"UIViewControlle"),"\xa0object."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},'class ViewController: ChannelListViewController {\n    /// ...\n\n    override open func setUpAppearance() {\n        super.setUpAppearance()\n        title = "Chats"\n    }\n\n    /// ...\n}\n')),(0,a.kt)("h3",{id:"channel-list-controller"},"Channel List Controller"),(0,a.kt)("p",null,"The channel list component uses the\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"ChannelListController"),"\xa0to fetch the list of channels matching your query and to stay up-to-date with all changes. In the example above you can see that we are passing a\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"ChannelListQuery"),"\xa0object to create the controller. Web3MQ APIs allow you to list channels based on your own query and sort."),(0,a.kt)("h3",{id:"channel-list-query"},(0,a.kt)("strong",{parentName:"h3"},"Channel List Query")),(0,a.kt)("p",null,"The\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"ChannelListQuery"),"\xa0is the structure used for specifiying the query parameters for fetching the list of channels from Web3MQ backend. It has 4 parameters in it's\xa0",(0,a.kt)("inlineCode",{parentName:"p"},"init"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"public init(\n        filter: Filter<ChannelListFilterScope>,\n        sort: [Sorting<ChannelListSortingKey>] = [],\n        pageSize: Int = .channelsPageSize,\n        messagesLimit: Int = .messagesPageSize\n)\n")),(0,a.kt)("p",null,"Let's dive deep into each one.****"),(0,a.kt)("h3",{id:"filter"},"Filter"),(0,a.kt)("p",null,"Filter is the main parameter for a query. You can define different filters to fetch different sets of channels for a user. Examples of some most commonly used filters:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},'// Assume we\'ve already created and configured our ChatClient\n\n// Filter for channels where our user is a member\nlet filter = Filter<ChannelListFilterScope>.containMembers(userIds: [client.currentUserId!])\n\n// Filter for channels where the name starts with "Group"\nlet filter = Filter<ChannelListFilterScope>.autocomplete(.name, text: "Group")\n\n// Compound Filter for channels where team is read and our user is a member\nlet filter = Filter<ChannelListFilterScope>.and([.equal(.team, to: "read"),\n                                                 .containMembers(userIds: [client.currentUserId!])])\n')),(0,a.kt)("h3",{id:"sorting"},"Sorting"),(0,a.kt)("p",null,"Sorting parameter is used to sort the list of channels returned. By default, Channel List will be sorted by their last message date (or channel creation date, if the channel is empty). Most commonly, you don't need to specify any sorting, Web3MQ handles this. If you'd like, you can create custom sortings, such as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-swift"},"// Sorting for always showing most crowded channels first\nlet sorting: [Sorting<ChannelListSortingKey>] = [.init(key: .memberCount, isAscending: true),\n                                                 .init(key: .lastMessageAt, isAscending: true)]\n")),(0,a.kt)("h3",{id:"pagesize"},"PageSize"),(0,a.kt)("p",null,"Page size is used to specify how many channels the initial page will show. You can specify an integer value for advanced usecases. Most commonly, you don't need to touch this."),(0,a.kt)("h3",{id:"message-limit"},"Message Limit"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"messagesLimit"),"\xa0is used to specify how many messages the initial fetch will return."))}d.isMDXComponent=!0}}]);