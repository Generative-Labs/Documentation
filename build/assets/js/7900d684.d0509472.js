(self.webpackChunkchat_service_api_doc=self.webpackChunkchat_service_api_doc||[]).push([[2180],{9951:function(e,t,n){"use strict";n.d(t,{A:function(){return b}});var o=n(7294),a=n(1262),s=n(4184),r=n.n(s),i="code-lineout_cZQd",l="code-box-demo_X7Ez",c="code-box-meta_GVCM",p="code-box-title_sfQs",u="code-box-description_bhuL",m="code-box-actions_vDQF",d="code-box-show-code_Yemp",g="code-icon_AL8q",h="code-icon-hide_dxEg",f="highlight-wrapper_JnmS",C="highlight-wrapper-hide_pcAC",b=function(e){var t=e.title,n=e.description,s=e.code,b=e.children,I=(0,o.useState)(!0),k=I[0],E=I[1];return o.createElement(a.Z,null,(function(){var e,a,I;return o.createElement("div",{className:i},o.createElement("div",{className:l},b),o.createElement("div",{className:c},o.createElement("div",{className:p},t),o.createElement("div",{className:u},n),s&&o.createElement("div",{className:m},o.createElement("span",{className:d},o.createElement("img",{className:r()(g,(e={},e[h]=k,e)),onClick:function(){return E(!k)},src:"https://gw.alipayobjects.com/zos/antfincdn/Z5c7kzvi30/expand.svg",alt:""}),o.createElement("img",{className:r()(g,(a={},a[h]=!k,a)),onClick:function(){return E(!k)},src:"https://gw.alipayobjects.com/zos/antfincdn/4zAaozCvUH/unexpand.svg",alt:""})))),s&&o.createElement("div",{className:r()(f,(I={},I[C]=!k,I))},s))}))}},1086:function(e,t,n){"use strict";var o=n(5861),a=n(7757),s=n.n(a),r=n(7294),i=n(1352);t.Z=function(){var e=(0,r.useMemo)((function(){var e=localStorage.getItem("PRIVATE_KEY")||"",t=localStorage.getItem("PUBLIC_KEY")||"",n=localStorage.getItem("userid")||"";return e&&t&&n?{PrivateKey:e,PublicKey:t,userid:n}:null}),[]),t=(0,r.useState)(e),n=t[0],a=t[1],l=(0,r.useState)(null),c=l[0],p=l[1],u=function(){var e=(0,o.Z)(s().mark((function e(){var t,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("PUBLIC_KEY")||"",n=localStorage.getItem("DID_KEY")||"",e.next=4,i.Client.init({connectUrl:localStorage.getItem("FAST_URL"),app_key:"vAUJTFXbBZRkEDRE",env:"dev",didKey:n,tempPubkey:t});case 4:o=e.sent,localStorage.setItem("FAST_URL",o),p(o);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{keys:n,fastestUrl:c,init:u,logout:function(){localStorage.setItem("PRIVATE_KEY",""),localStorage.setItem("PUBLIC_KEY",""),localStorage.setItem("DID_KEY",""),localStorage.setItem("userid",""),a(null)},handleLoginEvent:function(e){if(e.data){if("login"===e.type){var t=e.data,n=t.privateKey,o=t.publicKey,s=t.tempPrivateKey,r=t.tempPublicKey,i=t.didKey,l=t.userid,c=t.address,p=t.pubkeyExpiredTimestamp;localStorage.setItem("userid",l),localStorage.setItem("PRIVATE_KEY",s),localStorage.setItem("PUBLIC_KEY",r),localStorage.setItem("WALLET_ADDRESS",c),localStorage.setItem("MAIN_PRIVATE_KEY",n),localStorage.setItem("MAIN_PUBLIC_KEY",o),localStorage.setItem("DID_KEY",i),localStorage.setItem("PUBKEY_EXPIRED_TIMESTAMP",String(p)),a({PrivateKey:s,PublicKey:r,userid:l})}if("register"===e.type){var u=e.data,m=u.privateKey,d=u.publicKey,g=u.address;localStorage.setItem("WALLET_ADDRESS",g),localStorage.setItem("MAIN_PRIVATE_KEY",m),localStorage.setItem("MAIN_PUBLIC_KEY",d)}}}}}},1427:function(e,t,n){"use strict";n.r(t),n.d(t,{assets:function(){return I},contentTitle:function(){return C},default:function(){return M},frontMatter:function(){return f},metadata:function(){return b},toc:function(){return k}});var o=n(7462),a=n(3366),s=n(7294),r=n(3905),i=n(9951),l=n(1352),c=n(4137),p=n(1086),u=function(e){e.type;var t=(0,p.Z)(),n=t.keys,o=t.init,a=t.fastestUrl,r=t.logout;if((0,s.useEffect)((function(){o(),document.getElementsByTagName("body")[0].setAttribute("data-theme","light")}),[]),!n)return s.createElement(c.zx,{size:"large",type:"ghost"},s.createElement("a",{href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal#basic-usage",style:{textDecoration:"none"}},"Please login first"));if(!a)return null;var i=l.Client.getInstance(n);return s.createElement("div",{id:"box",style:{position:"relative",border:"1px solid #f2f2f2",width:"100%",height:"600px",overflow:"auto"}},s.createElement(c.en,{containerId:"box",client:i,appType:c.KU.h5,logout:r},s.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},s.createElement(c.GO,null)),s.createElement(c.$W,null,s.createElement(c.Rz,{hasContainer:!0},s.createElement(c.Ng,null),s.createElement(c.rN,null),s.createElement(c.jH,{Input:s.createElement(c.Ru,null)})))))},m=["components"],d={toc:[]};function g(e){var t=e.components,n=(0,a.Z)(e,m);return(0,r.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import React, { useEffect } from 'react';\nimport { Client } from '@web3mq/client';\nimport { \n  AppTypeEnum, \n  Button,\n  Channel, \n  ChannelList, \n  Chat, \n  MessageConsole,\n  MessageHeader, \n  MessageInput, \n  MessageList, \n  Window,\n} from '@web3mq/react-components';\n\nimport useLogin from './hooks/useLogin';\n\nexport const App: React.FC = () => {\n  const { keys, init, fastestUrl, logout } = useLogin();\n  \n  useEffect(() => {\n    init();\n    document.body.setAttribute('data-theme', 'light');\n  }, [])\n\n  if (!keys) {\n    return (\n      <LoginModal \n        appType={appType}\n        handleLoginEvent={handleLoginEvent}\n        loginBtnNode={<Button size='large' type='ghost'>Login</Button>}\n      />\n    )\n  }\n  if (!fastestUrl) {\n    return null;\n  }\n\n  const client = Client.getInstance(keys);\n\n  return (\n    <div id='box' style={{position: 'relative', width: '100%',overflow: 'auto'}}>\n      <Chat containerId='box' client={client} appType={AppTypeEnum['h5']} logout={logout}>\n        <ChannelList />\n        <Channel>\n          <Window hasContainer>\n            <MessageHeader />\n            <MessageList />\n            <MessageConsole Input={<MessageInput />}/>\n          </Window>\n        </Channel>\n      </Chat>\n    </div>\n  );\n};\n")))}g.isMDXComponent=!0;var h=["components"],f={sidebar_position:7},C="MessageConsole",b={unversionedId:"Web3MQ-UI-Components/Web3MQ-React/chatComponent/MessageConsole",id:"Web3MQ-UI-Components/Web3MQ-React/chatComponent/MessageConsole",title:"MessageConsole",description:"MessageConsole is essentially a functional component that works with user permissions. It renders the content of input or operation based on the permissions of both users in the current chat, if both permissions are passed, render the input content; if permissions are not passed show the operation content for sending friend request and follow operation.And can only be used in the chat component.",source:"@site/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/MessageConsole.md",sourceDirName:"Web3MQ-UI-Components/Web3MQ-React/chatComponent",slug:"/Web3MQ-UI-Components/Web3MQ-React/chatComponent/MessageConsole",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/MessageConsole",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"MessageInput",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/MessageInput"},next:{title:"NotificationList",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/NotificationList"}},I={},k=[{value:"When To Use",id:"when-to-use",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"API",id:"api",level:2},{value:"MessageConsole",id:"messageconsole-1",level:3}],E={toc:k};function M(e){var t=e.components,n=(0,a.Z)(e,h);return(0,r.kt)("wrapper",(0,o.Z)({},E,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"messageconsole"},"MessageConsole"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"MessageConsole")," is essentially a functional component that works with user permissions. It renders the content of input or operation based on the permissions of both users in the current chat, if both permissions are passed, render the input content; if permissions are not passed show the operation content for sending friend request and follow operation.And can only be used in the ",(0,r.kt)("inlineCode",{parentName:"p"},"chat")," component."),(0,r.kt)("h2",{id:"when-to-use"},"When To Use"),(0,r.kt)("p",null,"When your chat partner turns on user permissions and needs to be ",(0,r.kt)("inlineCode",{parentName:"p"},"contact")," to chat, then ",(0,r.kt)("inlineCode",{parentName:"p"},"MessageInput")," can't meet the needs of the scenario.This requires ",(0,r.kt)("inlineCode",{parentName:"p"},"MessageConsole")),(0,r.kt)("h2",{id:"basic-usage"},"Basic Usage"),(0,r.kt)("p",null,"In the ",(0,r.kt)("inlineCode",{parentName:"p"},"MessageConsole")," component, the user can customize the application of the component to scenarios where chat is possible or not, using the ",(0,r.kt)("inlineCode",{parentName:"p"},"Input")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"OperateContainer")," props."),(0,r.kt)(i.A,{title:"Example",description:"This is the MessageConsole example",code:(0,r.kt)(g,{mdxType:"MessageConsoleMdx"}),mdxType:"Layout"},(0,r.kt)(u,{mdxType:"MessageConsoleExample"})),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("h3",{id:"messageconsole-1"},"MessageConsole"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"The properties of the MessageConsole are described as follows:")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"required"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Input"),(0,r.kt)("td",{parentName:"tr",align:null},"set the custom Input Node"),(0,r.kt)("td",{parentName:"tr",align:null},"React.ReactNode"),(0,r.kt)("td",{parentName:"tr",align:null},"-"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"OperateContainer"),(0,r.kt)("td",{parentName:"tr",align:null},"set the custom Operate component"),(0,r.kt)("td",{parentName:"tr",align:null},"React.ComponentType"),(0,r.kt)("td",{parentName:"tr",align:null},"-"),(0,r.kt)("td",{parentName:"tr",align:null},"false")))))}M.isMDXComponent=!0},3094:function(){},6601:function(){},9214:function(){},5568:function(){}}]);