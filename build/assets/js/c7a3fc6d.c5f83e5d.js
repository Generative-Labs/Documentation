(self.webpackChunkchat_service_api_doc=self.webpackChunkchat_service_api_doc||[]).push([[640],{9951:function(e,t,n){"use strict";n.d(t,{A:function(){return E}});var a=n(7294),o=n(1262),i=n(4184),r=n.n(i),l="code-lineout_cZQd",s="code-box-demo_X7Ez",c="code-box-meta_GVCM",p="code-box-title_sfQs",d="code-box-description_bhuL",m="code-box-actions_vDQF",u="code-box-show-code_Yemp",h="code-icon_AL8q",C="code-icon-hide_dxEg",g="highlight-wrapper_JnmS",f="highlight-wrapper-hide_pcAC",E=function(e){var t=e.title,n=e.description,i=e.code,E=e.children,v=(0,a.useState)(!0),b=v[0],y=v[1];return a.createElement(o.Z,null,(function(){var e,o,v;return a.createElement("div",{className:l},a.createElement("div",{className:s},E),a.createElement("div",{className:c},a.createElement("div",{className:p},t),a.createElement("div",{className:d},n),i&&a.createElement("div",{className:m},a.createElement("span",{className:u},a.createElement("img",{className:r()(h,(e={},e[C]=b,e)),onClick:function(){return y(!b)},src:"https://gw.alipayobjects.com/zos/antfincdn/Z5c7kzvi30/expand.svg",alt:""}),a.createElement("img",{className:r()(h,(o={},o[C]=!b,o)),onClick:function(){return y(!b)},src:"https://gw.alipayobjects.com/zos/antfincdn/4zAaozCvUH/unexpand.svg",alt:""})))),i&&a.createElement("div",{className:r()(g,(v={},v[f]=!b,v))},i))}))}},1086:function(e,t,n){"use strict";var a=n(5861),o=n(7757),i=n.n(o),r=n(7294),l=n(1352);t.Z=function(){var e=(0,r.useMemo)((function(){var e=localStorage.getItem("PRIVATE_KEY")||"",t=localStorage.getItem("PUBLIC_KEY")||"",n=localStorage.getItem("userid")||"";return e&&t&&n?{PrivateKey:e,PublicKey:t,userid:n}:null}),[]),t=(0,r.useState)(e),n=t[0],o=t[1],s=(0,r.useState)(null),c=s[0],p=s[1],d=function(){var e=(0,a.Z)(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("PUBLIC_KEY")||"",n=localStorage.getItem("DID_KEY")||"",e.next=4,l.Client.init({connectUrl:localStorage.getItem("FAST_URL"),app_key:"vAUJTFXbBZRkEDRE",env:"dev",didKey:n,tempPubkey:t});case 4:a=e.sent,localStorage.setItem("FAST_URL",a),p(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{keys:n,fastestUrl:c,init:d,logout:function(){localStorage.setItem("PRIVATE_KEY",""),localStorage.setItem("PUBLIC_KEY",""),localStorage.setItem("DID_KEY",""),localStorage.setItem("userid",""),o(null)},handleLoginEvent:function(e){if(e.data){if("login"===e.type){var t=e.data,n=t.privateKey,a=t.publicKey,i=t.tempPrivateKey,r=t.tempPublicKey,l=t.didKey,s=t.userid,c=t.address,p=t.pubkeyExpiredTimestamp;localStorage.setItem("userid",s),localStorage.setItem("PRIVATE_KEY",i),localStorage.setItem("PUBLIC_KEY",r),localStorage.setItem("WALLET_ADDRESS",c),localStorage.setItem("MAIN_PRIVATE_KEY",n),localStorage.setItem("MAIN_PUBLIC_KEY",a),localStorage.setItem("DID_KEY",l),localStorage.setItem("PUBKEY_EXPIRED_TIMESTAMP",String(p)),o({PrivateKey:i,PublicKey:r,userid:s})}if("register"===e.type){var d=e.data,m=d.privateKey,u=d.publicKey,h=d.address;localStorage.setItem("WALLET_ADDRESS",h),localStorage.setItem("MAIN_PRIVATE_KEY",m),localStorage.setItem("MAIN_PUBLIC_KEY",u)}}}}}},4863:function(e,t,n){"use strict";n.r(t),n.d(t,{assets:function(){return v},contentTitle:function(){return f},default:function(){return I},frontMatter:function(){return g},metadata:function(){return E},toc:function(){return b}});var a=n(7462),o=n(3366),i=n(7294),r=n(3905),l=n(9951),s=n(1352),c=n(4137),p=n(1086),d=function(e){var t=(0,p.Z)(),n=t.keys,a=t.init,o=t.fastestUrl,r=t.logout;if((0,i.useEffect)((function(){a(),document.getElementsByTagName("body")[0].setAttribute("data-theme","light")}),[]),!n)return i.createElement(c.zx,{size:"large",type:"ghost"},i.createElement("a",{href:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/LoginModal#basic-usage",style:{textDecoration:"none"}},"Please login first"));if(!o)return null;var l=s.Client.getInstance(n);return i.createElement("div",{id:"box",style:{position:"relative",border:"1px solid #f2f2f2",minWidth:"375px",width:"100%",height:"600px",overflow:"auto"}},i.createElement(c.en,{containerId:"box",client:l,appType:c.KU.h5,logout:r},i.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},i.createElement("div",{style:{position:"relative",display:"flex",padding:"4px 15px",boxShadow:"0 4px 4px silver",fontWeight:"800"}},"ChannelList",i.createElement(c.bt,null)),i.createElement(c.GO,null),i.createElement("div",{style:{display:"none"}},i.createElement(c.CR,null)))))},m=["components"],u={toc:[]};function h(e){var t=e.components,n=(0,o.Z)(e,m);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"import React, { useEffect } from 'react';\nimport { Client } from '@web3mq/client';\nimport { AppTypeEnum, Chat, CreateChannel, ChannelList, ContactList, Button, LoginModal } from '@web3mq/react-components';\n\nimport useLogin from './hooks/useLogin';\n\nexport const CreateChannelExample: React.FC = () => {\n  const { keys, fastestUrl, init, logout, handleLoginEvent } = useLogin();\n  \n  useEffect(() => {\n    init();\n    document.body.setAttribute('data-theme', 'light');\n  }, [])\n\n  if (!keys) {\n    return (\n      <LoginModal \n        appType={AppTypeEnum.pc}\n        containerId=''\n        handleLoginEvent={handleLoginEvent}\n        loginBtnNode={<Button size='large' type='ghost'>login</Button>}\n      />\n    );\n  }\n  if (!fastestUrl) {\n    return null;\n  }\n\n  const client = Client.getInstance(keys);\n\n  return (\n    <div id='box' style={{position: 'relative'}}>\n      <Chat containerId='box' client={client} appType={AppTypeEnum['h5']} logout={logout}>\n        <div style={{height: '100%', display: 'flex', flexDirection: 'column'}}>\n          <div style={{position: 'relative', display: 'flex', padding: '4px 15px', boxShadow: '0 4px 4px silver', fontWeight: '800'}}>\n            ChannelList\n            <CreateChannel />\n          </div> \n          <ChannelList />\n        </div>\n      </Chat>\n    </div>\n  );\n};\n")))}h.isMDXComponent=!0;var C=["components"],g={sidebar_position:1},f="CreateChannel",E={unversionedId:"Web3MQ-UI-Components/Web3MQ-React/chatComponent/CreateChannel",id:"Web3MQ-UI-Components/Web3MQ-React/chatComponent/CreateChannel",title:"CreateChannel",description:"CreateChannel is a set of features and UI components for sending friends and creating chat rooms, it needs to get the client property through useChatContext and cannot be used alone outside the Chat component.",source:"@site/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/CreateChannel.md",sourceDirName:"Web3MQ-UI-Components/Web3MQ-React/chatComponent",slug:"/Web3MQ-UI-Components/Web3MQ-React/chatComponent/CreateChannel",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/CreateChannel",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Chat",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/Chat"},next:{title:"Channel List",permalink:"/docs/Web3MQ-UI-Components/Web3MQ-React/chatComponent/ChannelList"}},v={},b=[{value:"Basic Usage",id:"basic-usage",level:2}],y={toc:b};function I(e){var t=e.components,n=(0,o.Z)(e,C);return(0,r.kt)("wrapper",(0,a.Z)({},y,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"createchannel"},"CreateChannel"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"CreateChannel")," is a set of features and UI components for sending friends and creating chat rooms, it needs to get the ",(0,r.kt)("inlineCode",{parentName:"p"},"client")," property through ",(0,r.kt)("inlineCode",{parentName:"p"},"useChatContext")," and cannot be used alone outside the ",(0,r.kt)("inlineCode",{parentName:"p"},"Chat")," component."),(0,r.kt)("h2",{id:"basic-usage"},"Basic Usage"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"CreateChannel")," made up of a button and modal, the button part control modal display and hidden, and the modal show the function part of sending friend request and creating room. When you successfully create a channel room, the ",(0,r.kt)("inlineCode",{parentName:"p"},"ChannelList")," will add it; This component does not need to pass any props."),(0,r.kt)(l.A,{title:"Example",description:"This is the CreateChannel example",code:(0,r.kt)(h,{mdxType:"CreateChannelMdx"}),mdxType:"Layout"},(0,r.kt)(d,{mdxType:"CreateChannelExample"})))}I.isMDXComponent=!0},3094:function(){},6601:function(){},9214:function(){},5568:function(){}}]);