---
sidebar_position: 1
---

# User Login
___
## Get User's Random Login Secret
> /login_random_secret

The content of the `use_rname` depends on the value of the `paltform`.

> JWT: No

> Call Method: POST

| Parameters | Type | Required |  Parameters Description|
| ----------|----- | ------------- |--------|
| platform |string | Yes  | the platform where user come from, it will affect the type of account verification.  |
| user_name |string | Yes  | the content of the `use_rname` depends on the value of the `paltform`. |


| Platforms |
|-------|
|twitter|
|instagram|
|facebook|
|discord|
|opensea|



> Return:

```json
{
    "code":0,
    "msg": "Here's your login random secret.",
    "data":"b1e069cab9827c08700280b6ed1151fe"
}
```

| Parameters | Type | Always Return |  Parameters Description|
| -----------|---- | ------------- |--------|
| code |int | Yes  |  result code,0 means success, other code see msg's contents  |
| msg |string | Yes  | result description   |
| data |string | Yes  | return random login secret if code is 0, otherwise return None |

___

## Login with MetaMask sign
> /login

> JWT: No

> Call Method: POST

| Parameters | Type | Required |  Parameters Description|
| ----------|----- | ------------- |--------|
| login_random_secret|string  | Yes  |  User's login random secret, get it from the previous step  |
| signature |string | Yes  |  Generated by MetaMask-Sign with user's random login secret  |
| wallet_address |string | Yes  |  User's ETH wallet address, get it by MetaMask's API  |

> Return:

```json
{
    "code": 0,
    "msg": "Here's your JWT.",
    "data": {
        "access_token": "your access token",
        "user_info": {
            "user_id": "user's OID",
            "nick_name": "user's nick_name",
            "twitter_username": "user's twitter_username",
            "twitter_avatar": "user's twitter_avatar",
            "instagram_username": "user's instagram_username",
            "instagram_avatar": "user's instagram_avatar",
            "facebook_username": "user's facebook_username",
            "facebook_avatar": "user's facebook_avatar",
            "discord_username": "user's discord_username",
            "discord_avatar": "user's discord_avatar",
            "opensea_username": "user's opensea_username",
            "opensea_avatar": "user's opensea_avatar",
            "eth_wallet_address": "user's eth_wallet_address",
            "ens_name": "user's ens_name",
            "status": "user's status",
            "created_at": "the timestamp when user created"
        }
    }
}
```

| Parameters | Type | Always Return |  Parameters Description|
| ----------|---- | ------------- |--------|
| code |int  | Yes  |  result code,0 means success, other code see msg's contents  |
| msg |string | Yes  | result description   |
| data |map | Yes  | return Map if code is 0, otherwise return None |
| -access_token |string | No  | return access_token if code is 0, otherwise return None, will expired after 7 days |
| -user_info|object|No| **User** object, see [User](/docs/Web3MQ-RESTFul-API/User/)|


## Refresh JWT
> GET /refresh

> JWT: Yes


*http header*

| Headers | Required |  Headers Description|
| ------------- | ------------- |--------|
| Authorization  | Yes  |  [login api](/docs/Web3MQ-RESTFul-API/User/user-login#login-with-metamask-sign) response "access_token" |

*example*

```
Authorization: Bearer (your access token from login api)
```

| Parameters  | Required |  Parameters Description|
| ------------- | ------------- |--------|


> Return:

```json
{
    "code": 0,
    "msg": "Here's your JWT.",
    "data": {
        "access_token": "your access token"
    }
}
```

| Parameters | Type | Always Return |  Parameters Description|
| ----------|----- | ------------- |--------|
| code |int | Yes  |  result code,0 means success, other code see msg's contents  |
| msg |string | Yes  | result description   |
| data |map | Yes  | return random login secret if code is 0, otherwise return None |
| -access_token|string  | No  | return access_token if code is 0, otherwise return None |
